var Fp=t=>{throw TypeError(t)};var yd=(t,s,r)=>s.has(t)||Fp("Cannot "+r);var $=(t,s,r)=>(yd(t,s,"read from private field"),r?r.call(t):s.get(t)),fe=(t,s,r)=>s.has(t)?Fp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),he=(t,s,r,n)=>(yd(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),ke=(t,s,r)=>(yd(t,s,"access private method"),r);var Qi=(t,s,r,n)=>({set _(a){he(t,s,a,r)},get _(){return $(t,s,n)}});function h_(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function O0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L0={exports:{}},Lc={},M0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=Symbol.for("react.element"),p_=Symbol.for("react.portal"),x_=Symbol.for("react.fragment"),f_=Symbol.for("react.strict_mode"),g_=Symbol.for("react.profiler"),y_=Symbol.for("react.provider"),b_=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),j_=Symbol.for("react.suspense"),__=Symbol.for("react.memo"),N_=Symbol.for("react.lazy"),Op=Symbol.iterator;function w_(t){return t===null||typeof t!="object"?null:(t=Op&&t[Op]||t["@@iterator"],typeof t=="function"?t:null)}var D0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,$0={};function pl(t,s,r){this.props=t,this.context=s,this.refs=$0,this.updater=r||D0}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q0(){}q0.prototype=pl.prototype;function th(t,s,r){this.props=t,this.context=s,this.refs=$0,this.updater=r||D0}var sh=th.prototype=new q0;sh.constructor=th;I0(sh,pl.prototype);sh.isPureReactComponent=!0;var Lp=Array.isArray,z0=Object.prototype.hasOwnProperty,rh={current:null},B0={key:!0,ref:!0,__self:!0,__source:!0};function U0(t,s,r){var n,a={},l=null,i=null;if(s!=null)for(n in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)z0.call(s,n)&&!B0.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Di,type:t,key:l,ref:i,props:a,_owner:rh.current}}function k_(t,s){return{$$typeof:Di,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function nh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Di}function C_(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Mp=/\/+/g;function bd(t,s){return typeof t=="object"&&t!==null&&t.key!=null?C_(""+t.key):s.toString(36)}function wo(t,s,r,n,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Di:case p_:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+bd(i,0):n,Lp(a)?(r="",t!=null&&(r=t.replace(Mp,"$&/")+"/"),wo(a,s,r,"",function(d){return d})):a!=null&&(nh(a)&&(a=k_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Mp,"$&/")+"/")+t)),s.push(a)),1;if(i=0,n=n===""?".":n+":",Lp(t))for(var o=0;o<t.length;o++){l=t[o];var c=n+bd(l,o);i+=wo(l,s,r,c,a)}else if(c=w_(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=n+bd(l,o++),i+=wo(l,s,r,c,a);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function Gi(t,s,r){if(t==null)return t;var n=[],a=0;return wo(t,n,"","",function(l){return s.call(r,l,a++)}),n}function S_(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},ko={transition:null},E_={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:ko,ReactCurrentOwner:rh};function V0(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Gi,forEach:function(t,s,r){Gi(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Gi(t,function(){s++}),s},toArray:function(t){return Gi(t,function(s){return s})||[]},only:function(t){if(!nh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=pl;Se.Fragment=x_;Se.Profiler=g_;Se.PureComponent=th;Se.StrictMode=f_;Se.Suspense=j_;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E_;Se.act=V0;Se.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=I0({},t.props),a=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=rh.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)z0.call(s,c)&&!B0.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Di,type:t.type,key:a,ref:l,props:n,_owner:i}};Se.createContext=function(t){return t={$$typeof:b_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y_,_context:t},t.Consumer=t};Se.createElement=U0;Se.createFactory=function(t){var s=U0.bind(null,t);return s.type=t,s};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:v_,render:t}};Se.isValidElement=nh;Se.lazy=function(t){return{$$typeof:N_,_payload:{_status:-1,_result:t},_init:S_}};Se.memo=function(t,s){return{$$typeof:__,type:t,compare:s===void 0?null:s}};Se.startTransition=function(t){var s=ko.transition;ko.transition={};try{t()}finally{ko.transition=s}};Se.unstable_act=V0;Se.useCallback=function(t,s){return Dt.current.useCallback(t,s)};Se.useContext=function(t){return Dt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};Se.useEffect=function(t,s){return Dt.current.useEffect(t,s)};Se.useId=function(){return Dt.current.useId()};Se.useImperativeHandle=function(t,s,r){return Dt.current.useImperativeHandle(t,s,r)};Se.useInsertionEffect=function(t,s){return Dt.current.useInsertionEffect(t,s)};Se.useLayoutEffect=function(t,s){return Dt.current.useLayoutEffect(t,s)};Se.useMemo=function(t,s){return Dt.current.useMemo(t,s)};Se.useReducer=function(t,s,r){return Dt.current.useReducer(t,s,r)};Se.useRef=function(t){return Dt.current.useRef(t)};Se.useState=function(t){return Dt.current.useState(t)};Se.useSyncExternalStore=function(t,s,r){return Dt.current.useSyncExternalStore(t,s,r)};Se.useTransition=function(){return Dt.current.useTransition()};Se.version="18.3.1";M0.exports=Se;var h=M0.exports;const Ot=O0(h),Mc=h_({__proto__:null,default:Ot},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_=h,R_=Symbol.for("react.element"),A_=Symbol.for("react.fragment"),T_=Object.prototype.hasOwnProperty,F_=P_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O_={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,s,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)T_.call(s,n)&&!O_.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:R_,type:t,key:l,ref:i,props:a,_owner:F_.current}}Lc.Fragment=A_;Lc.jsx=H0;Lc.jsxs=H0;L0.exports=Lc;var e=L0.exports,W0={exports:{}},as={},K0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(w,M){var W=w.length;w.push(M);e:for(;0<W;){var G=W-1>>>1,U=w[G];if(0<a(U,M))w[G]=M,w[W]=U,W=G;else break e}}function r(w){return w.length===0?null:w[0]}function n(w){if(w.length===0)return null;var M=w[0],W=w.pop();if(W!==M){w[0]=W;e:for(var G=0,U=w.length,ae=U>>>1;G<ae;){var Y=2*(G+1)-1,N=w[Y],V=Y+1,J=w[V];if(0>a(N,W))V<U&&0>a(J,N)?(w[G]=J,w[V]=W,G=V):(w[G]=N,w[Y]=W,G=Y);else if(V<U&&0>a(J,W))w[G]=J,w[V]=W,G=V;else break e}}return M}function a(w,M){var W=w.sortIndex-M.sortIndex;return W!==0?W:w.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],m=1,u=null,p=3,v=!1,b=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(w){for(var M=r(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=w)n(d),M.sortIndex=M.expirationTime,s(c,M);else break;M=r(d)}}function _(w){if(x=!1,j(w),!b)if(r(c)!==null)b=!0,B(S);else{var M=r(d);M!==null&&F(_,M.startTime-w)}}function S(w,M){b=!1,x&&(x=!1,f(T),T=-1),v=!0;var W=p;try{for(j(M),u=r(c);u!==null&&(!(u.expirationTime>M)||w&&!H());){var G=u.callback;if(typeof G=="function"){u.callback=null,p=u.priorityLevel;var U=G(u.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?u.callback=U:u===r(c)&&n(c),j(M)}else n(c);u=r(c)}if(u!==null)var ae=!0;else{var Y=r(d);Y!==null&&F(_,Y.startTime-M),ae=!1}return ae}finally{u=null,p=W,v=!1}}var O=!1,E=null,T=-1,C=5,R=-1;function H(){return!(t.unstable_now()-R<C)}function I(){if(E!==null){var w=t.unstable_now();R=w;var M=!0;try{M=E(!0,w)}finally{M?ee():(O=!1,E=null)}}else O=!1}var ee;if(typeof g=="function")ee=function(){g(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Q=P.port2;P.port1.onmessage=I,ee=function(){Q.postMessage(null)}}else ee=function(){y(I,0)};function B(w){E=w,O||(O=!0,ee())}function F(w,M){T=y(function(){w(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(w){w.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,B(S))},t.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<w?Math.floor(1e3/w):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(w){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var W=p;p=M;try{return w()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(w,M){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var W=p;p=w;try{return M()}finally{p=W}},t.unstable_scheduleCallback=function(w,M,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,w){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=W+U,w={id:m++,callback:M,priorityLevel:w,startTime:W,expirationTime:U,sortIndex:-1},W>G?(w.sortIndex=W,s(d,w),r(c)===null&&w===r(d)&&(x?(f(T),T=-1):x=!0,F(_,W-G))):(w.sortIndex=U,s(c,w),b||v||(b=!0,B(S))),w},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(w){var M=p;return function(){var W=p;p=M;try{return w.apply(this,arguments)}finally{p=W}}}})(Q0);K0.exports=Q0;var L_=K0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_=h,ns=L_;function ce(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G0=new Set,ci={};function da(t,s){el(t,s),el(t+"Capture",s)}function el(t,s){for(ci[t]=s,t=0;t<s.length;t++)G0.add(s[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=Object.prototype.hasOwnProperty,D_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dp={},Ip={};function I_(t){return yu.call(Ip,t)?!0:yu.call(Dp,t)?!1:D_.test(t)?Ip[t]=!0:(Dp[t]=!0,!1)}function $_(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q_(t,s,r,n){if(s===null||typeof s>"u"||$_(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function It(t,s,r,n,a,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];jt[s]=new It(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var ah=/[\-:]([a-z])/g;function lh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(ah,lh);jt[s]=new It(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(ah,lh);jt[s]=new It(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(ah,lh);jt[s]=new It(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function ih(t,s,r,n){var a=jt.hasOwnProperty(s)?jt[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(q_(s,r,a,n)&&(r=null),n||a===null?I_(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var Er=M_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),ya=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),bu=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),vu=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),X0=Symbol.for("react.offscreen"),$p=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=$p&&t[$p]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,vd;function Hl(t){if(vd===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);vd=s&&s[1]||""}return`
`+vd+t}var jd=!1;function _d(t,s){if(!t||jd)return"";jd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{jd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hl(t):""}function z_(t){switch(t.tag){case 5:return Hl(t.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return t=_d(t.type,!1),t;case 11:return t=_d(t.type.render,!1),t;case 1:return t=_d(t.type,!0),t;default:return""}}function _u(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ba:return"Fragment";case ya:return"Portal";case bu:return"Profiler";case oh:return"StrictMode";case vu:return"Suspense";case ju:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J0:return(t.displayName||"Context")+".Consumer";case Y0:return(t._context.displayName||"Context")+".Provider";case ch:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dh:return s=t.displayName||null,s!==null?s:_u(t.type)||"Memo";case qr:s=t._payload,t=t._init;try{return _u(t(s))}catch{}}return null}function B_(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _u(s);case 8:return s===oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z0(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function U_(t){var s=Z0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ji(t){t._valueTracker||(t._valueTracker=U_(t))}function eg(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=Z0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function Jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nu(t,s){var r=s.checked;return Ye({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qp(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=gn(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function tg(t,s){s=s.checked,s!=null&&ih(t,"checked",s,!1)}function wu(t,s){tg(t,s);var r=gn(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ku(t,s.type,r):s.hasOwnProperty("defaultValue")&&ku(t,s.type,gn(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function zp(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ku(t,s,r){(s!=="number"||Jo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wl=Array.isArray;function Aa(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gn(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Cu(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Ye({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bp(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ce(92));if(Wl(r)){if(1<r.length)throw Error(ce(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:gn(r)}}function sg(t,s){var r=gn(s.value),n=gn(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Up(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function rg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?rg(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xi,ng=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Xi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function di(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V_=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){V_.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),ei[s]=ei[t]})});function ag(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||ei.hasOwnProperty(t)&&ei[t]?(""+s).trim():s+"px"}function lg(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ag(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var H_=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(t,s){if(s){if(H_[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ce(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ce(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ce(62))}}function Pu(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function uh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Au=null,Ta=null,Fa=null;function Vp(t){if(t=qi(t)){if(typeof Au!="function")throw Error(ce(280));var s=t.stateNode;s&&(s=zc(s),Au(t.stateNode,t.type,s))}}function ig(t){Ta?Fa?Fa.push(t):Fa=[t]:Ta=t}function og(){if(Ta){var t=Ta,s=Fa;if(Fa=Ta=null,Vp(t),s)for(t=0;t<s.length;t++)Vp(s[t])}}function cg(t,s){return t(s)}function dg(){}var Nd=!1;function ug(t,s,r){if(Nd)return t(s,r);Nd=!0;try{return cg(t,s,r)}finally{Nd=!1,(Ta!==null||Fa!==null)&&(dg(),og())}}function ui(t,s){var r=t.stateNode;if(r===null)return null;var n=zc(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,s,typeof r));return r}var Tu=!1;if(br)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Tu=!1}function W_(t,s,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(m){this.onError(m)}}var ti=!1,Xo=null,Zo=!1,Fu=null,K_={onError:function(t){ti=!0,Xo=t}};function Q_(t,s,r,n,a,l,i,o,c){ti=!1,Xo=null,W_.apply(K_,arguments)}function G_(t,s,r,n,a,l,i,o,c){if(Q_.apply(this,arguments),ti){if(ti){var d=Xo;ti=!1,Xo=null}else throw Error(ce(198));Zo||(Zo=!0,Fu=d)}}function ua(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function mg(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Hp(t){if(ua(t)!==t)throw Error(ce(188))}function Y_(t){var s=t.alternate;if(!s){if(s=ua(t),s===null)throw Error(ce(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Hp(a),t;if(l===n)return Hp(a),s;l=l.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:s}function hg(t){return t=Y_(t),t!==null?pg(t):null}function pg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=pg(t);if(s!==null)return s;t=t.sibling}return null}var xg=ns.unstable_scheduleCallback,Wp=ns.unstable_cancelCallback,J_=ns.unstable_shouldYield,X_=ns.unstable_requestPaint,et=ns.unstable_now,Z_=ns.unstable_getCurrentPriorityLevel,mh=ns.unstable_ImmediatePriority,fg=ns.unstable_UserBlockingPriority,ec=ns.unstable_NormalPriority,eN=ns.unstable_LowPriority,gg=ns.unstable_IdlePriority,Dc=null,Qs=null;function tN(t){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(Dc,t,void 0,(t.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:nN,sN=Math.log,rN=Math.LN2;function nN(t){return t>>>=0,t===0?32:31-(sN(t)/rN|0)|0}var Zi=64,eo=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tc(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Kl(o):(l&=i,l!==0&&(n=Kl(l)))}else i=r&~a,i!==0?n=Kl(i):l!==0&&(n=Kl(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-Rs(s),a=1<<r,n|=t[r],s&=~a;return n}function aN(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lN(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-Rs(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=aN(o,s)):c<=s&&(t.expiredLanes|=o),l&=~o}}function Ou(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yg(){var t=Zi;return Zi<<=1,!(Zi&4194240)&&(Zi=64),t}function wd(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Ii(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Rs(s),t[s]=r}function iN(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Rs(r),l=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~l}}function hh(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-Rs(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var Me=0;function bg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vg,ph,jg,_g,Ng,Lu=!1,to=[],nn=null,an=null,ln=null,mi=new Map,hi=new Map,Br=[],oN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(t,s){switch(t){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":mi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(s.pointerId)}}function Ol(t,s,r,n,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},s!==null&&(s=qi(s),s!==null&&ph(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function cN(t,s,r,n,a){switch(s){case"focusin":return nn=Ol(nn,t,s,r,n,a),!0;case"dragenter":return an=Ol(an,t,s,r,n,a),!0;case"mouseover":return ln=Ol(ln,t,s,r,n,a),!0;case"pointerover":var l=a.pointerId;return mi.set(l,Ol(mi.get(l)||null,t,s,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,hi.set(l,Ol(hi.get(l)||null,t,s,r,n,a)),!0}return!1}function wg(t){var s=An(t.target);if(s!==null){var r=ua(s);if(r!==null){if(s=r.tag,s===13){if(s=mg(r),s!==null){t.blockedOn=s,Ng(t.priority,function(){jg(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Mu(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ru=n,r.target.dispatchEvent(n),Ru=null}else return s=qi(r),s!==null&&ph(s),t.blockedOn=r,!1;s.shift()}return!0}function Qp(t,s,r){Co(t)&&r.delete(s)}function dN(){Lu=!1,nn!==null&&Co(nn)&&(nn=null),an!==null&&Co(an)&&(an=null),ln!==null&&Co(ln)&&(ln=null),mi.forEach(Qp),hi.forEach(Qp)}function Ll(t,s){t.blockedOn===s&&(t.blockedOn=null,Lu||(Lu=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,dN)))}function pi(t){function s(a){return Ll(a,t)}if(0<to.length){Ll(to[0],t);for(var r=1;r<to.length;r++){var n=to[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nn!==null&&Ll(nn,t),an!==null&&Ll(an,t),ln!==null&&Ll(ln,t),mi.forEach(s),hi.forEach(s),r=0;r<Br.length;r++)n=Br[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Br.length&&(r=Br[0],r.blockedOn===null);)wg(r),r.blockedOn===null&&Br.shift()}var Oa=Er.ReactCurrentBatchConfig,sc=!0;function uN(t,s,r,n){var a=Me,l=Oa.transition;Oa.transition=null;try{Me=1,xh(t,s,r,n)}finally{Me=a,Oa.transition=l}}function mN(t,s,r,n){var a=Me,l=Oa.transition;Oa.transition=null;try{Me=4,xh(t,s,r,n)}finally{Me=a,Oa.transition=l}}function xh(t,s,r,n){if(sc){var a=Mu(t,s,r,n);if(a===null)Od(t,s,n,rc,r),Kp(t,n);else if(cN(a,t,s,r,n))n.stopPropagation();else if(Kp(t,n),s&4&&-1<oN.indexOf(t)){for(;a!==null;){var l=qi(a);if(l!==null&&vg(l),l=Mu(t,s,r,n),l===null&&Od(t,s,n,rc,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Od(t,s,n,null,r)}}var rc=null;function Mu(t,s,r,n){if(rc=null,t=uh(n),t=An(t),t!==null)if(s=ua(t),s===null)t=null;else if(r=s.tag,r===13){if(t=mg(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return rc=t,null}function kg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z_()){case mh:return 1;case fg:return 4;case ec:case eN:return 16;case gg:return 536870912;default:return 16}default:return 16}}var Zr=null,fh=null,So=null;function Cg(){if(So)return So;var t,s=fh,r=s.length,n,a="value"in Zr?Zr.value:Zr.textContent,l=a.length;for(t=0;t<r&&s[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&s[r-n]===a[l-n];n++);return So=a.slice(t,1<n?1-n:void 0)}function Eo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function Gp(){return!1}function ls(t){function s(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?so:Gp,this.isPropagationStopped=Gp,this}return Ye(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),s}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gh=ls(xl),$i=Ye({},xl,{view:0,detail:0}),hN=ls($i),kd,Cd,Ml,Ic=Ye({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(kd=t.screenX-Ml.screenX,Cd=t.screenY-Ml.screenY):Cd=kd=0,Ml=t),kd)},movementY:function(t){return"movementY"in t?t.movementY:Cd}}),Yp=ls(Ic),pN=Ye({},Ic,{dataTransfer:0}),xN=ls(pN),fN=Ye({},$i,{relatedTarget:0}),Sd=ls(fN),gN=Ye({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),yN=ls(gN),bN=Ye({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vN=ls(bN),jN=Ye({},xl,{data:0}),Jp=ls(jN),_N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kN(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=wN[t])?!!s[t]:!1}function yh(){return kN}var CN=Ye({},$i,{key:function(t){if(t.key){var s=_N[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(t){return t.type==="keypress"?Eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SN=ls(CN),EN=Ye({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xp=ls(EN),PN=Ye({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),RN=ls(PN),AN=Ye({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),TN=ls(AN),FN=Ye({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ON=ls(FN),LN=[9,13,27,32],bh=br&&"CompositionEvent"in window,si=null;br&&"documentMode"in document&&(si=document.documentMode);var MN=br&&"TextEvent"in window&&!si,Sg=br&&(!bh||si&&8<si&&11>=si),Zp=" ",ex=!1;function Eg(t,s){switch(t){case"keyup":return LN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function DN(t,s){switch(t){case"compositionend":return Pg(s);case"keypress":return s.which!==32?null:(ex=!0,Zp);case"textInput":return t=s.data,t===Zp&&ex?null:t;default:return null}}function IN(t,s){if(va)return t==="compositionend"||!bh&&Eg(t,s)?(t=Cg(),So=fh=Zr=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sg&&s.locale!=="ko"?null:s.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!$N[t.type]:s==="textarea"}function Rg(t,s,r,n){ig(n),s=nc(s,"onChange"),0<s.length&&(r=new gh("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var ri=null,xi=null;function qN(t){zg(t,0)}function $c(t){var s=Na(t);if(eg(s))return t}function zN(t,s){if(t==="change")return s}var Ag=!1;if(br){var Ed;if(br){var Pd="oninput"in document;if(!Pd){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),Pd=typeof sx.oninput=="function"}Ed=Pd}else Ed=!1;Ag=Ed&&(!document.documentMode||9<document.documentMode)}function rx(){ri&&(ri.detachEvent("onpropertychange",Tg),xi=ri=null)}function Tg(t){if(t.propertyName==="value"&&$c(xi)){var s=[];Rg(s,xi,t,uh(t)),ug(qN,s)}}function BN(t,s,r){t==="focusin"?(rx(),ri=s,xi=r,ri.attachEvent("onpropertychange",Tg)):t==="focusout"&&rx()}function UN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(xi)}function VN(t,s){if(t==="click")return $c(s)}function HN(t,s){if(t==="input"||t==="change")return $c(s)}function WN(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ts=typeof Object.is=="function"?Object.is:WN;function fi(t,s){if(Ts(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!yu.call(s,a)||!Ts(t[a],s[a]))return!1}return!0}function nx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ax(t,s){var r=nx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nx(r)}}function Fg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Fg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Og(){for(var t=window,s=Jo();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Jo(t.document)}return s}function vh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function KN(t){var s=Og(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Fg(r.ownerDocument.documentElement,r)){if(n!==null&&vh(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!t.extend&&l>n&&(a=n,n=l,l=a),a=ax(r,l);var i=ax(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),l>n?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QN=br&&"documentMode"in document&&11>=document.documentMode,ja=null,Du=null,ni=null,Iu=!1;function lx(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Iu||ja==null||ja!==Jo(n)||(n=ja,"selectionStart"in n&&vh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ni&&fi(ni,n)||(ni=n,n=nc(Du,"onSelect"),0<n.length&&(s=new gh("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=ja)))}function ro(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var _a={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},Rd={},Lg={};br&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function qc(t){if(Rd[t])return Rd[t];if(!_a[t])return t;var s=_a[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Lg)return Rd[t]=s[r];return t}var Mg=qc("animationend"),Dg=qc("animationiteration"),Ig=qc("animationstart"),$g=qc("transitionend"),qg=new Map,ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(t,s){qg.set(t,s),da(s,[t])}for(var Ad=0;Ad<ix.length;Ad++){var Td=ix[Ad],GN=Td.toLowerCase(),YN=Td[0].toUpperCase()+Td.slice(1);jn(GN,"on"+YN)}jn(Mg,"onAnimationEnd");jn(Dg,"onAnimationIteration");jn(Ig,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn($g,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function ox(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,G_(n,s,void 0,t),t.currentTarget=null}function zg(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;ox(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;ox(a,o,d),l=c}}}if(Zo)throw t=Fu,Zo=!1,Fu=null,t}function Be(t,s){var r=s[Uu];r===void 0&&(r=s[Uu]=new Set);var n=t+"__bubble";r.has(n)||(Bg(s,t,2,!1),r.add(n))}function Fd(t,s,r){var n=0;s&&(n|=4),Bg(r,t,n,s)}var no="_reactListening"+Math.random().toString(36).slice(2);function gi(t){if(!t[no]){t[no]=!0,G0.forEach(function(r){r!=="selectionchange"&&(JN.has(r)||Fd(r,!1,t),Fd(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[no]||(s[no]=!0,Fd("selectionchange",!1,s))}}function Bg(t,s,r,n){switch(kg(s)){case 1:var a=uN;break;case 4:a=mN;break;default:a=xh}r=a.bind(null,s,r,t),a=void 0,!Tu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function Od(t,s,r,n,a){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=An(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}ug(function(){var d=l,m=uh(r),u=[];e:{var p=qg.get(t);if(p!==void 0){var v=gh,b=t;switch(t){case"keypress":if(Eo(r)===0)break e;case"keydown":case"keyup":v=SN;break;case"focusin":b="focus",v=Sd;break;case"focusout":b="blur",v=Sd;break;case"beforeblur":case"afterblur":v=Sd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=RN;break;case Mg:case Dg:case Ig:v=yN;break;case $g:v=TN;break;case"scroll":v=hN;break;case"wheel":v=ON;break;case"copy":case"cut":case"paste":v=vN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Xp}var x=(s&4)!==0,y=!x&&t==="scroll",f=x?p!==null?p+"Capture":null:p;x=[];for(var g=d,j;g!==null;){j=g;var _=j.stateNode;if(j.tag===5&&_!==null&&(j=_,f!==null&&(_=ui(g,f),_!=null&&x.push(yi(g,_,j)))),y)break;g=g.return}0<x.length&&(p=new v(p,b,null,r,m),u.push({event:p,listeners:x}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==Ru&&(b=r.relatedTarget||r.fromElement)&&(An(b)||b[vr]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=d,b=b?An(b):null,b!==null&&(y=ua(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(x=Yp,_="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=Xp,_="onPointerLeave",f="onPointerEnter",g="pointer"),y=v==null?p:Na(v),j=b==null?p:Na(b),p=new x(_,g+"leave",v,r,m),p.target=y,p.relatedTarget=j,_=null,An(m)===d&&(x=new x(f,g+"enter",b,r,m),x.target=j,x.relatedTarget=y,_=x),y=_,v&&b)t:{for(x=v,f=b,g=0,j=x;j;j=ha(j))g++;for(j=0,_=f;_;_=ha(_))j++;for(;0<g-j;)x=ha(x),g--;for(;0<j-g;)f=ha(f),j--;for(;g--;){if(x===f||f!==null&&x===f.alternate)break t;x=ha(x),f=ha(f)}x=null}else x=null;v!==null&&cx(u,p,v,x,!1),b!==null&&y!==null&&cx(u,y,b,x,!0)}}e:{if(p=d?Na(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=zN;else if(tx(p))if(Ag)S=HN;else{S=UN;var O=BN}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=VN);if(S&&(S=S(t,d))){Rg(u,S,r,m);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&ku(p,"number",p.value)}switch(O=d?Na(d):window,t){case"focusin":(tx(O)||O.contentEditable==="true")&&(ja=O,Du=d,ni=null);break;case"focusout":ni=Du=ja=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,lx(u,r,m);break;case"selectionchange":if(QN)break;case"keydown":case"keyup":lx(u,r,m)}var E;if(bh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else va?Eg(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Sg&&r.locale!=="ko"&&(va||T!=="onCompositionStart"?T==="onCompositionEnd"&&va&&(E=Cg()):(Zr=m,fh="value"in Zr?Zr.value:Zr.textContent,va=!0)),O=nc(d,T),0<O.length&&(T=new Jp(T,t,null,r,m),u.push({event:T,listeners:O}),E?T.data=E:(E=Pg(r),E!==null&&(T.data=E)))),(E=MN?DN(t,r):IN(t,r))&&(d=nc(d,"onBeforeInput"),0<d.length&&(m=new Jp("onBeforeInput","beforeinput",null,r,m),u.push({event:m,listeners:d}),m.data=E))}zg(u,s)})}function yi(t,s,r){return{instance:t,listener:s,currentTarget:r}}function nc(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ui(t,r),l!=null&&n.unshift(yi(t,l,a)),l=ui(t,s),l!=null&&n.push(yi(t,l,a))),t=t.return}return n}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cx(t,s,r,n,a){for(var l=s._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=ui(r,l),c!=null&&i.unshift(yi(r,c,o))):a||(c=ui(r,l),c!=null&&i.push(yi(r,c,o)))),r=r.return}i.length!==0&&t.push({event:s,listeners:i})}var XN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function dx(t){return(typeof t=="string"?t:""+t).replace(XN,`
`).replace(ZN,"")}function ao(t,s,r){if(s=dx(s),dx(t)!==s&&r)throw Error(ce(425))}function ac(){}var $u=null,qu=null;function zu(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(t){return ux.resolve(null).then(t).catch(sw)}:Bu;function sw(t){setTimeout(function(){throw t})}function Ld(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),pi(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pi(s)}function on(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function mx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Hs="__reactFiber$"+fl,bi="__reactProps$"+fl,vr="__reactContainer$"+fl,Uu="__reactEvents$"+fl,rw="__reactListeners$"+fl,nw="__reactHandles$"+fl;function An(t){var s=t[Hs];if(s)return s;for(var r=t.parentNode;r;){if(s=r[vr]||r[Hs]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=mx(t);t!==null;){if(r=t[Hs])return r;t=mx(t)}return s}t=r,r=t.parentNode}return null}function qi(t){return t=t[Hs]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function zc(t){return t[bi]||null}var Vu=[],wa=-1;function _n(t){return{current:t}}function Ve(t){0>wa||(t.current=Vu[wa],Vu[wa]=null,wa--)}function Ie(t,s){wa++,Vu[wa]=t.current,t.current=s}var yn={},St=_n(yn),Ht=_n(!1),Gn=yn;function tl(t,s){var r=t.type.contextTypes;if(!r)return yn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=s[l];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Wt(t){return t=t.childContextTypes,t!=null}function lc(){Ve(Ht),Ve(St)}function hx(t,s,r){if(St.current!==yn)throw Error(ce(168));Ie(St,s),Ie(Ht,r)}function Ug(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(ce(108,B_(t)||"Unknown",a));return Ye({},r,n)}function ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,Gn=St.current,Ie(St,t),Ie(Ht,Ht.current),!0}function px(t,s,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=Ug(t,s,Gn),n.__reactInternalMemoizedMergedChildContext=t,Ve(Ht),Ve(St),Ie(St,t)):Ve(Ht),Ie(Ht,r)}var or=null,Bc=!1,Md=!1;function Vg(t){or===null?or=[t]:or.push(t)}function aw(t){Bc=!0,Vg(t)}function Nn(){if(!Md&&or!==null){Md=!0;var t=0,s=Me;try{var r=or;for(Me=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}or=null,Bc=!1}catch(a){throw or!==null&&(or=or.slice(t+1)),xg(mh,Nn),a}finally{Me=s,Md=!1}}return null}var ka=[],Ca=0,oc=null,cc=0,us=[],ms=0,Yn=null,hr=1,pr="";function Pn(t,s){ka[Ca++]=cc,ka[Ca++]=oc,oc=t,cc=s}function Hg(t,s,r){us[ms++]=hr,us[ms++]=pr,us[ms++]=Yn,Yn=t;var n=hr;t=pr;var a=32-Rs(n)-1;n&=~(1<<a),r+=1;var l=32-Rs(s)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,hr=1<<32-Rs(s)+a|r<<a|n,pr=l+t}else hr=1<<l|r<<a|n,pr=t}function jh(t){t.return!==null&&(Pn(t,1),Hg(t,1,0))}function _h(t){for(;t===oc;)oc=ka[--Ca],ka[Ca]=null,cc=ka[--Ca],ka[Ca]=null;for(;t===Yn;)Yn=us[--ms],us[ms]=null,pr=us[--ms],us[ms]=null,hr=us[--ms],us[ms]=null}var ss=null,Zt=null,We=!1,Ss=null;function Wg(t,s){var r=ps(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function xx(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,ss=t,Zt=on(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,ss=t,Zt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Yn!==null?{id:hr,overflow:pr}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=ps(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,ss=t,Zt=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wu(t){if(We){var s=Zt;if(s){var r=s;if(!xx(t,s)){if(Hu(t))throw Error(ce(418));s=on(r.nextSibling);var n=ss;s&&xx(t,s)?Wg(n,r):(t.flags=t.flags&-4097|2,We=!1,ss=t)}}else{if(Hu(t))throw Error(ce(418));t.flags=t.flags&-4097|2,We=!1,ss=t}}}function fx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ss=t}function lo(t){if(t!==ss)return!1;if(!We)return fx(t),We=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!zu(t.type,t.memoizedProps)),s&&(s=Zt)){if(Hu(t))throw Kg(),Error(ce(418));for(;s;)Wg(t,s),s=on(s.nextSibling)}if(fx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){Zt=on(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}Zt=null}}else Zt=ss?on(t.stateNode.nextSibling):null;return!0}function Kg(){for(var t=Zt;t;)t=on(t.nextSibling)}function sl(){Zt=ss=null,We=!1}function Nh(t){Ss===null?Ss=[t]:Ss.push(t)}var lw=Er.ReactCurrentBatchConfig;function Dl(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var a=n,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function io(t,s){throw t=Object.prototype.toString.call(s),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function gx(t){var s=t._init;return s(t._payload)}function Qg(t){function s(f,g){if(t){var j=f.deletions;j===null?(f.deletions=[g],f.flags|=16):j.push(g)}}function r(f,g){if(!t)return null;for(;g!==null;)s(f,g),g=g.sibling;return null}function n(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function a(f,g){return f=mn(f,g),f.index=0,f.sibling=null,f}function l(f,g,j){return f.index=j,t?(j=f.alternate,j!==null?(j=j.index,j<g?(f.flags|=2,g):j):(f.flags|=2,g)):(f.flags|=1048576,g)}function i(f){return t&&f.alternate===null&&(f.flags|=2),f}function o(f,g,j,_){return g===null||g.tag!==6?(g=Ud(j,f.mode,_),g.return=f,g):(g=a(g,j),g.return=f,g)}function c(f,g,j,_){var S=j.type;return S===ba?m(f,g,j.props.children,_,j.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qr&&gx(S)===g.type)?(_=a(g,j.props),_.ref=Dl(f,g,j),_.return=f,_):(_=Lo(j.type,j.key,j.props,null,f.mode,_),_.ref=Dl(f,g,j),_.return=f,_)}function d(f,g,j,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=Vd(j,f.mode,_),g.return=f,g):(g=a(g,j.children||[]),g.return=f,g)}function m(f,g,j,_,S){return g===null||g.tag!==7?(g=Wn(j,f.mode,_,S),g.return=f,g):(g=a(g,j),g.return=f,g)}function u(f,g,j){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ud(""+g,f.mode,j),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yi:return j=Lo(g.type,g.key,g.props,null,f.mode,j),j.ref=Dl(f,null,g),j.return=f,j;case ya:return g=Vd(g,f.mode,j),g.return=f,g;case qr:var _=g._init;return u(f,_(g._payload),j)}if(Wl(g)||Tl(g))return g=Wn(g,f.mode,j,null),g.return=f,g;io(f,g)}return null}function p(f,g,j,_){var S=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:o(f,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yi:return j.key===S?c(f,g,j,_):null;case ya:return j.key===S?d(f,g,j,_):null;case qr:return S=j._init,p(f,g,S(j._payload),_)}if(Wl(j)||Tl(j))return S!==null?null:m(f,g,j,_,null);io(f,j)}return null}function v(f,g,j,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(j)||null,o(g,f,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yi:return f=f.get(_.key===null?j:_.key)||null,c(g,f,_,S);case ya:return f=f.get(_.key===null?j:_.key)||null,d(g,f,_,S);case qr:var O=_._init;return v(f,g,j,O(_._payload),S)}if(Wl(_)||Tl(_))return f=f.get(j)||null,m(g,f,_,S,null);io(g,_)}return null}function b(f,g,j,_){for(var S=null,O=null,E=g,T=g=0,C=null;E!==null&&T<j.length;T++){E.index>T?(C=E,E=null):C=E.sibling;var R=p(f,E,j[T],_);if(R===null){E===null&&(E=C);break}t&&E&&R.alternate===null&&s(f,E),g=l(R,g,T),O===null?S=R:O.sibling=R,O=R,E=C}if(T===j.length)return r(f,E),We&&Pn(f,T),S;if(E===null){for(;T<j.length;T++)E=u(f,j[T],_),E!==null&&(g=l(E,g,T),O===null?S=E:O.sibling=E,O=E);return We&&Pn(f,T),S}for(E=n(f,E);T<j.length;T++)C=v(E,f,T,j[T],_),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?T:C.key),g=l(C,g,T),O===null?S=C:O.sibling=C,O=C);return t&&E.forEach(function(H){return s(f,H)}),We&&Pn(f,T),S}function x(f,g,j,_){var S=Tl(j);if(typeof S!="function")throw Error(ce(150));if(j=S.call(j),j==null)throw Error(ce(151));for(var O=S=null,E=g,T=g=0,C=null,R=j.next();E!==null&&!R.done;T++,R=j.next()){E.index>T?(C=E,E=null):C=E.sibling;var H=p(f,E,R.value,_);if(H===null){E===null&&(E=C);break}t&&E&&H.alternate===null&&s(f,E),g=l(H,g,T),O===null?S=H:O.sibling=H,O=H,E=C}if(R.done)return r(f,E),We&&Pn(f,T),S;if(E===null){for(;!R.done;T++,R=j.next())R=u(f,R.value,_),R!==null&&(g=l(R,g,T),O===null?S=R:O.sibling=R,O=R);return We&&Pn(f,T),S}for(E=n(f,E);!R.done;T++,R=j.next())R=v(E,f,T,R.value,_),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?T:R.key),g=l(R,g,T),O===null?S=R:O.sibling=R,O=R);return t&&E.forEach(function(I){return s(f,I)}),We&&Pn(f,T),S}function y(f,g,j,_){if(typeof j=="object"&&j!==null&&j.type===ba&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Yi:e:{for(var S=j.key,O=g;O!==null;){if(O.key===S){if(S=j.type,S===ba){if(O.tag===7){r(f,O.sibling),g=a(O,j.props.children),g.return=f,f=g;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qr&&gx(S)===O.type){r(f,O.sibling),g=a(O,j.props),g.ref=Dl(f,O,j),g.return=f,f=g;break e}r(f,O);break}else s(f,O);O=O.sibling}j.type===ba?(g=Wn(j.props.children,f.mode,_,j.key),g.return=f,f=g):(_=Lo(j.type,j.key,j.props,null,f.mode,_),_.ref=Dl(f,g,j),_.return=f,f=_)}return i(f);case ya:e:{for(O=j.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){r(f,g.sibling),g=a(g,j.children||[]),g.return=f,f=g;break e}else{r(f,g);break}else s(f,g);g=g.sibling}g=Vd(j,f.mode,_),g.return=f,f=g}return i(f);case qr:return O=j._init,y(f,g,O(j._payload),_)}if(Wl(j))return b(f,g,j,_);if(Tl(j))return x(f,g,j,_);io(f,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,g!==null&&g.tag===6?(r(f,g.sibling),g=a(g,j),g.return=f,f=g):(r(f,g),g=Ud(j,f.mode,_),g.return=f,f=g),i(f)):r(f,g)}return y}var rl=Qg(!0),Gg=Qg(!1),dc=_n(null),uc=null,Sa=null,wh=null;function kh(){wh=Sa=uc=null}function Ch(t){var s=dc.current;Ve(dc),t._currentValue=s}function Ku(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function La(t,s){uc=t,wh=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Vt=!0),t.firstContext=null)}function fs(t){var s=t._currentValue;if(wh!==t)if(t={context:t,memoizedValue:s,next:null},Sa===null){if(uc===null)throw Error(ce(308));Sa=t,uc.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return s}var Tn=null;function Sh(t){Tn===null?Tn=[t]:Tn.push(t)}function Yg(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Sh(s)):(r.next=a.next,a.next=r),s.interleaved=r,jr(t,n)}function jr(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zr=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function cn(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,jr(t,r)}return a=n.interleaved,a===null?(s.next=s,Sh(n)):(s.next=a.next,a.next=s),n.interleaved=s,jr(t,r)}function Po(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,hh(t,r)}}function yx(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=s:l=l.next=s}else a=l=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function mc(t,s,r,n){var a=t.updateQueue;zr=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==i&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(l!==null){var u=a.baseState;i=0,m=d=c=null,o=l;do{var p=o.lane,v=o.eventTime;if((n&p)===p){m!==null&&(m=m.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,x=o;switch(p=s,v=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){u=b.call(v,u,p);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,p=typeof b=="function"?b.call(v,u,p):b,p==null)break e;u=Ye({},u,p);break e;case 2:zr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=v,c=u):m=m.next=v,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(m===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,s=a.shared.interleaved,s!==null){a=s;do i|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);Xn|=i,t.lanes=i,t.memoizedState=u}}function bx(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var zi={},Gs=_n(zi),vi=_n(zi),ji=_n(zi);function Fn(t){if(t===zi)throw Error(ce(174));return t}function Ph(t,s){switch(Ie(ji,s),Ie(vi,t),Ie(Gs,zi),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Su(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Su(s,t)}Ve(Gs),Ie(Gs,s)}function nl(){Ve(Gs),Ve(vi),Ve(ji)}function Xg(t){Fn(ji.current);var s=Fn(Gs.current),r=Su(s,t.type);s!==r&&(Ie(vi,t),Ie(Gs,r))}function Rh(t){vi.current===t&&(Ve(Gs),Ve(vi))}var Qe=_n(0);function hc(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dd=[];function Ah(){for(var t=0;t<Dd.length;t++)Dd[t]._workInProgressVersionPrimary=null;Dd.length=0}var Ro=Er.ReactCurrentDispatcher,Id=Er.ReactCurrentBatchConfig,Jn=0,Ge=null,ct=null,xt=null,pc=!1,ai=!1,_i=0,iw=0;function Nt(){throw Error(ce(321))}function Th(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Ts(t[r],s[r]))return!1;return!0}function Fh(t,s,r,n,a,l){if(Jn=l,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ro.current=t===null||t.memoizedState===null?uw:mw,t=r(n,a),ai){l=0;do{if(ai=!1,_i=0,25<=l)throw Error(ce(301));l+=1,xt=ct=null,s.updateQueue=null,Ro.current=hw,t=r(n,a)}while(ai)}if(Ro.current=xc,s=ct!==null&&ct.next!==null,Jn=0,xt=ct=Ge=null,pc=!1,s)throw Error(ce(300));return t}function Oh(){var t=_i!==0;return _i=0,t}function zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ge.memoizedState=xt=t:xt=xt.next=t,xt}function gs(){if(ct===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var s=xt===null?Ge.memoizedState:xt.next;if(s!==null)xt=s,ct=t;else{if(t===null)throw Error(ce(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},xt===null?Ge.memoizedState=xt=t:xt=xt.next=t}return xt}function Ni(t,s){return typeof s=="function"?s(t):s}function $d(t){var s=gs(),r=s.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=ct,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var m=d.lane;if((Jn&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=u,i=n):c=c.next=u,Ge.lanes|=m,Xn|=m}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,Ts(n,s.memoizedState)||(Vt=!0),s.memoizedState=n,s.baseState=i,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do l=a.lane,Ge.lanes|=l,Xn|=l,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function qd(t){var s=gs(),r=s.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,l=s.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);Ts(l,s.memoizedState)||(Vt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function Zg(){}function ey(t,s){var r=Ge,n=gs(),a=s(),l=!Ts(n.memoizedState,a);if(l&&(n.memoizedState=a,Vt=!0),n=n.queue,Lh(ry.bind(null,r,n,t),[t]),n.getSnapshot!==s||l||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,wi(9,sy.bind(null,r,n,a,s),void 0,null),ft===null)throw Error(ce(349));Jn&30||ty(r,s,a)}return a}function ty(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function sy(t,s,r,n){s.value=r,s.getSnapshot=n,ny(s)&&ay(t)}function ry(t,s,r){return r(function(){ny(s)&&ay(t)})}function ny(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Ts(t,r)}catch{return!0}}function ay(t){var s=jr(t,1);s!==null&&As(s,t,1,-1)}function vx(t){var s=zs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},s.queue=t,t=t.dispatch=dw.bind(null,Ge,t),[s.memoizedState,t]}function wi(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function ly(){return gs().memoizedState}function Ao(t,s,r,n){var a=zs();Ge.flags|=t,a.memoizedState=wi(1|s,r,void 0,n===void 0?null:n)}function Uc(t,s,r,n){var a=gs();n=n===void 0?null:n;var l=void 0;if(ct!==null){var i=ct.memoizedState;if(l=i.destroy,n!==null&&Th(n,i.deps)){a.memoizedState=wi(s,r,l,n);return}}Ge.flags|=t,a.memoizedState=wi(1|s,r,l,n)}function jx(t,s){return Ao(8390656,8,t,s)}function Lh(t,s){return Uc(2048,8,t,s)}function iy(t,s){return Uc(4,2,t,s)}function oy(t,s){return Uc(4,4,t,s)}function cy(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function dy(t,s,r){return r=r!=null?r.concat([t]):null,Uc(4,4,cy.bind(null,s,t),r)}function Mh(){}function uy(t,s){var r=gs();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Th(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function my(t,s){var r=gs();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Th(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function hy(t,s,r){return Jn&21?(Ts(r,s)||(r=yg(),Ge.lanes|=r,Xn|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=r)}function ow(t,s){var r=Me;Me=r!==0&&4>r?r:4,t(!0);var n=Id.transition;Id.transition={};try{t(!1),s()}finally{Me=r,Id.transition=n}}function py(){return gs().memoizedState}function cw(t,s,r){var n=un(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xy(t))fy(s,r);else if(r=Yg(t,s,r,n),r!==null){var a=Mt();As(r,t,n,a),gy(r,s,n)}}function dw(t,s,r){var n=un(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xy(t))fy(s,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ts(o,i)){var c=s.interleaved;c===null?(a.next=a,Sh(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=Yg(t,s,a,n),r!==null&&(a=Mt(),As(r,t,n,a),gy(r,s,n))}}function xy(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function fy(t,s){ai=pc=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function gy(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,hh(t,r)}}var xc={readContext:fs,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},uw={readContext:fs,useCallback:function(t,s){return zs().memoizedState=[t,s===void 0?null:s],t},useContext:fs,useEffect:jx,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Ao(4194308,4,cy.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Ao(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ao(4,2,t,s)},useMemo:function(t,s){var r=zs();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=zs();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=cw.bind(null,Ge,t),[n.memoizedState,t]},useRef:function(t){var s=zs();return t={current:t},s.memoizedState=t},useState:vx,useDebugValue:Mh,useDeferredValue:function(t){return zs().memoizedState=t},useTransition:function(){var t=vx(!1),s=t[0];return t=ow.bind(null,t[1]),zs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Ge,a=zs();if(We){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=s(),ft===null)throw Error(ce(349));Jn&30||ty(n,s,r)}a.memoizedState=r;var l={value:r,getSnapshot:s};return a.queue=l,jx(ry.bind(null,n,l,t),[t]),n.flags|=2048,wi(9,sy.bind(null,n,l,r,s),void 0,null),r},useId:function(){var t=zs(),s=ft.identifierPrefix;if(We){var r=pr,n=hr;r=(n&~(1<<32-Rs(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=_i++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=iw++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},mw={readContext:fs,useCallback:uy,useContext:fs,useEffect:Lh,useImperativeHandle:dy,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:my,useReducer:$d,useRef:ly,useState:function(){return $d(Ni)},useDebugValue:Mh,useDeferredValue:function(t){var s=gs();return hy(s,ct.memoizedState,t)},useTransition:function(){var t=$d(Ni)[0],s=gs().memoizedState;return[t,s]},useMutableSource:Zg,useSyncExternalStore:ey,useId:py,unstable_isNewReconciler:!1},hw={readContext:fs,useCallback:uy,useContext:fs,useEffect:Lh,useImperativeHandle:dy,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:my,useReducer:qd,useRef:ly,useState:function(){return qd(Ni)},useDebugValue:Mh,useDeferredValue:function(t){var s=gs();return ct===null?s.memoizedState=t:hy(s,ct.memoizedState,t)},useTransition:function(){var t=qd(Ni)[0],s=gs().memoizedState;return[t,s]},useMutableSource:Zg,useSyncExternalStore:ey,useId:py,unstable_isNewReconciler:!1};function _s(t,s){if(t&&t.defaultProps){s=Ye({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Qu(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Ye({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vc={isMounted:function(t){return(t=t._reactInternals)?ua(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Mt(),a=un(t),l=fr(n,a);l.payload=s,r!=null&&(l.callback=r),s=cn(t,l,a),s!==null&&(As(s,t,a,n),Po(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Mt(),a=un(t),l=fr(n,a);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=cn(t,l,a),s!==null&&(As(s,t,a,n),Po(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Mt(),n=un(t),a=fr(r,n);a.tag=2,s!=null&&(a.callback=s),s=cn(t,a,n),s!==null&&(As(s,t,n,r),Po(s,t,n))}};function _x(t,s,r,n,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,i):s.prototype&&s.prototype.isPureReactComponent?!fi(r,n)||!fi(a,l):!0}function yy(t,s,r){var n=!1,a=yn,l=s.contextType;return typeof l=="object"&&l!==null?l=fs(l):(a=Wt(s)?Gn:St.current,n=s.contextTypes,l=(n=n!=null)?tl(t,a):yn),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vc,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),s}function Nx(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Vc.enqueueReplaceState(s,s.state,null)}function Gu(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Eh(t);var l=s.contextType;typeof l=="object"&&l!==null?a.context=fs(l):(l=Wt(s)?Gn:St.current,a.context=tl(t,l)),a.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Qu(t,s,l,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Vc.enqueueReplaceState(a,a.state,null),mc(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,s){try{var r="",n=s;do r+=z_(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:a,digest:null}}function zd(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Yu(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var pw=typeof WeakMap=="function"?WeakMap:Map;function by(t,s,r){r=fr(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){gc||(gc=!0,lm=n),Yu(t,s)},r}function vy(t,s,r){r=fr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){Yu(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Yu(t,s),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function wx(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pw;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=Ew.bind(null,t,s,r),s.then(t,t))}function kx(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Cx(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=fr(-1,1),s.tag=2,cn(r,s,1))),r.lanes|=1),t)}var xw=Er.ReactCurrentOwner,Vt=!1;function Tt(t,s,r,n){s.child=t===null?Gg(s,null,r,n):rl(s,t.child,r,n)}function Sx(t,s,r,n,a){r=r.render;var l=s.ref;return La(s,a),n=Fh(t,s,r,n,l,a),r=Oh(),t!==null&&!Vt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,_r(t,s,a)):(We&&r&&jh(s),s.flags|=1,Tt(t,s,n,a),s.child)}function Ex(t,s,r,n,a){if(t===null){var l=r.type;return typeof l=="function"&&!Vh(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,jy(t,s,l,n,a)):(t=Lo(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:fi,r(i,n)&&t.ref===s.ref)return _r(t,s,a)}return s.flags|=1,t=mn(l,n),t.ref=s.ref,t.return=s,s.child=t}function jy(t,s,r,n,a){if(t!==null){var l=t.memoizedProps;if(fi(l,n)&&t.ref===s.ref)if(Vt=!1,s.pendingProps=n=l,(t.lanes&a)!==0)t.flags&131072&&(Vt=!0);else return s.lanes=t.lanes,_r(t,s,a)}return Ju(t,s,r,n,a)}function _y(t,s,r){var n=s.pendingProps,a=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Pa,Yt),Yt|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ie(Pa,Yt),Yt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Ie(Pa,Yt),Yt|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,Ie(Pa,Yt),Yt|=n;return Tt(t,s,a,r),s.child}function Ny(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Ju(t,s,r,n,a){var l=Wt(r)?Gn:St.current;return l=tl(s,l),La(s,a),r=Fh(t,s,r,n,l,a),n=Oh(),t!==null&&!Vt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,_r(t,s,a)):(We&&n&&jh(s),s.flags|=1,Tt(t,s,r,a),s.child)}function Px(t,s,r,n,a){if(Wt(r)){var l=!0;ic(s)}else l=!1;if(La(s,a),s.stateNode===null)To(t,s),yy(s,r,n),Gu(s,r,n,a),n=!0;else if(t===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=fs(d):(d=Wt(r)?Gn:St.current,d=tl(s,d));var m=r.getDerivedStateFromProps,u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Nx(s,i,n,d),zr=!1;var p=s.memoizedState;i.state=p,mc(s,n,i,a),c=s.memoizedState,o!==n||p!==c||Ht.current||zr?(typeof m=="function"&&(Qu(s,r,m,n),c=s.memoizedState),(o=zr||_x(s,r,o,n,p,c,d))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{i=s.stateNode,Jg(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:_s(s.type,o),i.props=d,u=s.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=fs(c):(c=Wt(r)?Gn:St.current,c=tl(s,c));var v=r.getDerivedStateFromProps;(m=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==u||p!==c)&&Nx(s,i,n,c),zr=!1,p=s.memoizedState,i.state=p,mc(s,n,i,a);var b=s.memoizedState;o!==u||p!==b||Ht.current||zr?(typeof v=="function"&&(Qu(s,r,v,n),b=s.memoizedState),(d=zr||_x(s,r,d,n,p,b,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=b),i.props=n,i.state=b,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),n=!1)}return Xu(t,s,r,n,l,a)}function Xu(t,s,r,n,a,l){Ny(t,s);var i=(s.flags&128)!==0;if(!n&&!i)return a&&px(s,r,!1),_r(t,s,l);n=s.stateNode,xw.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&i?(s.child=rl(s,t.child,null,l),s.child=rl(s,null,o,l)):Tt(t,s,o,l),s.memoizedState=n.state,a&&px(s,r,!0),s.child}function wy(t){var s=t.stateNode;s.pendingContext?hx(t,s.pendingContext,s.pendingContext!==s.context):s.context&&hx(t,s.context,!1),Ph(t,s.containerInfo)}function Rx(t,s,r,n,a){return sl(),Nh(a),s.flags|=256,Tt(t,s,r,n),s.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function em(t){return{baseLanes:t,cachePool:null,transitions:null}}function ky(t,s,r){var n=s.pendingProps,a=Qe.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ie(Qe,a&1),t===null)return Wu(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=n.children,t=n.fallback,l?(n=s.mode,l=s.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Kc(i,n,0,null),t=Wn(t,n,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=em(r),s.memoizedState=Zu,t):Dh(s,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return fw(t,s,i,n,o,a,r);if(l){l=n.fallback,i=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=mn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=mn(o,l):(l=Wn(l,i,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,i=t.child.memoizedState,i=i===null?em(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,s.memoizedState=Zu,n}return l=t.child,t=l.sibling,n=mn(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function Dh(t,s){return s=Kc({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function oo(t,s,r,n){return n!==null&&Nh(n),rl(s,t.child,null,r),t=Dh(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function fw(t,s,r,n,a,l,i){if(r)return s.flags&256?(s.flags&=-257,n=zd(Error(ce(422))),oo(t,s,i,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=n.fallback,a=s.mode,n=Kc({mode:"visible",children:n.children},a,0,null),l=Wn(l,a,i,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&rl(s,t.child,null,i),s.child.memoizedState=em(i),s.memoizedState=Zu,l);if(!(s.mode&1))return oo(t,s,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(ce(419)),n=zd(l,n,void 0),oo(t,s,i,n)}if(o=(i&t.childLanes)!==0,Vt||o){if(n=ft,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,jr(t,a),As(n,t,a,-1))}return Uh(),n=zd(Error(ce(421))),oo(t,s,i,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=Pw.bind(null,t),a._reactRetry=s,null):(t=l.treeContext,Zt=on(a.nextSibling),ss=s,We=!0,Ss=null,t!==null&&(us[ms++]=hr,us[ms++]=pr,us[ms++]=Yn,hr=t.id,pr=t.overflow,Yn=s),s=Dh(s,n.children),s.flags|=4096,s)}function Ax(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),Ku(t.return,s,r)}function Bd(t,s,r,n,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function Cy(t,s,r){var n=s.pendingProps,a=n.revealOrder,l=n.tail;if(Tt(t,s,n.children,r),n=Qe.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ax(t,r,s);else if(t.tag===19)Ax(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ie(Qe,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&hc(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Bd(s,!1,a,r,l);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&hc(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Bd(s,!0,r,null,l);break;case"together":Bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function To(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function _r(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Xn|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ce(153));if(s.child!==null){for(t=s.child,r=mn(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=mn(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function gw(t,s,r){switch(s.tag){case 3:wy(s),sl();break;case 5:Xg(s);break;case 1:Wt(s.type)&&ic(s);break;case 4:Ph(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Ie(dc,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Ie(Qe,Qe.current&1),s.flags|=128,null):r&s.child.childLanes?ky(t,s,r):(Ie(Qe,Qe.current&1),t=_r(t,s,r),t!==null?t.sibling:null);Ie(Qe,Qe.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return Cy(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ie(Qe,Qe.current),n)break;return null;case 22:case 23:return s.lanes=0,_y(t,s,r)}return _r(t,s,r)}var Sy,tm,Ey,Py;Sy=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tm=function(){};Ey=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,Fn(Gs.current);var l=null;switch(r){case"input":a=Nu(t,a),n=Nu(t,n),l=[];break;case"select":a=Ye({},a,{value:void 0}),n=Ye({},n,{value:void 0}),l=[];break;case"textarea":a=Cu(t,a),n=Cu(t,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ac)}Eu(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ci.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ci.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Be("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};Py=function(t,s,r,n){r!==n&&(s.flags|=4)};function Il(t,s){if(!We)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function yw(t,s,r){var n=s.pendingProps;switch(_h(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return Wt(s.type)&&lc(),wt(s),null;case 3:return n=s.stateNode,nl(),Ve(Ht),Ve(St),Ah(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(lo(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ss!==null&&(cm(Ss),Ss=null))),tm(t,s),wt(s),null;case 5:Rh(s);var a=Fn(ji.current);if(r=s.type,t!==null&&s.stateNode!=null)Ey(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(ce(166));return wt(s),null}if(t=Fn(Gs.current),lo(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[Hs]=s,n[bi]=l,t=(s.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Be(Ql[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":qp(n,l),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Be("invalid",n);break;case"textarea":Bp(n,l),Be("invalid",n)}Eu(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&ao(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&ao(n.textContent,o,t),a=["children",""+o]):ci.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Be("scroll",n)}switch(r){case"input":Ji(n),zp(n,l,!0);break;case"textarea":Ji(n),Up(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ac)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Hs]=s,t[bi]=n,Sy(t,s,!1,!1),s.stateNode=t;e:{switch(i=Pu(r,n),r){case"dialog":Be("cancel",t),Be("close",t),a=n;break;case"iframe":case"object":case"embed":Be("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ql.length;a++)Be(Ql[a],t);a=n;break;case"source":Be("error",t),a=n;break;case"img":case"image":case"link":Be("error",t),Be("load",t),a=n;break;case"details":Be("toggle",t),a=n;break;case"input":qp(t,n),a=Nu(t,n),Be("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ye({},n,{value:void 0}),Be("invalid",t);break;case"textarea":Bp(t,n),a=Cu(t,n),Be("invalid",t);break;default:a=n}Eu(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?lg(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ng(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&di(t,c):typeof c=="number"&&di(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ci.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Be("scroll",t):c!=null&&ih(t,l,c,i))}switch(r){case"input":Ji(t),zp(t,n,!1);break;case"textarea":Ji(t),Up(t);break;case"option":n.value!=null&&t.setAttribute("value",""+gn(n.value));break;case"select":t.multiple=!!n.multiple,l=n.value,l!=null?Aa(t,!!n.multiple,l,!1):n.defaultValue!=null&&Aa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ac)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wt(s),null;case 6:if(t&&s.stateNode!=null)Py(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(ce(166));if(r=Fn(ji.current),Fn(Gs.current),lo(s)){if(n=s.stateNode,r=s.memoizedProps,n[Hs]=s,(l=n.nodeValue!==r)&&(t=ss,t!==null))switch(t.tag){case 3:ao(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(n.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hs]=s,s.stateNode=n}return wt(s),null;case 13:if(Ve(Qe),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Zt!==null&&s.mode&1&&!(s.flags&128))Kg(),sl(),s.flags|=98560,l=!1;else if(l=lo(s),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(ce(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ce(317));l[Hs]=s}else sl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;wt(s),l=!1}else Ss!==null&&(cm(Ss),Ss=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||Qe.current&1?mt===0&&(mt=3):Uh())),s.updateQueue!==null&&(s.flags|=4),wt(s),null);case 4:return nl(),tm(t,s),t===null&&gi(s.stateNode.containerInfo),wt(s),null;case 10:return Ch(s.type._context),wt(s),null;case 17:return Wt(s.type)&&lc(),wt(s),null;case 19:if(Ve(Qe),l=s.memoizedState,l===null)return wt(s),null;if(n=(s.flags&128)!==0,i=l.rendering,i===null)if(n)Il(l,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=hc(t),i!==null){for(s.flags|=128,Il(l,!1),n=i.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,t=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ie(Qe,Qe.current&1|2),s.child}t=t.sibling}l.tail!==null&&et()>ll&&(s.flags|=128,n=!0,Il(l,!1),s.lanes=4194304)}else{if(!n)if(t=hc(i),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!We)return wt(s),null}else 2*et()-l.renderingStartTime>ll&&r!==1073741824&&(s.flags|=128,n=!0,Il(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=et(),s.sibling=null,r=Qe.current,Ie(Qe,n?r&1|2:r&1),s):(wt(s),null);case 22:case 23:return Bh(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Yt&1073741824&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),null;case 24:return null;case 25:return null}throw Error(ce(156,s.tag))}function bw(t,s){switch(_h(s),s.tag){case 1:return Wt(s.type)&&lc(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return nl(),Ve(Ht),Ve(St),Ah(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Rh(s),null;case 13:if(Ve(Qe),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ce(340));sl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ve(Qe),null;case 4:return nl(),null;case 10:return Ch(s.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var co=!1,kt=!1,vw=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ea(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(t,s,n)}else r.current=null}function sm(t,s,r){try{r()}catch(n){Ze(t,s,n)}}var Tx=!1;function jw(t,s){if($u=sc,t=Og(),vh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,m=0,u=t,p=null;t:for(;;){for(var v;u!==r||a!==0&&u.nodeType!==3||(o=i+a),u!==l||n!==0&&u.nodeType!==3||(c=i+n),u.nodeType===3&&(i+=u.nodeValue.length),(v=u.firstChild)!==null;)p=u,u=v;for(;;){if(u===t)break t;if(p===r&&++d===a&&(o=i),p===l&&++m===n&&(c=i),(v=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qu={focusedElem:t,selectionRange:r},sc=!1,pe=s;pe!==null;)if(s=pe,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,pe=t;else for(;pe!==null;){s=pe;try{var b=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,y=b.memoizedState,f=s.stateNode,g=f.getSnapshotBeforeUpdate(s.elementType===s.type?x:_s(s.type,x),y);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(_){Ze(s,s.return,_)}if(t=s.sibling,t!==null){t.return=s.return,pe=t;break}pe=s.return}return b=Tx,Tx=!1,b}function li(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&sm(s,r,l)}a=a.next}while(a!==n)}}function Hc(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function rm(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function Ry(t){var s=t.alternate;s!==null&&(t.alternate=null,Ry(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Hs],delete s[bi],delete s[Uu],delete s[rw],delete s[nw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ay(t){return t.tag===5||t.tag===3||t.tag===4}function Fx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nm(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=ac));else if(n!==4&&(t=t.child,t!==null))for(nm(t,s,r),t=t.sibling;t!==null;)nm(t,s,r),t=t.sibling}function am(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(am(t,s,r),t=t.sibling;t!==null;)am(t,s,r),t=t.sibling}var bt=null,ks=!1;function Tr(t,s,r){for(r=r.child;r!==null;)Ty(t,s,r),r=r.sibling}function Ty(t,s,r){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(Dc,r)}catch{}switch(r.tag){case 5:kt||Ea(r,s);case 6:var n=bt,a=ks;bt=null,Tr(t,s,r),bt=n,ks=a,bt!==null&&(ks?(t=bt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(ks?(t=bt,r=r.stateNode,t.nodeType===8?Ld(t.parentNode,r):t.nodeType===1&&Ld(t,r),pi(t)):Ld(bt,r.stateNode));break;case 4:n=bt,a=ks,bt=r.stateNode.containerInfo,ks=!0,Tr(t,s,r),bt=n,ks=a;break;case 0:case 11:case 14:case 15:if(!kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&sm(r,s,i),a=a.next}while(a!==n)}Tr(t,s,r);break;case 1:if(!kt&&(Ea(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ze(r,s,o)}Tr(t,s,r);break;case 21:Tr(t,s,r);break;case 22:r.mode&1?(kt=(n=kt)||r.memoizedState!==null,Tr(t,s,r),kt=n):Tr(t,s,r);break;default:Tr(t,s,r)}}function Ox(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vw),s.forEach(function(n){var a=Rw.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function vs(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=t,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:bt=o.stateNode,ks=!1;break e;case 3:bt=o.stateNode.containerInfo,ks=!0;break e;case 4:bt=o.stateNode.containerInfo,ks=!0;break e}o=o.return}if(bt===null)throw Error(ce(160));Ty(l,i,a),bt=null,ks=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ze(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Fy(s,t),s=s.sibling}function Fy(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vs(s,t),Is(t),n&4){try{li(3,t,t.return),Hc(3,t)}catch(x){Ze(t,t.return,x)}try{li(5,t,t.return)}catch(x){Ze(t,t.return,x)}}break;case 1:vs(s,t),Is(t),n&512&&r!==null&&Ea(r,r.return);break;case 5:if(vs(s,t),Is(t),n&512&&r!==null&&Ea(r,r.return),t.flags&32){var a=t.stateNode;try{di(a,"")}catch(x){Ze(t,t.return,x)}}if(n&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&tg(a,l),Pu(o,i);var d=Pu(o,l);for(i=0;i<c.length;i+=2){var m=c[i],u=c[i+1];m==="style"?lg(a,u):m==="dangerouslySetInnerHTML"?ng(a,u):m==="children"?di(a,u):ih(a,m,u,d)}switch(o){case"input":wu(a,l);break;case"textarea":sg(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Aa(a,!!l.multiple,v,!1):p!==!!l.multiple&&(l.defaultValue!=null?Aa(a,!!l.multiple,l.defaultValue,!0):Aa(a,!!l.multiple,l.multiple?[]:"",!1))}a[bi]=l}catch(x){Ze(t,t.return,x)}}break;case 6:if(vs(s,t),Is(t),n&4){if(t.stateNode===null)throw Error(ce(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(x){Ze(t,t.return,x)}}break;case 3:if(vs(s,t),Is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pi(s.containerInfo)}catch(x){Ze(t,t.return,x)}break;case 4:vs(s,t),Is(t);break;case 13:vs(s,t),Is(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(qh=et())),n&4&&Ox(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(kt=(d=kt)||m,vs(s,t),kt=d):vs(s,t),Is(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(pe=t,m=t.child;m!==null;){for(u=pe=m;pe!==null;){switch(p=pe,v=p.child,p.tag){case 0:case 11:case 14:case 15:li(4,p,p.return);break;case 1:Ea(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{s=n,b.props=s.memoizedProps,b.state=s.memoizedState,b.componentWillUnmount()}catch(x){Ze(n,r,x)}}break;case 5:Ea(p,p.return);break;case 22:if(p.memoizedState!==null){Mx(u);continue}}v!==null?(v.return=p,pe=v):Mx(u)}m=m.sibling}e:for(m=null,u=t;;){if(u.tag===5){if(m===null){m=u;try{a=u.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=u.stateNode,c=u.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ag("display",i))}catch(x){Ze(t,t.return,x)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){Ze(t,t.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:vs(s,t),Is(t),n&4&&Ox(t);break;case 21:break;default:vs(s,t),Is(t)}}function Is(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(Ay(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(di(a,""),n.flags&=-33);var l=Fx(t);am(t,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Fx(t);nm(t,o,i);break;default:throw Error(ce(161))}}catch(c){Ze(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function _w(t,s,r){pe=t,Oy(t)}function Oy(t,s,r){for(var n=(t.mode&1)!==0;pe!==null;){var a=pe,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||co;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||kt;o=co;var d=kt;if(co=i,(kt=c)&&!d)for(pe=a;pe!==null;)i=pe,c=i.child,i.tag===22&&i.memoizedState!==null?Dx(a):c!==null?(c.return=i,pe=c):Dx(a);for(;l!==null;)pe=l,Oy(l),l=l.sibling;pe=a,co=o,kt=d}Lx(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,pe=l):Lx(t)}}function Lx(t){for(;pe!==null;){var s=pe;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:kt||Hc(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!kt)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:_s(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&bx(s,l,n);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}bx(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&pi(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}kt||s.flags&512&&rm(s)}catch(p){Ze(s,s.return,p)}}if(s===t){pe=null;break}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}}function Mx(t){for(;pe!==null;){var s=pe;if(s===t){pe=null;break}var r=s.sibling;if(r!==null){r.return=s.return,pe=r;break}pe=s.return}}function Dx(t){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Hc(4,s)}catch(c){Ze(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Ze(s,a,c)}}var l=s.return;try{rm(s)}catch(c){Ze(s,l,c)}break;case 5:var i=s.return;try{rm(s)}catch(c){Ze(s,i,c)}}}catch(c){Ze(s,s.return,c)}if(s===t){pe=null;break}var o=s.sibling;if(o!==null){o.return=s.return,pe=o;break}pe=s.return}}var Nw=Math.ceil,fc=Er.ReactCurrentDispatcher,Ih=Er.ReactCurrentOwner,xs=Er.ReactCurrentBatchConfig,Ae=0,ft=null,at=null,vt=0,Yt=0,Pa=_n(0),mt=0,ki=null,Xn=0,Wc=0,$h=0,ii=null,zt=null,qh=0,ll=1/0,ir=null,gc=!1,lm=null,dn=null,uo=!1,en=null,yc=0,oi=0,im=null,Fo=-1,Oo=0;function Mt(){return Ae&6?et():Fo!==-1?Fo:Fo=et()}function un(t){return t.mode&1?Ae&2&&vt!==0?vt&-vt:lw.transition!==null?(Oo===0&&(Oo=yg()),Oo):(t=Me,t!==0||(t=window.event,t=t===void 0?16:kg(t.type)),t):1}function As(t,s,r,n){if(50<oi)throw oi=0,im=null,Error(ce(185));Ii(t,r,n),(!(Ae&2)||t!==ft)&&(t===ft&&(!(Ae&2)&&(Wc|=r),mt===4&&Ur(t,vt)),Kt(t,n),r===1&&Ae===0&&!(s.mode&1)&&(ll=et()+500,Bc&&Nn()))}function Kt(t,s){var r=t.callbackNode;lN(t,s);var n=tc(t,t===ft?vt:0);if(n===0)r!==null&&Wp(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&Wp(r),s===1)t.tag===0?aw(Ix.bind(null,t)):Vg(Ix.bind(null,t)),tw(function(){!(Ae&6)&&Nn()}),r=null;else{switch(bg(n)){case 1:r=mh;break;case 4:r=fg;break;case 16:r=ec;break;case 536870912:r=gg;break;default:r=ec}r=By(r,Ly.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function Ly(t,s){if(Fo=-1,Oo=0,Ae&6)throw Error(ce(327));var r=t.callbackNode;if(Ma()&&t.callbackNode!==r)return null;var n=tc(t,t===ft?vt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=bc(t,n);else{s=n;var a=Ae;Ae|=2;var l=Dy();(ft!==t||vt!==s)&&(ir=null,ll=et()+500,Hn(t,s));do try{Cw();break}catch(o){My(t,o)}while(!0);kh(),fc.current=l,Ae=a,at!==null?s=0:(ft=null,vt=0,s=mt)}if(s!==0){if(s===2&&(a=Ou(t),a!==0&&(n=a,s=om(t,a))),s===1)throw r=ki,Hn(t,0),Ur(t,n),Kt(t,et()),r;if(s===6)Ur(t,n);else{if(a=t.current.alternate,!(n&30)&&!ww(a)&&(s=bc(t,n),s===2&&(l=Ou(t),l!==0&&(n=l,s=om(t,l))),s===1))throw r=ki,Hn(t,0),Ur(t,n),Kt(t,et()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(ce(345));case 2:Rn(t,zt,ir);break;case 3:if(Ur(t,n),(n&130023424)===n&&(s=qh+500-et(),10<s)){if(tc(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Mt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Bu(Rn.bind(null,t,zt,ir),s);break}Rn(t,zt,ir);break;case 4:if(Ur(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var i=31-Rs(n);l=1<<i,i=s[i],i>a&&(a=i),n&=~l}if(n=a,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nw(n/1960))-n,10<n){t.timeoutHandle=Bu(Rn.bind(null,t,zt,ir),n);break}Rn(t,zt,ir);break;case 5:Rn(t,zt,ir);break;default:throw Error(ce(329))}}}return Kt(t,et()),t.callbackNode===r?Ly.bind(null,t):null}function om(t,s){var r=ii;return t.current.memoizedState.isDehydrated&&(Hn(t,s).flags|=256),t=bc(t,s),t!==2&&(s=zt,zt=r,s!==null&&cm(s)),t}function cm(t){zt===null?zt=t:zt.push.apply(zt,t)}function ww(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Ts(l(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ur(t,s){for(s&=~$h,s&=~Wc,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Rs(s),n=1<<r;t[r]=-1,s&=~n}}function Ix(t){if(Ae&6)throw Error(ce(327));Ma();var s=tc(t,0);if(!(s&1))return Kt(t,et()),null;var r=bc(t,s);if(t.tag!==0&&r===2){var n=Ou(t);n!==0&&(s=n,r=om(t,n))}if(r===1)throw r=ki,Hn(t,0),Ur(t,s),Kt(t,et()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Rn(t,zt,ir),Kt(t,et()),null}function zh(t,s){var r=Ae;Ae|=1;try{return t(s)}finally{Ae=r,Ae===0&&(ll=et()+500,Bc&&Nn())}}function Zn(t){en!==null&&en.tag===0&&!(Ae&6)&&Ma();var s=Ae;Ae|=1;var r=xs.transition,n=Me;try{if(xs.transition=null,Me=1,t)return t()}finally{Me=n,xs.transition=r,Ae=s,!(Ae&6)&&Nn()}}function Bh(){Yt=Pa.current,Ve(Pa)}function Hn(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ew(r)),at!==null)for(r=at.return;r!==null;){var n=r;switch(_h(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lc();break;case 3:nl(),Ve(Ht),Ve(St),Ah();break;case 5:Rh(n);break;case 4:nl();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:Ch(n.type._context);break;case 22:case 23:Bh()}r=r.return}if(ft=t,at=t=mn(t.current,null),vt=Yt=s,mt=0,ki=null,$h=Wc=Xn=0,zt=ii=null,Tn!==null){for(s=0;s<Tn.length;s++)if(r=Tn[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Tn=null}return t}function My(t,s){do{var r=at;try{if(kh(),Ro.current=xc,pc){for(var n=Ge.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}pc=!1}if(Jn=0,xt=ct=Ge=null,ai=!1,_i=0,Ih.current=null,r===null||r.return===null){mt=1,ki=s,at=null;break}e:{var l=t,i=r.return,o=r,c=s;if(s=vt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=kx(i);if(v!==null){v.flags&=-257,Cx(v,i,o,l,s),v.mode&1&&wx(l,d,s),s=v,c=d;var b=s.updateQueue;if(b===null){var x=new Set;x.add(c),s.updateQueue=x}else b.add(c);break e}else{if(!(s&1)){wx(l,d,s),Uh();break e}c=Error(ce(426))}}else if(We&&o.mode&1){var y=kx(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Cx(y,i,o,l,s),Nh(al(c,o));break e}}l=c=al(c,o),mt!==4&&(mt=2),ii===null?ii=[l]:ii.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var f=by(l,c,s);yx(l,f);break e;case 1:o=c;var g=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(dn===null||!dn.has(j)))){l.flags|=65536,s&=-s,l.lanes|=s;var _=vy(l,o,s);yx(l,_);break e}}l=l.return}while(l!==null)}$y(r)}catch(S){s=S,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function Dy(){var t=fc.current;return fc.current=xc,t===null?xc:t}function Uh(){(mt===0||mt===3||mt===2)&&(mt=4),ft===null||!(Xn&268435455)&&!(Wc&268435455)||Ur(ft,vt)}function bc(t,s){var r=Ae;Ae|=2;var n=Dy();(ft!==t||vt!==s)&&(ir=null,Hn(t,s));do try{kw();break}catch(a){My(t,a)}while(!0);if(kh(),Ae=r,fc.current=n,at!==null)throw Error(ce(261));return ft=null,vt=0,mt}function kw(){for(;at!==null;)Iy(at)}function Cw(){for(;at!==null&&!J_();)Iy(at)}function Iy(t){var s=zy(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,s===null?$y(t):at=s,Ih.current=null}function $y(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=bw(r,s),r!==null){r.flags&=32767,at=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,at=null;return}}else if(r=yw(r,s,Yt),r!==null){at=r;return}if(s=s.sibling,s!==null){at=s;return}at=s=t}while(s!==null);mt===0&&(mt=5)}function Rn(t,s,r){var n=Me,a=xs.transition;try{xs.transition=null,Me=1,Sw(t,s,r,n)}finally{xs.transition=a,Me=n}return null}function Sw(t,s,r,n){do Ma();while(en!==null);if(Ae&6)throw Error(ce(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(iN(t,l),t===ft&&(at=ft=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||uo||(uo=!0,By(ec,function(){return Ma(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=xs.transition,xs.transition=null;var i=Me;Me=1;var o=Ae;Ae|=4,Ih.current=null,jw(t,r),Fy(r,t),KN(qu),sc=!!$u,qu=$u=null,t.current=r,_w(r),X_(),Ae=o,Me=i,xs.transition=l}else t.current=r;if(uo&&(uo=!1,en=t,yc=a),l=t.pendingLanes,l===0&&(dn=null),tN(r.stateNode),Kt(t,et()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(gc)throw gc=!1,t=lm,lm=null,t;return yc&1&&t.tag!==0&&Ma(),l=t.pendingLanes,l&1?t===im?oi++:(oi=0,im=t):oi=0,Nn(),null}function Ma(){if(en!==null){var t=bg(yc),s=xs.transition,r=Me;try{if(xs.transition=null,Me=16>t?16:t,en===null)var n=!1;else{if(t=en,en=null,yc=0,Ae&6)throw Error(ce(331));var a=Ae;for(Ae|=4,pe=t.current;pe!==null;){var l=pe,i=l.child;if(pe.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(pe=d;pe!==null;){var m=pe;switch(m.tag){case 0:case 11:case 15:li(8,m,l)}var u=m.child;if(u!==null)u.return=m,pe=u;else for(;pe!==null;){m=pe;var p=m.sibling,v=m.return;if(Ry(m),m===d){pe=null;break}if(p!==null){p.return=v,pe=p;break}pe=v}}}var b=l.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}pe=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,pe=i;else e:for(;pe!==null;){if(l=pe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:li(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,pe=f;break e}pe=l.return}}var g=t.current;for(pe=g;pe!==null;){i=pe;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,pe=j;else e:for(i=g;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hc(9,o)}}catch(S){Ze(o,o.return,S)}if(o===i){pe=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,pe=_;break e}pe=o.return}}if(Ae=a,Nn(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(Dc,t)}catch{}n=!0}return n}finally{Me=r,xs.transition=s}}return!1}function $x(t,s,r){s=al(r,s),s=by(t,s,1),t=cn(t,s,1),s=Mt(),t!==null&&(Ii(t,1,s),Kt(t,s))}function Ze(t,s,r){if(t.tag===3)$x(t,t,r);else for(;s!==null;){if(s.tag===3){$x(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){t=al(r,t),t=vy(s,t,1),s=cn(s,t,1),t=Mt(),s!==null&&(Ii(s,1,t),Kt(s,t));break}}s=s.return}}function Ew(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Mt(),t.pingedLanes|=t.suspendedLanes&r,ft===t&&(vt&r)===r&&(mt===4||mt===3&&(vt&130023424)===vt&&500>et()-qh?Hn(t,0):$h|=r),Kt(t,s)}function qy(t,s){s===0&&(t.mode&1?(s=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):s=1);var r=Mt();t=jr(t,s),t!==null&&(Ii(t,s,r),Kt(t,r))}function Pw(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),qy(t,r)}function Rw(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(s),qy(t,r)}var zy;zy=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Ht.current)Vt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Vt=!1,gw(t,s,r);Vt=!!(t.flags&131072)}else Vt=!1,We&&s.flags&1048576&&Hg(s,cc,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;To(t,s),t=s.pendingProps;var a=tl(s,St.current);La(s,r),a=Fh(null,s,n,t,a,r);var l=Oh();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Wt(n)?(l=!0,ic(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Eh(s),a.updater=Vc,s.stateNode=a,a._reactInternals=s,Gu(s,n,t,r),s=Xu(null,s,n,!0,l,r)):(s.tag=0,We&&l&&jh(s),Tt(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(To(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=Tw(n),t=_s(n,t),a){case 0:s=Ju(null,s,n,t,r);break e;case 1:s=Px(null,s,n,t,r);break e;case 11:s=Sx(null,s,n,t,r);break e;case 14:s=Ex(null,s,n,_s(n.type,t),r);break e}throw Error(ce(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),Ju(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),Px(t,s,n,a,r);case 3:e:{if(wy(s),t===null)throw Error(ce(387));n=s.pendingProps,l=s.memoizedState,a=l.element,Jg(t,s),mc(s,n,null,r);var i=s.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=al(Error(ce(423)),s),s=Rx(t,s,n,r,a);break e}else if(n!==a){a=al(Error(ce(424)),s),s=Rx(t,s,n,r,a);break e}else for(Zt=on(s.stateNode.containerInfo.firstChild),ss=s,We=!0,Ss=null,r=Gg(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sl(),n===a){s=_r(t,s,r);break e}Tt(t,s,n,r)}s=s.child}return s;case 5:return Xg(s),t===null&&Wu(s),n=s.type,a=s.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,zu(n,a)?i=null:l!==null&&zu(n,l)&&(s.flags|=32),Ny(t,s),Tt(t,s,i,r),s.child;case 6:return t===null&&Wu(s),null;case 13:return ky(t,s,r);case 4:return Ph(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=rl(s,null,n,r):Tt(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),Sx(t,s,n,a,r);case 7:return Tt(t,s,s.pendingProps,r),s.child;case 8:return Tt(t,s,s.pendingProps.children,r),s.child;case 12:return Tt(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,l=s.memoizedProps,i=a.value,Ie(dc,n._currentValue),n._currentValue=i,l!==null)if(Ts(l.value,i)){if(l.children===a.children&&!Ht.current){s=_r(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=fr(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Ku(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(ce(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Ku(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Tt(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,La(s,r),a=fs(a),n=n(a),s.flags|=1,Tt(t,s,n,r),s.child;case 14:return n=s.type,a=_s(n,s.pendingProps),a=_s(n.type,a),Ex(t,s,n,a,r);case 15:return jy(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:_s(n,a),To(t,s),s.tag=1,Wt(n)?(t=!0,ic(s)):t=!1,La(s,r),yy(s,n,a),Gu(s,n,a,r),Xu(null,s,n,!0,t,r);case 19:return Cy(t,s,r);case 22:return _y(t,s,r)}throw Error(ce(156,s.tag))};function By(t,s){return xg(t,s)}function Aw(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(t,s,r,n){return new Aw(t,s,r,n)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tw(t){if(typeof t=="function")return Vh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ch)return 11;if(t===dh)return 14}return 2}function mn(t,s){var r=t.alternate;return r===null?(r=ps(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lo(t,s,r,n,a,l){var i=2;if(n=t,typeof t=="function")Vh(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ba:return Wn(r.children,a,l,s);case oh:i=8,a|=8;break;case bu:return t=ps(12,r,s,a|2),t.elementType=bu,t.lanes=l,t;case vu:return t=ps(13,r,s,a),t.elementType=vu,t.lanes=l,t;case ju:return t=ps(19,r,s,a),t.elementType=ju,t.lanes=l,t;case X0:return Kc(r,a,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y0:i=10;break e;case J0:i=9;break e;case ch:i=11;break e;case dh:i=14;break e;case qr:i=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return s=ps(i,r,s,a),s.elementType=t,s.type=n,s.lanes=l,s}function Wn(t,s,r,n){return t=ps(7,t,n,s),t.lanes=r,t}function Kc(t,s,r,n){return t=ps(22,t,n,s),t.elementType=X0,t.lanes=r,t.stateNode={isHidden:!1},t}function Ud(t,s,r){return t=ps(6,t,null,s),t.lanes=r,t}function Vd(t,s,r){return s=ps(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Fw(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wd(0),this.expirationTimes=wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wd(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hh(t,s,r,n,a,l,i,o,c){return t=new Fw(t,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=ps(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(l),t}function Ow(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function Uy(t){if(!t)return yn;t=t._reactInternals;e:{if(ua(t)!==t||t.tag!==1)throw Error(ce(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Wt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(Wt(r))return Ug(t,r,s)}return s}function Vy(t,s,r,n,a,l,i,o,c){return t=Hh(r,n,!0,t,a,l,i,o,c),t.context=Uy(null),r=t.current,n=Mt(),a=un(r),l=fr(n,a),l.callback=s??null,cn(r,l,a),t.current.lanes=a,Ii(t,a,n),Kt(t,n),t}function Qc(t,s,r,n){var a=s.current,l=Mt(),i=un(a);return r=Uy(r),s.context===null?s.context=r:s.pendingContext=r,s=fr(l,i),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=cn(a,s,i),t!==null&&(As(t,a,i,l),Po(t,a,i)),i}function vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Wh(t,s){qx(t,s),(t=t.alternate)&&qx(t,s)}function Lw(){return null}var Hy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kh(t){this._internalRoot=t}Gc.prototype.render=Kh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ce(409));Qc(t,s,null,null)};Gc.prototype.unmount=Kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Zn(function(){Qc(null,t,null,null)}),s[vr]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var s=_g();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Br.length&&s!==0&&s<Br[r].priority;r++);Br.splice(r,0,t),r===0&&wg(t)}};function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zx(){}function Mw(t,s,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=vc(i);l.call(d)}}var i=Vy(s,n,t,0,null,!1,!1,"",zx);return t._reactRootContainer=i,t[vr]=i.current,gi(t.nodeType===8?t.parentNode:t),Zn(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=vc(c);o.call(d)}}var c=Hh(t,0,!1,null,null,!1,!1,"",zx);return t._reactRootContainer=c,t[vr]=c.current,gi(t.nodeType===8?t.parentNode:t),Zn(function(){Qc(s,c,r,n)}),c}function Jc(t,s,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=vc(i);o.call(c)}}Qc(s,i,t,a)}else i=Mw(r,s,t,a,n);return vc(i)}vg=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Kl(s.pendingLanes);r!==0&&(hh(s,r|1),Kt(s,et()),!(Ae&6)&&(ll=et()+500,Nn()))}break;case 13:Zn(function(){var n=jr(t,1);if(n!==null){var a=Mt();As(n,t,1,a)}}),Wh(t,1)}};ph=function(t){if(t.tag===13){var s=jr(t,134217728);if(s!==null){var r=Mt();As(s,t,134217728,r)}Wh(t,134217728)}};jg=function(t){if(t.tag===13){var s=un(t),r=jr(t,s);if(r!==null){var n=Mt();As(r,t,s,n)}Wh(t,s)}};_g=function(){return Me};Ng=function(t,s){var r=Me;try{return Me=t,s()}finally{Me=r}};Au=function(t,s,r){switch(s){case"input":if(wu(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=zc(n);if(!a)throw Error(ce(90));eg(n),wu(n,a)}}}break;case"textarea":sg(t,r);break;case"select":s=r.value,s!=null&&Aa(t,!!r.multiple,s,!1)}};cg=zh;dg=Zn;var Dw={usingClientEntryPoint:!1,Events:[qi,Na,zc,ig,og,zh]},$l={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iw={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hg(t),t===null?null:t.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||Lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{Dc=mo.inject(Iw),Qs=mo}catch{}}as.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dw;as.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(s))throw Error(ce(200));return Ow(t,s,null,r)};as.createRoot=function(t,s){if(!Qh(t))throw Error(ce(299));var r=!1,n="",a=Hy;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Hh(t,1,!1,null,null,r,!1,n,a),t[vr]=s.current,gi(t.nodeType===8?t.parentNode:t),new Kh(s)};as.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=hg(s),t=t===null?null:t.stateNode,t};as.flushSync=function(t){return Zn(t)};as.hydrate=function(t,s,r){if(!Yc(s))throw Error(ce(200));return Jc(null,t,s,!0,r)};as.hydrateRoot=function(t,s,r){if(!Qh(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=Hy;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=Vy(s,null,t,1,r??null,a,!1,l,i),t[vr]=s.current,gi(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Gc(s)};as.render=function(t,s,r){if(!Yc(s))throw Error(ce(200));return Jc(null,t,s,!1,r)};as.unmountComponentAtNode=function(t){if(!Yc(t))throw Error(ce(40));return t._reactRootContainer?(Zn(function(){Jc(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};as.unstable_batchedUpdates=zh;as.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Yc(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Jc(t,s,r,!1,n)};as.version="18.3.1-next-f1338f8080-20240426";function Wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wy)}catch(t){console.error(t)}}Wy(),W0.exports=as;var gl=W0.exports;const $w=O0(gl);var Ky,Bx=gl;Ky=Bx.createRoot,Bx.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ci(){return Ci=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ci.apply(this,arguments)}var tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tn||(tn={}));const Ux="popstate";function qw(t){t===void 0&&(t={});function s(n,a){let{pathname:l,search:i,hash:o}=n.location;return dm("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:jc(a)}return Bw(s,r,null,t)}function tt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Gh(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function zw(){return Math.random().toString(36).substr(2,8)}function Vx(t,s){return{usr:t.state,key:t.key,idx:s}}function dm(t,s,r,n){return r===void 0&&(r=null),Ci({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?yl(s):s,{state:r,key:s&&s.key||n||zw()})}function jc(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function yl(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function Bw(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=tn.Pop,c=null,d=m();d==null&&(d=0,i.replaceState(Ci({},i.state,{idx:d}),""));function m(){return(i.state||{idx:null}).idx}function u(){o=tn.Pop;let y=m(),f=y==null?null:y-d;d=y,c&&c({action:o,location:x.location,delta:f})}function p(y,f){o=tn.Push;let g=dm(x.location,y,f);d=m()+1;let j=Vx(g,d),_=x.createHref(g);try{i.pushState(j,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}l&&c&&c({action:o,location:x.location,delta:1})}function v(y,f){o=tn.Replace;let g=dm(x.location,y,f);d=m();let j=Vx(g,d),_=x.createHref(g);i.replaceState(j,"",_),l&&c&&c({action:o,location:x.location,delta:0})}function b(y){let f=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof y=="string"?y:jc(y);return g=g.replace(/ $/,"%20"),tt(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let x={get action(){return o},get location(){return t(a,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ux,u),c=y,()=>{a.removeEventListener(Ux,u),c=null}},createHref(y){return s(a,y)},createURL:b,encodeLocation(y){let f=b(y);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:v,go(y){return i.go(y)}};return x}var Hx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hx||(Hx={}));function Uw(t,s,r){return r===void 0&&(r="/"),Vw(t,s,r)}function Vw(t,s,r,n){let a=typeof s=="string"?yl(s):s,l=Yh(a.pathname||"/",r);if(l==null)return null;let i=Qy(t);Hw(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=r2(l);o=e2(i[c],d)}return o}function Qy(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=hn([n,c.relativePath]),m=r.concat(c);l.children&&l.children.length>0&&(tt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Qy(l.children,s,m,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:Xw(d,l.index),routesMeta:m})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Gy(l.path))a(l,i,c)}),s}function Gy(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Gy(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Hw(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Zw(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ww=/^:[\w-]+$/,Kw=3,Qw=2,Gw=1,Yw=10,Jw=-2,Wx=t=>t==="*";function Xw(t,s){let r=t.split("/"),n=r.length;return r.some(Wx)&&(n+=Jw),s&&(n+=Qw),r.filter(a=>!Wx(a)).reduce((a,l)=>a+(Ww.test(l)?Kw:l===""?Gw:Yw),n)}function Zw(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function e2(t,s,r){let{routesMeta:n}=t,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=l==="/"?s:s.slice(l.length)||"/",u=t2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:hn([l,u.pathname]),pathnameBase:o2(hn([l,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(l=hn([l,u.pathnameBase]))}return i}function t2(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=s2(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,m,u)=>{let{paramName:p,isOptional:v}=m;if(p==="*"){let x=o[u]||"";i=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const b=o[u];return v&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function s2(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Gh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function r2(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Gh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Yh(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a2=t=>n2.test(t);function l2(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?yl(t):t,l;if(r)if(a2(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Gh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=Kx(r.substring(1),"/"):l=Kx(r,s)}else l=s;return{pathname:l,search:c2(n),hash:d2(a)}}function Kx(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Hd(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i2(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Jh(t,s){let r=i2(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xh(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=yl(t):(a=Ci({},t),tt(!a.pathname||!a.pathname.includes("?"),Hd("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),Hd("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),Hd("#","search","hash",a)));let l=t===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let u=s.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),u-=1;a.pathname=p.join("/")}o=u>=0?s[u]:"/"}let c=l2(a,o),d=i&&i!=="/"&&i.endsWith("/"),m=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const hn=t=>t.join("/").replace(/\/\/+/g,"/"),o2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Yy=["post","put","patch","delete"];new Set(Yy);const m2=["get",...Yy];new Set(m2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Si.apply(this,arguments)}const Zh=h.createContext(null),h2=h.createContext(null),wn=h.createContext(null),Xc=h.createContext(null),Pr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Jy=h.createContext(null);function p2(t,s){let{relative:r}=s===void 0?{}:s;bl()||tt(!1);let{basename:n,navigator:a}=h.useContext(wn),{hash:l,pathname:i,search:o}=Zy(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:hn([n,i])),a.createHref({pathname:c,search:o,hash:l})}function bl(){return h.useContext(Xc)!=null}function kn(){return bl()||tt(!1),h.useContext(Xc).location}function Xy(t){h.useContext(wn).static||h.useLayoutEffect(t)}function it(){let{isDataRoute:t}=h.useContext(Pr);return t?S2():x2()}function x2(){bl()||tt(!1);let t=h.useContext(Zh),{basename:s,future:r,navigator:n}=h.useContext(wn),{matches:a}=h.useContext(Pr),{pathname:l}=kn(),i=JSON.stringify(Jh(a,r.v7_relativeSplatPath)),o=h.useRef(!1);return Xy(()=>{o.current=!0}),h.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let u=Xh(d,JSON.parse(i),l,m.relative==="path");t==null&&s!=="/"&&(u.pathname=u.pathname==="/"?s:hn([s,u.pathname])),(m.replace?n.replace:n.push)(u,m.state,m)},[s,n,i,l,t])}function ma(){let{matches:t}=h.useContext(Pr),s=t[t.length-1];return s?s.params:{}}function Zy(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=h.useContext(wn),{matches:a}=h.useContext(Pr),{pathname:l}=kn(),i=JSON.stringify(Jh(a,n.v7_relativeSplatPath));return h.useMemo(()=>Xh(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function f2(t,s){return g2(t,s)}function g2(t,s,r,n){bl()||tt(!1);let{navigator:a}=h.useContext(wn),{matches:l}=h.useContext(Pr),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=kn(),m;if(s){var u;let y=typeof s=="string"?yl(s):s;c==="/"||(u=y.pathname)!=null&&u.startsWith(c)||tt(!1),m=y}else m=d;let p=m.pathname||"/",v=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=Uw(t,{pathname:v}),x=_2(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:hn([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:hn([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,r,n);return s&&x?h.createElement(Xc.Provider,{value:{location:Si({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:tn.Pop}},x):x}function y2(){let t=C2(),s=u2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},s),r?h.createElement("pre",{style:a},r):null,null)}const b2=h.createElement(y2,null);class v2 extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?h.createElement(Pr.Provider,{value:this.props.routeContext},h.createElement(Jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j2(t){let{routeContext:s,match:r,children:n}=t,a=h.useContext(Zh);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Pr.Provider,{value:s},n)}function _2(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let m=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);m>=0||tt(!1),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<i.length;m++){let u=i[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:p,errors:v}=r,b=u.route.loader&&p[u.route.id]===void 0&&(!v||v[u.route.id]===void 0);if(u.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((m,u,p)=>{let v,b=!1,x=null,y=null;r&&(v=o&&u.route.id?o[u.route.id]:void 0,x=u.route.errorElement||b2,c&&(d<0&&p===0?(E2("route-fallback"),b=!0,y=null):d===p&&(b=!0,y=u.route.hydrateFallbackElement||null)));let f=s.concat(i.slice(0,p+1)),g=()=>{let j;return v?j=x:b?j=y:u.route.Component?j=h.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=m,h.createElement(j2,{match:u,routeContext:{outlet:m,matches:f,isDataRoute:r!=null},children:j})};return r&&(u.route.ErrorBoundary||u.route.errorElement||p===0)?h.createElement(v2,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var eb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eb||{}),tb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tb||{});function N2(t){let s=h.useContext(Zh);return s||tt(!1),s}function w2(t){let s=h.useContext(h2);return s||tt(!1),s}function k2(t){let s=h.useContext(Pr);return s||tt(!1),s}function sb(t){let s=k2(),r=s.matches[s.matches.length-1];return r.route.id||tt(!1),r.route.id}function C2(){var t;let s=h.useContext(Jy),r=w2(),n=sb();return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function S2(){let{router:t}=N2(eb.UseNavigateStable),s=sb(tb.UseNavigateStable),r=h.useRef(!1);return Xy(()=>{r.current=!0}),h.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Si({fromRouteId:s},l)))},[t,s])}const Qx={};function E2(t,s,r){Qx[t]||(Qx[t]=!0)}function P2(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ra(t){let{to:s,replace:r,state:n,relative:a}=t;bl()||tt(!1);let{future:l,static:i}=h.useContext(wn),{matches:o}=h.useContext(Pr),{pathname:c}=kn(),d=it(),m=Xh(s,Jh(o,l.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(m);return h.useEffect(()=>d(JSON.parse(u),{replace:r,state:n,relative:a}),[d,u,a,r,n]),null}function Ce(t){tt(!1)}function R2(t){let{basename:s="/",children:r=null,location:n,navigationType:a=tn.Pop,navigator:l,static:i=!1,future:o}=t;bl()&&tt(!1);let c=s.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:l,static:i,future:Si({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=yl(n));let{pathname:m="/",search:u="",hash:p="",state:v=null,key:b="default"}=n,x=h.useMemo(()=>{let y=Yh(m,c);return y==null?null:{location:{pathname:y,search:u,hash:p,state:v,key:b},navigationType:a}},[c,m,u,p,v,b,a]);return x==null?null:h.createElement(wn.Provider,{value:d},h.createElement(Xc.Provider,{children:r,value:x}))}function A2(t){let{children:s,location:r}=t;return f2(um(s),r)}new Promise(()=>{});function um(t,s){s===void 0&&(s=[]);let r=[];return h.Children.forEach(t,(n,a)=>{if(!h.isValidElement(n))return;let l=[...s,a];if(n.type===h.Fragment){r.push.apply(r,um(n.props.children,l));return}n.type!==Ce&&tt(!1),!n.props.index||!n.props.children||tt(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=um(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function T2(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function F2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O2(t,s){return t.button===0&&(!s||s==="_self")&&!F2(t)}function hm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function L2(t,s){let r=hm(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(l=>{r.append(a,l)})}),r}const M2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D2="6";try{window.__reactRouterVersion=D2}catch{}const I2="startTransition",Gx=Mc[I2];function $2(t){let{basename:s,children:r,future:n,window:a}=t,l=h.useRef();l.current==null&&(l.current=qw({window:a,v5Compat:!0}));let i=l.current,[o,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},m=h.useCallback(u=>{d&&Gx?Gx(()=>c(u)):c(u)},[c,d]);return h.useLayoutEffect(()=>i.listen(m),[i,m]),h.useEffect(()=>P2(n),[n]),h.createElement(R2,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=h.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:m,viewTransition:u}=s,p=T2(s,M2),{basename:v}=h.useContext(wn),b,x=!1;if(typeof d=="string"&&z2.test(d)&&(b=d,q2))try{let j=new URL(window.location.href),_=d.startsWith("//")?new URL(j.protocol+d):new URL(d),S=Yh(_.pathname,v);_.origin===j.origin&&S!=null?d=S+_.search+_.hash:x=!0}catch{}let y=p2(d,{relative:a}),f=B2(d,{replace:i,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:u});function g(j){n&&n(j),j.defaultPrevented||f(j)}return h.createElement("a",mm({},p,{href:b||y,onClick:x||l?n:g,ref:r,target:c}))});var Yx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yx||(Yx={}));var Jx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jx||(Jx={}));function B2(t,s){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=it(),d=kn(),m=Zy(t,{relative:i});return h.useCallback(u=>{if(O2(u,r)){u.preventDefault();let p=n!==void 0?n:jc(d)===jc(m);c(t,{replace:p,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,m,n,a,r,t,l,i,o])}function nt(t){let s=h.useRef(hm(t)),r=h.useRef(!1),n=kn(),a=h.useMemo(()=>L2(n.search,r.current?null:s.current),[n.search]),l=it(),i=h.useCallback((o,c)=>{const d=hm(typeof o=="function"?o(a):o);r.current=!0,l("?"+d,c)},[l,a]);return[a,i]}var vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},U2={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},Vr,eh,N0,V2=(N0=class{constructor(){fe(this,Vr,U2);fe(this,eh,!1)}setTimeoutProvider(t){he(this,Vr,t)}setTimeout(t,s){return $(this,Vr).setTimeout(t,s)}clearTimeout(t){$(this,Vr).clearTimeout(t)}setInterval(t,s){return $(this,Vr).setInterval(t,s)}clearInterval(t){$(this,Vr).clearInterval(t)}},Vr=new WeakMap,eh=new WeakMap,N0),On=new V2;function H2(t){setTimeout(t,0)}var ea=typeof window>"u"||"Deno"in globalThis;function Ft(){}function W2(t,s){return typeof t=="function"?t(s):t}function pm(t){return typeof t=="number"&&t>=0&&t!==1/0}function rb(t,s){return Math.max(t+(s||0)-Date.now(),0)}function pn(t,s){return typeof t=="function"?t(s):t}function ds(t,s){return typeof t=="function"?t(s):t}function Xx(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:l,queryKey:i,stale:o}=t;if(i){if(n){if(s.queryHash!==ep(i,s.options))return!1}else if(!Ei(s.queryKey,i))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||l&&!l(s))}function Zx(t,s){const{exact:r,status:n,predicate:a,mutationKey:l}=t;if(l){if(!s.options.mutationKey)return!1;if(r){if(ta(s.options.mutationKey)!==ta(l))return!1}else if(!Ei(s.options.mutationKey,l))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function ep(t,s){return((s==null?void 0:s.queryKeyHashFn)||ta)(t)}function ta(t){return JSON.stringify(t,(s,r)=>xm(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ei(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Ei(t[r],s[r])):!1}var K2=Object.prototype.hasOwnProperty;function nb(t,s){if(t===s)return t;const r=ef(t)&&ef(s);if(!r&&!(xm(t)&&xm(s)))return s;const a=(r?t:Object.keys(t)).length,l=r?s:Object.keys(s),i=l.length,o=r?new Array(i):{};let c=0;for(let d=0;d<i;d++){const m=r?d:l[d],u=t[m],p=s[m];if(u===p){o[m]=u,(r?d<a:K2.call(t,m))&&c++;continue}if(u===null||p===null||typeof u!="object"||typeof p!="object"){o[m]=p;continue}const v=nb(u,p);o[m]=v,v===u&&c++}return a===i&&c===a?t:o}function _c(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function ef(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xm(t){if(!tf(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!tf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tf(t){return Object.prototype.toString.call(t)==="[object Object]"}function Q2(t){return new Promise(s=>{On.setTimeout(s,t)})}function fm(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?nb(t,s):s}function G2(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function Y2(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var tp=Symbol();function ab(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===tp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function lb(t,s){return typeof t=="function"?t(...s):!!t}var Mn,Hr,Ba,w0,J2=(w0=class extends vl{constructor(){super();fe(this,Mn);fe(this,Hr);fe(this,Ba);he(this,Ba,s=>{if(!ea&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Hr)||this.setEventListener($(this,Ba))}onUnsubscribe(){var s;this.hasListeners()||((s=$(this,Hr))==null||s.call(this),he(this,Hr,void 0))}setEventListener(s){var r;he(this,Ba,s),(r=$(this,Hr))==null||r.call(this),he(this,Hr,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){$(this,Mn)!==s&&(he(this,Mn,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof $(this,Mn)=="boolean"?$(this,Mn):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Mn=new WeakMap,Hr=new WeakMap,Ba=new WeakMap,w0),sp=new J2;function gm(){let t,s;const r=new Promise((a,l)=>{t=a,s=l});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}var X2=H2;function Z2(){let t=[],s=0,r=o=>{o()},n=o=>{o()},a=X2;const l=o=>{s?t.push(o):a(()=>{r(o)})},i=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||i()}return c},batchCalls:o=>(...c)=>{l(()=>{o(...c)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var dt=Z2(),Ua,Wr,Va,k0,e1=(k0=class extends vl{constructor(){super();fe(this,Ua,!0);fe(this,Wr);fe(this,Va);he(this,Va,s=>{if(!ea&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Wr)||this.setEventListener($(this,Va))}onUnsubscribe(){var s;this.hasListeners()||((s=$(this,Wr))==null||s.call(this),he(this,Wr,void 0))}setEventListener(s){var r;he(this,Va,s),(r=$(this,Wr))==null||r.call(this),he(this,Wr,s(this.setOnline.bind(this)))}setOnline(s){$(this,Ua)!==s&&(he(this,Ua,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return $(this,Ua)}},Ua=new WeakMap,Wr=new WeakMap,Va=new WeakMap,k0),Nc=new e1;function t1(t){return Math.min(1e3*2**t,3e4)}function ib(t){return(t??"online")==="online"?Nc.isOnline():!0}var ym=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ob(t){let s=!1,r=0,n;const a=gm(),l=()=>a.status!=="pending",i=x=>{var y;if(!l()){const f=new ym(x);p(f),(y=t.onCancel)==null||y.call(t,f)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>sp.isFocused()&&(t.networkMode==="always"||Nc.isOnline())&&t.canRun(),m=()=>ib(t.networkMode)&&t.canRun(),u=x=>{l()||(n==null||n(),a.resolve(x))},p=x=>{l()||(n==null||n(),a.reject(x))},v=()=>new Promise(x=>{var y;n=f=>{(l()||d())&&x(f)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;n=void 0,l()||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(l())return;let x;const y=r===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(f){x=Promise.reject(f)}Promise.resolve(x).then(u).catch(f=>{var O;if(l())return;const g=t.retry??(ea?0:3),j=t.retryDelay??t1,_=typeof j=="function"?j(r,f):j,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,f);if(s||!S){p(f);return}r++,(O=t.onFail)==null||O.call(t,r,f),Q2(_).then(()=>d()?void 0:v()).then(()=>{s?p(f):b()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?b():v().then(b),a)}}var Dn,C0,cb=(C0=class{constructor(){fe(this,Dn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pm(this.gcTime)&&he(this,Dn,On.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ea?1/0:5*60*1e3))}clearGcTimeout(){$(this,Dn)&&(On.clearTimeout($(this,Dn)),he(this,Dn,void 0))}},Dn=new WeakMap,C0),In,Ha,cs,$n,pt,Ti,qn,Ns,nr,S0,s1=(S0=class extends cb{constructor(s){super();fe(this,Ns);fe(this,In);fe(this,Ha);fe(this,cs);fe(this,$n);fe(this,pt);fe(this,Ti);fe(this,qn);he(this,qn,!1),he(this,Ti,s.defaultOptions),this.setOptions(s.options),this.observers=[],he(this,$n,s.client),he(this,cs,$(this,$n).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,he(this,In,rf(this.options)),this.state=s.state??$(this,In),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=$(this,pt))==null?void 0:s.promise}setOptions(s){if(this.options={...$(this,Ti),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=rf(this.options);r.data!==void 0&&(this.setState(sf(r.data,r.dataUpdatedAt)),he(this,In,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,cs).remove(this)}setData(s,r){const n=fm(this.state.data,s,this.options);return ke(this,Ns,nr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){ke(this,Ns,nr).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=$(this,pt))==null?void 0:n.promise;return(a=$(this,pt))==null||a.cancel(s),r?r.then(Ft).catch(Ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,In))}isActive(){return this.observers.some(s=>ds(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>pn(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!rb(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=$(this,pt))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=$(this,pt))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),$(this,cs).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||($(this,pt)&&($(this,qn)?$(this,pt).cancel({revert:!0}):$(this,pt).cancelRetry()),this.scheduleGc()),$(this,cs).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,Ns,nr).call(this,{type:"invalidate"})}async fetch(s,r){var c,d,m,u,p,v,b,x,y,f,g,j;if(this.state.fetchStatus!=="idle"&&((c=$(this,pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,pt))return $(this,pt).continueRetry(),$(this,pt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(he(this,qn,!0),n.signal)})},l=()=>{const _=ab(this.options,r),O=(()=>{const E={client:$(this,$n),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return he(this,qn,!1),this.options.persister?this.options.persister(_,O,this):_(O)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,$n),state:this.state,fetchFn:l};return a(_),_})();(d=this.options.behavior)==null||d.onFetch(o,this),he(this,Ha,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&ke(this,Ns,nr).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta}),he(this,pt,ob({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof ym&&_.revert&&this.setState({...$(this,Ha),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{ke(this,Ns,nr).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{ke(this,Ns,nr).call(this,{type:"pause"})},onContinue:()=>{ke(this,Ns,nr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await $(this,pt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(v=(p=$(this,cs).config).onSuccess)==null||v.call(p,_,this),(x=(b=$(this,cs).config).onSettled)==null||x.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof ym){if(_.silent)return $(this,pt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ke(this,Ns,nr).call(this,{type:"error",error:_}),(f=(y=$(this,cs).config).onError)==null||f.call(y,_,this),(j=(g=$(this,cs).config).onSettled)==null||j.call(g,this.state.data,_,this),_}finally{this.scheduleGc()}}},In=new WeakMap,Ha=new WeakMap,cs=new WeakMap,$n=new WeakMap,pt=new WeakMap,Ti=new WeakMap,qn=new WeakMap,Ns=new WeakSet,nr=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...db(n.data,this.options),fetchMeta:s.meta??null};case"success":const a={...n,...sf(s.data,s.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return he(this,Ha,s.manual?a:void 0),a;case"error":const l=s.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,cs).notify({query:this,type:"updated",action:s})})},S0);function db(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ib(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sf(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function rf(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $t,Pe,Fi,Rt,zn,Wa,cr,Kr,Oi,Ka,Qa,Bn,Un,Qr,Ga,Oe,Gl,bm,vm,jm,_m,Nm,wm,km,ub,E0,r1=(E0=class extends vl{constructor(s,r){super();fe(this,Oe);fe(this,$t);fe(this,Pe);fe(this,Fi);fe(this,Rt);fe(this,zn);fe(this,Wa);fe(this,cr);fe(this,Kr);fe(this,Oi);fe(this,Ka);fe(this,Qa);fe(this,Bn);fe(this,Un);fe(this,Qr);fe(this,Ga,new Set);this.options=r,he(this,$t,s),he(this,Kr,null),he(this,cr,gm()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Pe).addObserver(this),nf($(this,Pe),this.options)?ke(this,Oe,Gl).call(this):this.updateResult(),ke(this,Oe,_m).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cm($(this,Pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cm($(this,Pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Oe,Nm).call(this),ke(this,Oe,wm).call(this),$(this,Pe).removeObserver(this)}setOptions(s){const r=this.options,n=$(this,Pe);if(this.options=$(this,$t).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ds(this.options.enabled,$(this,Pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Oe,km).call(this),$(this,Pe).setOptions(this.options),r._defaulted&&!_c(this.options,r)&&$(this,$t).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Pe),observer:this});const a=this.hasListeners();a&&af($(this,Pe),n,this.options,r)&&ke(this,Oe,Gl).call(this),this.updateResult(),a&&($(this,Pe)!==n||ds(this.options.enabled,$(this,Pe))!==ds(r.enabled,$(this,Pe))||pn(this.options.staleTime,$(this,Pe))!==pn(r.staleTime,$(this,Pe)))&&ke(this,Oe,bm).call(this);const l=ke(this,Oe,vm).call(this);a&&($(this,Pe)!==n||ds(this.options.enabled,$(this,Pe))!==ds(r.enabled,$(this,Pe))||l!==$(this,Qr))&&ke(this,Oe,jm).call(this,l)}getOptimisticResult(s){const r=$(this,$t).getQueryCache().build($(this,$t),s),n=this.createResult(r,s);return a1(this,n)&&(he(this,Rt,n),he(this,Wa,this.options),he(this,zn,$(this,Pe).state)),n}getCurrentResult(){return $(this,Rt)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,cr).status==="pending"&&$(this,cr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(s){$(this,Ga).add(s)}getCurrentQuery(){return $(this,Pe)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=$(this,$t).defaultQueryOptions(s),n=$(this,$t).getQueryCache().build($(this,$t),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return ke(this,Oe,Gl).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Rt)))}createResult(s,r){var C;const n=$(this,Pe),a=this.options,l=$(this,Rt),i=$(this,zn),o=$(this,Wa),d=s!==n?s.state:$(this,Fi),{state:m}=s;let u={...m},p=!1,v;if(r._optimisticResults){const R=this.hasListeners(),H=!R&&nf(s,r),I=R&&af(s,n,r,a);(H||I)&&(u={...u,...db(m.data,s.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:y}=u;v=u.data;let f=!1;if(r.placeholderData!==void 0&&v===void 0&&y==="pending"){let R;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(R=l.data,f=!0):R=typeof r.placeholderData=="function"?r.placeholderData((C=$(this,Qa))==null?void 0:C.state.data,$(this,Qa)):r.placeholderData,R!==void 0&&(y="success",v=fm(l==null?void 0:l.data,R,r),p=!0)}if(r.select&&v!==void 0&&!f)if(l&&v===(i==null?void 0:i.data)&&r.select===$(this,Oi))v=$(this,Ka);else try{he(this,Oi,r.select),v=r.select(v),v=fm(l==null?void 0:l.data,v,r),he(this,Ka,v),he(this,Kr,null)}catch(R){he(this,Kr,R)}$(this,Kr)&&(b=$(this,Kr),v=$(this,Ka),x=Date.now(),y="error");const g=u.fetchStatus==="fetching",j=y==="pending",_=y==="error",S=j&&g,O=v!==void 0,T={status:y,fetchStatus:u.fetchStatus,isPending:j,isSuccess:y==="success",isError:_,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:u.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!j,isLoadingError:_&&!O,isPaused:u.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&O,isStale:rp(s,r),refetch:this.refetch,promise:$(this,cr),isEnabled:ds(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const R=ee=>{T.status==="error"?ee.reject(T.error):T.data!==void 0&&ee.resolve(T.data)},H=()=>{const ee=he(this,cr,T.promise=gm());R(ee)},I=$(this,cr);switch(I.status){case"pending":s.queryHash===n.queryHash&&R(I);break;case"fulfilled":(T.status==="error"||T.data!==I.value)&&H();break;case"rejected":(T.status!=="error"||T.error!==I.reason)&&H();break}}return T}updateResult(){const s=$(this,Rt),r=this.createResult($(this,Pe),this.options);if(he(this,zn,$(this,Pe).state),he(this,Wa,this.options),$(this,zn).data!==void 0&&he(this,Qa,$(this,Pe)),_c(r,s))return;he(this,Rt,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!$(this,Ga).size)return!0;const i=new Set(l??$(this,Ga));return this.options.throwOnError&&i.add("error"),Object.keys($(this,Rt)).some(o=>{const c=o;return $(this,Rt)[c]!==s[c]&&i.has(c)})};ke(this,Oe,ub).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Oe,_m).call(this)}},$t=new WeakMap,Pe=new WeakMap,Fi=new WeakMap,Rt=new WeakMap,zn=new WeakMap,Wa=new WeakMap,cr=new WeakMap,Kr=new WeakMap,Oi=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,Bn=new WeakMap,Un=new WeakMap,Qr=new WeakMap,Ga=new WeakMap,Oe=new WeakSet,Gl=function(s){ke(this,Oe,km).call(this);let r=$(this,Pe).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Ft)),r},bm=function(){ke(this,Oe,Nm).call(this);const s=pn(this.options.staleTime,$(this,Pe));if(ea||$(this,Rt).isStale||!pm(s))return;const n=rb($(this,Rt).dataUpdatedAt,s)+1;he(this,Bn,On.setTimeout(()=>{$(this,Rt).isStale||this.updateResult()},n))},vm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Pe)):this.options.refetchInterval)??!1},jm=function(s){ke(this,Oe,wm).call(this),he(this,Qr,s),!(ea||ds(this.options.enabled,$(this,Pe))===!1||!pm($(this,Qr))||$(this,Qr)===0)&&he(this,Un,On.setInterval(()=>{(this.options.refetchIntervalInBackground||sp.isFocused())&&ke(this,Oe,Gl).call(this)},$(this,Qr)))},_m=function(){ke(this,Oe,bm).call(this),ke(this,Oe,jm).call(this,ke(this,Oe,vm).call(this))},Nm=function(){$(this,Bn)&&(On.clearTimeout($(this,Bn)),he(this,Bn,void 0))},wm=function(){$(this,Un)&&(On.clearInterval($(this,Un)),he(this,Un,void 0))},km=function(){const s=$(this,$t).getQueryCache().build($(this,$t),this.options);if(s===$(this,Pe))return;const r=$(this,Pe);he(this,Pe,s),he(this,Fi,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},ub=function(s){dt.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r($(this,Rt))}),$(this,$t).getQueryCache().notify({query:$(this,Pe),type:"observerResultsUpdated"})})},E0);function n1(t,s){return ds(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function nf(t,s){return n1(t,s)||t.state.data!==void 0&&Cm(t,s,s.refetchOnMount)}function Cm(t,s,r){if(ds(s.enabled,t)!==!1&&pn(s.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&rp(t,s)}return!1}function af(t,s,r,n){return(t!==s||ds(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&rp(t,r)}function rp(t,s){return ds(s.enabled,t)!==!1&&t.isStaleByTime(pn(s.staleTime,t))}function a1(t,s){return!_c(t.getCurrentResult(),s)}function lf(t){return{onFetch:(s,r)=>{var m,u,p,v,b;const n=s.options,a=(p=(u=(m=s.fetchOptions)==null?void 0:m.meta)==null?void 0:u.fetchMore)==null?void 0:p.direction,l=((v=s.state.data)==null?void 0:v.pages)||[],i=((b=s.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(s.signal.aborted?x=!0:s.signal.addEventListener("abort",()=>{x=!0}),s.signal)})},f=ab(s.options,s.fetchOptions),g=async(j,_,S)=>{if(x)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const E=(()=>{const H={client:s.client,queryKey:s.queryKey,pageParam:_,direction:S?"backward":"forward",meta:s.options.meta};return y(H),H})(),T=await f(E),{maxPages:C}=s.options,R=S?Y2:G2;return{pages:R(j.pages,T,C),pageParams:R(j.pageParams,_,C)}};if(a&&l.length){const j=a==="backward",_=j?l1:of,S={pages:l,pageParams:i},O=_(n,S);o=await g(S,O,j)}else{const j=t??l.length;do{const _=c===0?i[0]??n.initialPageParam:of(n,o);if(c>0&&_==null)break;o=await g(o,_),c++}while(c<j)}return o};s.options.persister?s.fetchFn=()=>{var x,y;return(y=(x=s.options).persister)==null?void 0:y.call(x,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function of(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function l1(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var Li,Bs,At,Vn,Us,Lr,P0,i1=(P0=class extends cb{constructor(s){super();fe(this,Us);fe(this,Li);fe(this,Bs);fe(this,At);fe(this,Vn);he(this,Li,s.client),this.mutationId=s.mutationId,he(this,At,s.mutationCache),he(this,Bs,[]),this.state=s.state||mb(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){$(this,Bs).includes(s)||($(this,Bs).push(s),this.clearGcTimeout(),$(this,At).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){he(this,Bs,$(this,Bs).filter(r=>r!==s)),this.scheduleGc(),$(this,At).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){$(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():$(this,At).remove(this))}continue(){var s;return((s=$(this,Vn))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var i,o,c,d,m,u,p,v,b,x,y,f,g,j,_,S,O,E,T,C;const r=()=>{ke(this,Us,Lr).call(this,{type:"continue"})},n={client:$(this,Li),meta:this.options.meta,mutationKey:this.options.mutationKey};he(this,Vn,ob({fn:()=>this.options.mutationFn?this.options.mutationFn(s,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,H)=>{ke(this,Us,Lr).call(this,{type:"failed",failureCount:R,error:H})},onPause:()=>{ke(this,Us,Lr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,At).canRun(this)}));const a=this.state.status==="pending",l=!$(this,Vn).canStart();try{if(a)r();else{ke(this,Us,Lr).call(this,{type:"pending",variables:s,isPaused:l}),await((o=(i=$(this,At).config).onMutate)==null?void 0:o.call(i,s,this,n));const H=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,n));H!==this.state.context&&ke(this,Us,Lr).call(this,{type:"pending",context:H,variables:s,isPaused:l})}const R=await $(this,Vn).start();return await((u=(m=$(this,At).config).onSuccess)==null?void 0:u.call(m,R,s,this.state.context,this,n)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,R,s,this.state.context,n)),await((x=(b=$(this,At).config).onSettled)==null?void 0:x.call(b,R,null,this.state.variables,this.state.context,this,n)),await((f=(y=this.options).onSettled)==null?void 0:f.call(y,R,null,s,this.state.context,n)),ke(this,Us,Lr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((j=(g=$(this,At).config).onError)==null?void 0:j.call(g,R,s,this.state.context,this,n)),await((S=(_=this.options).onError)==null?void 0:S.call(_,R,s,this.state.context,n)),await((E=(O=$(this,At).config).onSettled)==null?void 0:E.call(O,void 0,R,this.state.variables,this.state.context,this,n)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,R,s,this.state.context,n)),R}finally{ke(this,Us,Lr).call(this,{type:"error",error:R})}}finally{$(this,At).runNext(this)}}},Li=new WeakMap,Bs=new WeakMap,At=new WeakMap,Vn=new WeakMap,Us=new WeakSet,Lr=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{$(this,Bs).forEach(n=>{n.onMutationUpdate(s)}),$(this,At).notify({mutation:this,type:"updated",action:s})})},P0);function mb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,ws,Mi,R0,o1=(R0=class extends vl{constructor(s={}){super();fe(this,dr);fe(this,ws);fe(this,Mi);this.config=s,he(this,dr,new Set),he(this,ws,new Map),he(this,Mi,0)}build(s,r,n){const a=new i1({client:s,mutationCache:this,mutationId:++Qi(this,Mi)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){$(this,dr).add(s);const r=ho(s);if(typeof r=="string"){const n=$(this,ws).get(r);n?n.push(s):$(this,ws).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if($(this,dr).delete(s)){const r=ho(s);if(typeof r=="string"){const n=$(this,ws).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&$(this,ws).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=ho(s);if(typeof r=="string"){const n=$(this,ws).get(r),a=n==null?void 0:n.find(l=>l.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=ho(s);if(typeof r=="string"){const a=(n=$(this,ws).get(r))==null?void 0:n.find(l=>l!==s&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{$(this,dr).forEach(s=>{this.notify({type:"removed",mutation:s})}),$(this,dr).clear(),$(this,ws).clear()})}getAll(){return Array.from($(this,dr))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Zx(r,n))}findAll(s={}){return this.getAll().filter(r=>Zx(s,r))}notify(s){dt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return dt.batch(()=>Promise.all(s.map(r=>r.continue().catch(Ft))))}},dr=new WeakMap,ws=new WeakMap,Mi=new WeakMap,R0);function ho(t){var s;return(s=t.options.scope)==null?void 0:s.id}var ur,Gr,qt,mr,yr,Mo,Sm,A0,c1=(A0=class extends vl{constructor(r,n){super();fe(this,yr);fe(this,ur);fe(this,Gr);fe(this,qt);fe(this,mr);he(this,ur,r),this.setOptions(n),this.bindMethods(),ke(this,yr,Mo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=$(this,ur).defaultMutationOptions(r),_c(this.options,n)||$(this,ur).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,qt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ta(n.mutationKey)!==ta(this.options.mutationKey)?this.reset():((a=$(this,qt))==null?void 0:a.state.status)==="pending"&&$(this,qt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,qt))==null||r.removeObserver(this)}onMutationUpdate(r){ke(this,yr,Mo).call(this),ke(this,yr,Sm).call(this,r)}getCurrentResult(){return $(this,Gr)}reset(){var r;(r=$(this,qt))==null||r.removeObserver(this),he(this,qt,void 0),ke(this,yr,Mo).call(this),ke(this,yr,Sm).call(this)}mutate(r,n){var a;return he(this,mr,n),(a=$(this,qt))==null||a.removeObserver(this),he(this,qt,$(this,ur).getMutationCache().build($(this,ur),this.options)),$(this,qt).addObserver(this),$(this,qt).execute(r)}},ur=new WeakMap,Gr=new WeakMap,qt=new WeakMap,mr=new WeakMap,yr=new WeakSet,Mo=function(){var n;const r=((n=$(this,qt))==null?void 0:n.state)??mb();he(this,Gr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Sm=function(r){dt.batch(()=>{var n,a,l,i,o,c,d,m;if($(this,mr)&&this.hasListeners()){const u=$(this,Gr).variables,p=$(this,Gr).context,v={client:$(this,ur),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=$(this,mr)).onSuccess)==null||a.call(n,r.data,u,p,v),(i=(l=$(this,mr)).onSettled)==null||i.call(l,r.data,null,u,p,v)):(r==null?void 0:r.type)==="error"&&((c=(o=$(this,mr)).onError)==null||c.call(o,r.error,u,p,v),(m=(d=$(this,mr)).onSettled)==null||m.call(d,void 0,r.error,u,p,v))}this.listeners.forEach(u=>{u($(this,Gr))})})},A0),Vs,T0,d1=(T0=class extends vl{constructor(s={}){super();fe(this,Vs);this.config=s,he(this,Vs,new Map)}build(s,r,n){const a=r.queryKey,l=r.queryHash??ep(a,r);let i=this.get(l);return i||(i=new s1({client:s,queryKey:a,queryHash:l,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(i)),i}add(s){$(this,Vs).has(s.queryHash)||($(this,Vs).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=$(this,Vs).get(s.queryHash);r&&(s.destroy(),r===s&&$(this,Vs).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){dt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return $(this,Vs).get(s)}getAll(){return[...$(this,Vs).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Xx(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>Xx(s,n)):r}notify(s){dt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Vs=new WeakMap,T0),Xe,Yr,Jr,Ya,Ja,Xr,Xa,Za,F0,u1=(F0=class{constructor(t={}){fe(this,Xe);fe(this,Yr);fe(this,Jr);fe(this,Ya);fe(this,Ja);fe(this,Xr);fe(this,Xa);fe(this,Za);he(this,Xe,t.queryCache||new d1),he(this,Yr,t.mutationCache||new o1),he(this,Jr,t.defaultOptions||{}),he(this,Ya,new Map),he(this,Ja,new Map),he(this,Xr,0)}mount(){Qi(this,Xr)._++,$(this,Xr)===1&&(he(this,Xa,sp.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Xe).onFocus())})),he(this,Za,Nc.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Xe).onOnline())})))}unmount(){var t,s;Qi(this,Xr)._--,$(this,Xr)===0&&((t=$(this,Xa))==null||t.call(this),he(this,Xa,void 0),(s=$(this,Za))==null||s.call(this),he(this,Za,void 0))}isFetching(t){return $(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Yr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=$(this,Xe).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=$(this,Xe).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(pn(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return $(this,Xe).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=$(this,Xe).get(n.queryHash),l=a==null?void 0:a.state.data,i=W2(s,l);if(i!==void 0)return $(this,Xe).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,s,r){return dt.batch(()=>$(this,Xe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=$(this,Xe).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=$(this,Xe);dt.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=$(this,Xe);return dt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},n=dt.batch(()=>$(this,Xe).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Ft).catch(Ft)}invalidateQueries(t,s={}){return dt.batch(()=>($(this,Xe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=dt.batch(()=>$(this,Xe).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(Ft)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(Ft)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=$(this,Xe).build(this,s);return r.isStaleByTime(pn(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ft).catch(Ft)}fetchInfiniteQuery(t){return t.behavior=lf(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ft).catch(Ft)}ensureInfiniteQueryData(t){return t.behavior=lf(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nc.isOnline()?$(this,Yr).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Xe)}getMutationCache(){return $(this,Yr)}getDefaultOptions(){return $(this,Jr)}setDefaultOptions(t){he(this,Jr,t)}setQueryDefaults(t,s){$(this,Ya).set(ta(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...$(this,Ya).values()],r={};return s.forEach(n=>{Ei(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,s){$(this,Ja).set(ta(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...$(this,Ja).values()],r={};return s.forEach(n=>{Ei(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...$(this,Jr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=ep(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===tp&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Jr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Xe).clear(),$(this,Yr).clear()}},Xe=new WeakMap,Yr=new WeakMap,Jr=new WeakMap,Ya=new WeakMap,Ja=new WeakMap,Xr=new WeakMap,Xa=new WeakMap,Za=new WeakMap,F0),hb=h.createContext(void 0),yt=t=>{const s=h.useContext(hb);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},m1=({client:t,children:s})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(hb.Provider,{value:t,children:s})),pb=h.createContext(!1),h1=()=>h.useContext(pb);pb.Provider;function p1(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var x1=h.createContext(p1()),f1=()=>h.useContext(x1),g1=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},y1=t=>{h.useEffect(()=>{t.clearReset()},[t])},b1=({result:t,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||lb(r,[t.error,n])),v1=t=>{if(t.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},j1=(t,s)=>t.isLoading&&t.isFetching&&!s,_1=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,cf=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function N1(t,s,r){var u,p,v,b,x;const n=h1(),a=f1(),l=yt(),i=l.defaultQueryOptions(t);(p=(u=l.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||p.call(u,i),i._optimisticResults=n?"isRestoring":"optimistic",v1(i),g1(i,a),y1(a);const o=!l.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new s(l,i)),d=c.getOptimisticResult(i),m=!n&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(y=>{const f=m?c.subscribe(dt.batchCalls(y)):Ft;return c.updateResult(),f},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),_1(i,d))throw cf(i,c,a);if(b1({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:l.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((b=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||b.call(v,i,d),i.experimental_prefetchInRender&&!ea&&j1(d,n)){const y=o?cf(i,c,a):(x=l.getQueryCache().get(i.queryHash))==null?void 0:x.promise;y==null||y.catch(Ft).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function ve(t,s){return N1(t,r1)}function we(t,s){const r=yt(),[n]=h.useState(()=>new c1(r,t));h.useEffect(()=>{n.setOptions(t)},[n,t]);const a=h.useSyncExternalStore(h.useCallback(i=>n.subscribe(dt.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=h.useCallback((i,o)=>{n.mutate(i,o).catch(Ft)},[n]);if(a.error&&lb(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}const df=t=>{let s;const r=new Set,n=(d,m)=>{const u=typeof d=="function"?d(s):d;if(!Object.is(u,s)){const p=s;s=m??(typeof u!="object"||u===null)?u:Object.assign({},s,u),r.forEach(v=>v(s,p))}},a=()=>s,o={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=s=t(n,a,o);return o},w1=t=>t?df(t):df,k1=t=>t;function C1(t,s=k1){const r=Ot.useSyncExternalStore(t.subscribe,Ot.useCallback(()=>s(t.getState()),[t,s]),Ot.useCallback(()=>s(t.getInitialState()),[t,s]));return Ot.useDebugValue(r),r}const S1=t=>{const s=w1(t),r=n=>C1(s,n);return Object.assign(r,s),r},E1=t=>S1;function P1(t,s){let r;try{r=t()}catch{return}return{getItem:a=>{var l;const i=c=>c===null?null:JSON.parse(c,void 0),o=(l=r.getItem(a))!=null?l:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,l)=>r.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>r.removeItem(a)}}const Em=t=>s=>{try{const r=t(s);return r instanceof Promise?r:{then(n){return Em(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Em(n)(r)}}}},R1=(t,s)=>(r,n,a)=>{let l={storage:P1(()=>localStorage),partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...s},i=!1;const o=new Set,c=new Set;let d=l.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...x)},n,a);const m=()=>{const x=l.partialize({...n()});return d.setItem(l.name,{state:x,version:l.version})},u=a.setState;a.setState=(x,y)=>(u(x,y),m());const p=t((...x)=>(r(...x),m()),n,a);a.getInitialState=()=>p;let v;const b=()=>{var x,y;if(!d)return;i=!1,o.forEach(g=>{var j;return g((j=n())!=null?j:p)});const f=((y=l.onRehydrateStorage)==null?void 0:y.call(l,(x=n())!=null?x:p))||void 0;return Em(d.getItem.bind(d))(l.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==l.version){if(l.migrate){const j=l.migrate(g.state,g.version);return j instanceof Promise?j.then(_=>[!0,_]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var j;const[_,S]=g;if(v=l.merge(S,(j=n())!=null?j:p),r(v,!0),_)return m()}).then(()=>{f==null||f(v,void 0),v=n(),i=!0,c.forEach(g=>g(v))}).catch(g=>{f==null||f(void 0,g)})};return a.persist={setOptions:x=>{l={...l,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},l.skipHydration||b(),v||p},A1=R1;function xb(t,s){return function(){return t.apply(s,arguments)}}const{toString:T1}=Object.prototype,{getPrototypeOf:np}=Object,{iterator:Zc,toStringTag:fb}=Symbol,ed=(t=>s=>{const r=T1.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ms=t=>(t=t.toLowerCase(),s=>ed(s)===t),td=t=>s=>typeof s===t,{isArray:jl}=Array,il=td("undefined");function Bi(t){return t!==null&&!il(t)&&t.constructor!==null&&!il(t.constructor)&&Qt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gb=Ms("ArrayBuffer");function F1(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&gb(t.buffer),s}const O1=td("string"),Qt=td("function"),yb=td("number"),Ui=t=>t!==null&&typeof t=="object",L1=t=>t===!0||t===!1,Do=t=>{if(ed(t)!=="object")return!1;const s=np(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(fb in t)&&!(Zc in t)},M1=t=>{if(!Ui(t)||Bi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},D1=Ms("Date"),I1=Ms("File"),$1=Ms("Blob"),q1=Ms("FileList"),z1=t=>Ui(t)&&Qt(t.pipe),B1=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Qt(t.append)&&((s=ed(t))==="formdata"||s==="object"&&Qt(t.toString)&&t.toString()==="[object FormData]"))},U1=Ms("URLSearchParams"),[V1,H1,W1,K1]=["ReadableStream","Request","Response","Headers"].map(Ms),Q1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vi(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),jl(t))for(n=0,a=t.length;n<a;n++)s.call(null,t[n],n,t);else{if(Bi(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let o;for(n=0;n<i;n++)o=l[n],s.call(null,t[o],o,t)}}function bb(t,s){if(Bi(t))return null;s=s.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const Ln=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vb=t=>!il(t)&&t!==Ln;function Pm(){const{caseless:t,skipUndefined:s}=vb(this)&&this||{},r={},n=(a,l)=>{const i=t&&bb(r,l)||l;Do(r[i])&&Do(a)?r[i]=Pm(r[i],a):Do(a)?r[i]=Pm({},a):jl(a)?r[i]=a.slice():(!s||!il(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Vi(arguments[a],n);return r}const G1=(t,s,r,{allOwnKeys:n}={})=>(Vi(s,(a,l)=>{r&&Qt(a)?t[l]=xb(a,r):t[l]=a},{allOwnKeys:n}),t),Y1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),J1=(t,s,r,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},X1=(t,s,r,n)=>{let a,l,i;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)i=a[l],(!n||n(i,t,s))&&!o[i]&&(s[i]=t[i],o[i]=!0);t=r!==!1&&np(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Z1=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const n=t.indexOf(s,r);return n!==-1&&n===r},e4=t=>{if(!t)return null;if(jl(t))return t;let s=t.length;if(!yb(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},t4=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&np(Uint8Array)),s4=(t,s)=>{const n=(t&&t[Zc]).call(t);let a;for(;(a=n.next())&&!a.done;){const l=a.value;s.call(t,l[0],l[1])}},r4=(t,s)=>{let r;const n=[];for(;(r=t.exec(s))!==null;)n.push(r);return n},n4=Ms("HTMLFormElement"),a4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),uf=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),l4=Ms("RegExp"),jb=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Vi(r,(a,l)=>{let i;(i=s(a,l,t))!==!1&&(n[l]=i||a)}),Object.defineProperties(t,n)},i4=t=>{jb(t,(s,r)=>{if(Qt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Qt(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},o4=(t,s)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return jl(t)?n(t):n(String(t).split(s)),r},c4=()=>{},d4=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function u4(t){return!!(t&&Qt(t.append)&&t[fb]==="FormData"&&t[Zc])}const m4=t=>{const s=new Array(10),r=(n,a)=>{if(Ui(n)){if(s.indexOf(n)>=0)return;if(Bi(n))return n;if(!("toJSON"in n)){s[a]=n;const l=jl(n)?[]:{};return Vi(n,(i,o)=>{const c=r(i,a+1);!il(c)&&(l[o]=c)}),s[a]=void 0,l}}return n};return r(t,0)},h4=Ms("AsyncFunction"),p4=t=>t&&(Ui(t)||Qt(t))&&Qt(t.then)&&Qt(t.catch),_b=((t,s)=>t?setImmediate:s?((r,n)=>(Ln.addEventListener("message",({source:a,data:l})=>{a===Ln&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ln.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qt(Ln.postMessage)),x4=typeof queueMicrotask<"u"?queueMicrotask.bind(Ln):typeof process<"u"&&process.nextTick||_b,f4=t=>t!=null&&Qt(t[Zc]),te={isArray:jl,isArrayBuffer:gb,isBuffer:Bi,isFormData:B1,isArrayBufferView:F1,isString:O1,isNumber:yb,isBoolean:L1,isObject:Ui,isPlainObject:Do,isEmptyObject:M1,isReadableStream:V1,isRequest:H1,isResponse:W1,isHeaders:K1,isUndefined:il,isDate:D1,isFile:I1,isBlob:$1,isRegExp:l4,isFunction:Qt,isStream:z1,isURLSearchParams:U1,isTypedArray:t4,isFileList:q1,forEach:Vi,merge:Pm,extend:G1,trim:Q1,stripBOM:Y1,inherits:J1,toFlatObject:X1,kindOf:ed,kindOfTest:Ms,endsWith:Z1,toArray:e4,forEachEntry:s4,matchAll:r4,isHTMLForm:n4,hasOwnProperty:uf,hasOwnProp:uf,reduceDescriptors:jb,freezeMethods:i4,toObjectSet:o4,toCamelCase:a4,noop:c4,toFiniteNumber:d4,findKey:bb,global:Ln,isContextDefined:vb,isSpecCompliantForm:u4,toJSONObject:m4,isAsyncFn:h4,isThenable:p4,setImmediate:_b,asap:x4,isIterable:f4};function _e(t,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const Nb=_e.prototype,wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wb[t]={value:t}});Object.defineProperties(_e,wb);Object.defineProperty(Nb,"isAxiosError",{value:!0});_e.from=(t,s,r,n,a,l)=>{const i=Object.create(Nb);te.toFlatObject(t,i,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return _e.call(i,o,c,r,n,a),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",l&&Object.assign(i,l),i};const g4=null;function Rm(t){return te.isPlainObject(t)||te.isArray(t)}function kb(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function mf(t,s,r){return t?t.concat(s).map(function(a,l){return a=kb(a),!r&&l?"["+a+"]":a}).join(r?".":""):s}function y4(t){return te.isArray(t)&&!t.some(Rm)}const b4=te.toFlatObject(te,{},null,function(s){return/^is[A-Z]/.test(s)});function sd(t,s,r){if(!te.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!te.isUndefined(y[x])});const n=r.metaTokens,a=r.visitor||m,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(s);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(te.isDate(b))return b.toISOString();if(te.isBoolean(b))return b.toString();if(!c&&te.isBlob(b))throw new _e("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(b)||te.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,x,y){let f=b;if(b&&!y&&typeof b=="object"){if(te.endsWith(x,"{}"))x=n?x:x.slice(0,-2),b=JSON.stringify(b);else if(te.isArray(b)&&y4(b)||(te.isFileList(b)||te.endsWith(x,"[]"))&&(f=te.toArray(b)))return x=kb(x),f.forEach(function(j,_){!(te.isUndefined(j)||j===null)&&s.append(i===!0?mf([x],_,l):i===null?x:x+"[]",d(j))}),!1}return Rm(b)?!0:(s.append(mf(y,x,l),d(b)),!1)}const u=[],p=Object.assign(b4,{defaultVisitor:m,convertValue:d,isVisitable:Rm});function v(b,x){if(!te.isUndefined(b)){if(u.indexOf(b)!==-1)throw Error("Circular reference detected in "+x.join("."));u.push(b),te.forEach(b,function(f,g){(!(te.isUndefined(f)||f===null)&&a.call(s,f,te.isString(g)?g.trim():g,x,p))===!0&&v(f,x?x.concat(g):[g])}),u.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return v(t),s}function hf(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function ap(t,s){this._pairs=[],t&&sd(t,this,s)}const Cb=ap.prototype;Cb.append=function(s,r){this._pairs.push([s,r])};Cb.toString=function(s){const r=s?function(n){return s.call(this,n,hf)}:hf;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function v4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sb(t,s,r){if(!s)return t;const n=r&&r.encode||v4;te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(s,r):l=te.isURLSearchParams(s)?s.toString():new ap(s,r).toString(n),l){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class pf{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){te.forEach(this.handlers,function(n){n!==null&&s(n)})}}const Eb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},j4=typeof URLSearchParams<"u"?URLSearchParams:ap,_4=typeof FormData<"u"?FormData:null,N4=typeof Blob<"u"?Blob:null,w4={isBrowser:!0,classes:{URLSearchParams:j4,FormData:_4,Blob:N4},protocols:["http","https","file","blob","url","data"]},lp=typeof window<"u"&&typeof document<"u",Am=typeof navigator=="object"&&navigator||void 0,k4=lp&&(!Am||["ReactNative","NativeScript","NS"].indexOf(Am.product)<0),C4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",S4=lp&&window.location.href||"http://localhost",E4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lp,hasStandardBrowserEnv:k4,hasStandardBrowserWebWorkerEnv:C4,navigator:Am,origin:S4},Symbol.toStringTag,{value:"Module"})),Ct={...E4,...w4};function P4(t,s){return sd(t,new Ct.classes.URLSearchParams,{visitor:function(r,n,a,l){return Ct.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function R4(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function A4(t){const s={},r=Object.keys(t);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],s[l]=t[l];return s}function Pb(t){function s(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&te.isArray(a)?a.length:i,c?(te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!te.isObject(a[i]))&&(a[i]=[]),s(r,n,a[i],l)&&te.isArray(a[i])&&(a[i]=A4(a[i])),!o)}if(te.isFormData(t)&&te.isFunction(t.entries)){const r={};return te.forEachEntry(t,(n,a)=>{s(R4(n),a,r,0)}),r}return null}function T4(t,s,r){if(te.isString(t))try{return(s||JSON.parse)(t),te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Hi={transitional:Eb,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=te.isObject(s);if(l&&te.isHTMLForm(s)&&(s=new FormData(s)),te.isFormData(s))return a?JSON.stringify(Pb(s)):s;if(te.isArrayBuffer(s)||te.isBuffer(s)||te.isStream(s)||te.isFile(s)||te.isBlob(s)||te.isReadableStream(s))return s;if(te.isArrayBufferView(s))return s.buffer;if(te.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return P4(s,this.formSerializer).toString();if((o=te.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return sd(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),T4(s)):s}],transformResponse:[function(s){const r=this.transitional||Hi.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(s)||te.isReadableStream(s))return s;if(s&&te.isString(s)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?_e.from(o,_e.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{Hi.headers[t]={}});const F4=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O4=t=>{const s={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||s[r]&&F4[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},xf=Symbol("internals");function ql(t){return t&&String(t).trim().toLowerCase()}function Io(t){return t===!1||t==null?t:te.isArray(t)?t.map(Io):String(t)}function L4(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)s[n[1]]=n[2];return s}const M4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wd(t,s,r,n,a){if(te.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!te.isString(s)){if(te.isString(n))return s.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(s)}}function D4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function I4(t,s){const r=te.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,l,i){return this[n].call(this,s,a,l,i)},configurable:!0})})}let Gt=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function l(o,c,d){const m=ql(c);if(!m)throw new Error("header name must be a non-empty string");const u=te.findKey(a,m);(!u||a[u]===void 0||d===!0||d===void 0&&a[u]!==!1)&&(a[u||c]=Io(o))}const i=(o,c)=>te.forEach(o,(d,m)=>l(d,m,c));if(te.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(te.isString(s)&&(s=s.trim())&&!M4(s))i(O4(s),r);else if(te.isObject(s)&&te.isIterable(s)){let o={},c,d;for(const m of s){if(!te.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?te.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}i(o,r)}else s!=null&&l(r,s,n);return this}get(s,r){if(s=ql(s),s){const n=te.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return L4(a);if(te.isFunction(r))return r.call(this,a,n);if(te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=ql(s),s){const n=te.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||Wd(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function l(i){if(i=ql(i),i){const o=te.findKey(n,i);o&&(!r||Wd(n,n[o],o,r))&&(delete n[o],a=!0)}}return te.isArray(s)?s.forEach(l):l(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!s||Wd(this,this[l],l,s,!0))&&(delete this[l],a=!0)}return a}normalize(s){const r=this,n={};return te.forEach(this,(a,l)=>{const i=te.findKey(n,l);if(i){r[i]=Io(a),delete r[l];return}const o=s?D4(l):String(l).trim();o!==l&&delete r[l],r[o]=Io(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[xf]=this[xf]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=ql(i);n[o]||(I4(a,i),n[o]=!0)}return te.isArray(s)?s.forEach(l):l(s),this}};Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Gt.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[r]=n}}});te.freezeMethods(Gt);function Kd(t,s){const r=this||Hi,n=s||r,a=Gt.from(n.headers);let l=n.data;return te.forEach(t,function(o){l=o.call(r,l,a.normalize(),s?s.status:void 0)}),a.normalize(),l}function Rb(t){return!!(t&&t.__CANCEL__)}function _l(t,s,r){_e.call(this,t??"canceled",_e.ERR_CANCELED,s,r),this.name="CanceledError"}te.inherits(_l,_e,{__CANCEL__:!0});function Ab(t,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):s(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $4(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function q4(t,s){t=t||10;const r=new Array(t),n=new Array(t);let a=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),m=n[l];i||(i=d),r[a]=c,n[a]=d;let u=l,p=0;for(;u!==a;)p+=r[u++],u=u%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),d-i<s)return;const v=m&&d-m;return v?Math.round(p*1e3/v):void 0}}function z4(t,s){let r=0,n=1e3/s,a,l;const i=(d,m=Date.now())=>{r=m,a=null,l&&(clearTimeout(l),l=null),t(...d)};return[(...d)=>{const m=Date.now(),u=m-r;u>=n?i(d,m):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-u)))},()=>a&&i(a)]}const wc=(t,s,r=3)=>{let n=0;const a=q4(50,250);return z4(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),m=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(u)},r)},ff=(t,s)=>{const r=t!=null;return[n=>s[0]({lengthComputable:r,total:t,loaded:n}),s[1]]},gf=t=>(...s)=>te.asap(()=>t(...s)),B4=Ct.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,Ct.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(Ct.origin),Ct.navigator&&/(msie|trident)/i.test(Ct.navigator.userAgent)):()=>!0,U4=Ct.hasStandardBrowserEnv?{write(t,s,r,n,a,l,i){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];te.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),te.isString(n)&&o.push(`path=${n}`),te.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),te.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function V4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function H4(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Tb(t,s,r){let n=!V4(s);return t&&(n||r==!1)?H4(t,s):s}const yf=t=>t instanceof Gt?{...t}:t;function sa(t,s){s=s||{};const r={};function n(d,m,u,p){return te.isPlainObject(d)&&te.isPlainObject(m)?te.merge.call({caseless:p},d,m):te.isPlainObject(m)?te.merge({},m):te.isArray(m)?m.slice():m}function a(d,m,u,p){if(te.isUndefined(m)){if(!te.isUndefined(d))return n(void 0,d,u,p)}else return n(d,m,u,p)}function l(d,m){if(!te.isUndefined(m))return n(void 0,m)}function i(d,m){if(te.isUndefined(m)){if(!te.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function o(d,m,u){if(u in s)return n(d,m);if(u in t)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,m,u)=>a(yf(d),yf(m),u,!0)};return te.forEach(Object.keys({...t,...s}),function(m){const u=c[m]||a,p=u(t[m],s[m],m);te.isUndefined(p)&&u!==o||(r[m]=p)}),r}const Fb=t=>{const s=sa({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=Gt.from(i),s.url=Sb(Tb(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),te.isFormData(r)){if(Ct.hasStandardBrowserEnv||Ct.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(te.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,u])=>{d.includes(m.toLowerCase())&&i.set(m,u)})}}if(Ct.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(s)),n||n!==!1&&B4(s.url))){const c=a&&l&&U4.read(l);c&&i.set(a,c)}return s},W4=typeof XMLHttpRequest<"u",K4=W4&&function(t){return new Promise(function(r,n){const a=Fb(t);let l=a.data;const i=Gt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,m,u,p,v,b;function x(){v&&v(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function f(){if(!y)return;const j=Gt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:j,config:t,request:y};Ab(function(E){r(E),x()},function(E){n(E),x()},S),y=null}"onloadend"in y?y.onloadend=f:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(f)},y.onabort=function(){y&&(n(new _e("Request aborted",_e.ECONNABORTED,t,y)),y=null)},y.onerror=function(_){const S=_&&_.message?_.message:"Network Error",O=new _e(S,_e.ERR_NETWORK,t,y);O.event=_||null,n(O),y=null},y.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||Eb;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new _e(_,S.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,y)),y=null},l===void 0&&i.setContentType(null),"setRequestHeader"in y&&te.forEach(i.toJSON(),function(_,S){y.setRequestHeader(S,_)}),te.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),o&&o!=="json"&&(y.responseType=a.responseType),d&&([p,b]=wc(d,!0),y.addEventListener("progress",p)),c&&y.upload&&([u,v]=wc(c),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(m=j=>{y&&(n(!j||j.type?new _l(null,t,y):j),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const g=$4(a.url);if(g&&Ct.protocols.indexOf(g)===-1){n(new _e("Unsupported protocol "+g+":",_e.ERR_BAD_REQUEST,t));return}y.send(l||null)})},Q4=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const m=d instanceof Error?d:this.reason;n.abort(m instanceof _e?m:new _l(m instanceof Error?m.message:m))}};let i=s&&setTimeout(()=>{i=null,l(new _e(`timeout ${s} of ms exceeded`,_e.ETIMEDOUT))},s);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),t=null)};t.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>te.asap(o),c}},G4=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let n=0,a;for(;n<r;)a=n+s,yield t.slice(n,a),n=a},Y4=async function*(t,s){for await(const r of J4(t))yield*G4(r,s)},J4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},bf=(t,s,r,n)=>{const a=Y4(t,s);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await a.next();if(d){o(),c.close();return}let u=m.byteLength;if(r){let p=l+=u;r(p)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},vf=64*1024,{isFunction:po}=te,X4=(({Request:t,Response:s})=>({Request:t,Response:s}))(te.global),{ReadableStream:jf,TextEncoder:_f}=te.global,Nf=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Z4=t=>{t=te.merge.call({skipUndefined:!0},X4,t);const{fetch:s,Request:r,Response:n}=t,a=s?po(s):typeof fetch=="function",l=po(r),i=po(n);if(!a)return!1;const o=a&&po(jf),c=a&&(typeof _f=="function"?(b=>x=>b.encode(x))(new _f):async b=>new Uint8Array(await new r(b).arrayBuffer())),d=l&&o&&Nf(()=>{let b=!1;const x=new r(Ct.origin,{body:new jf,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!x}),m=i&&o&&Nf(()=>te.isReadableStream(new n("").body)),u={stream:m&&(b=>b.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!u[b]&&(u[b]=(x,y)=>{let f=x&&x[b];if(f)return f.call(x);throw new _e(`Response type '${b}' is not supported`,_e.ERR_NOT_SUPPORT,y)})});const p=async b=>{if(b==null)return 0;if(te.isBlob(b))return b.size;if(te.isSpecCompliantForm(b))return(await new r(Ct.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(te.isArrayBufferView(b)||te.isArrayBuffer(b))return b.byteLength;if(te.isURLSearchParams(b)&&(b=b+""),te.isString(b))return(await c(b)).byteLength},v=async(b,x)=>{const y=te.toFiniteNumber(b.getContentLength());return y??p(x)};return async b=>{let{url:x,method:y,data:f,signal:g,cancelToken:j,timeout:_,onDownloadProgress:S,onUploadProgress:O,responseType:E,headers:T,withCredentials:C="same-origin",fetchOptions:R}=Fb(b),H=s||fetch;E=E?(E+"").toLowerCase():"text";let I=Q4([g,j&&j.toAbortSignal()],_),ee=null;const P=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let Q;try{if(O&&d&&y!=="get"&&y!=="head"&&(Q=await v(T,f))!==0){let G=new r(x,{method:"POST",body:f,duplex:"half"}),U;if(te.isFormData(f)&&(U=G.headers.get("content-type"))&&T.setContentType(U),G.body){const[ae,Y]=ff(Q,wc(gf(O)));f=bf(G.body,vf,ae,Y)}}te.isString(C)||(C=C?"include":"omit");const B=l&&"credentials"in r.prototype,F={...R,signal:I,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:f,duplex:"half",credentials:B?C:void 0};ee=l&&new r(x,F);let w=await(l?H(ee,R):H(x,F));const M=m&&(E==="stream"||E==="response");if(m&&(S||M&&P)){const G={};["status","statusText","headers"].forEach(N=>{G[N]=w[N]});const U=te.toFiniteNumber(w.headers.get("content-length")),[ae,Y]=S&&ff(U,wc(gf(S),!0))||[];w=new n(bf(w.body,vf,ae,()=>{Y&&Y(),P&&P()}),G)}E=E||"text";let W=await u[te.findKey(u,E)||"text"](w,b);return!M&&P&&P(),await new Promise((G,U)=>{Ab(G,U,{data:W,headers:Gt.from(w.headers),status:w.status,statusText:w.statusText,config:b,request:ee})})}catch(B){throw P&&P(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,b,ee),{cause:B.cause||B}):_e.from(B,B&&B.code,b,ee)}}},ek=new Map,Ob=t=>{let s=t&&t.env||{};const{fetch:r,Request:n,Response:a}=s,l=[n,a,r];let i=l.length,o=i,c,d,m=ek;for(;o--;)c=l[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:Z4(s)),m=d;return d};Ob();const ip={http:g4,xhr:K4,fetch:{get:Ob}};te.forEach(ip,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const wf=t=>`- ${t}`,tk=t=>te.isFunction(t)||t===null||t===!1;function sk(t,s){t=te.isArray(t)?t:[t];const{length:r}=t;let n,a;const l={};for(let i=0;i<r;i++){n=t[i];let o;if(a=n,!tk(n)&&(a=ip[(o=String(n)).toLowerCase()],a===void 0))throw new _e(`Unknown adapter '${o}'`);if(a&&(te.isFunction(a)||(a=a.get(s))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(wf).join(`
`):" "+wf(i[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const Lb={getAdapter:sk,adapters:ip};function Qd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _l(null,t)}function kf(t){return Qd(t),t.headers=Gt.from(t.headers),t.data=Kd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Lb.getAdapter(t.adapter||Hi.adapter,t)(t).then(function(n){return Qd(t),n.data=Kd.call(t,t.transformResponse,n),n.headers=Gt.from(n.headers),n},function(n){return Rb(n)||(Qd(t),n&&n.response&&(n.response.data=Kd.call(t,t.transformResponse,n.response),n.response.headers=Gt.from(n.response.headers))),Promise.reject(n)})}const Mb="1.13.2",rd={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{rd[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const Cf={};rd.transitional=function(s,r,n){function a(l,i){return"[Axios v"+Mb+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(s===!1)throw new _e(a(i," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!Cf[i]&&(Cf[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};rd.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function rk(t,s,r){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const l=n[a],i=s[l];if(i){const o=t[l],c=o===void 0||i(o,l,t);if(c!==!0)throw new _e("option "+l+" must be "+c,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+l,_e.ERR_BAD_OPTION)}}const $o={assertOptions:rk,validators:rd},$s=$o.validators;let Kn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new pf,response:new pf}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=sa(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&$o.assertOptions(n,{silentJSONParsing:$s.transitional($s.boolean),forcedJSONParsing:$s.transitional($s.boolean),clarifyTimeoutError:$s.transitional($s.boolean)},!1),a!=null&&(te.isFunction(a)?r.paramsSerializer={serialize:a}:$o.assertOptions(a,{encode:$s.function,serialize:$s.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$o.assertOptions(r,{baseUrl:$s.spelling("baseURL"),withXsrfToken:$s.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&te.merge(l.common,l[r.method]);l&&te.forEach(["delete","get","head","post","put","patch","common"],b=>{delete l[b]}),r.headers=Gt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let m,u=0,p;if(!c){const b=[kf.bind(this),void 0];for(b.unshift(...o),b.push(...d),p=b.length,m=Promise.resolve(r);u<p;)m=m.then(b[u++],b[u++]);return m}p=o.length;let v=r;for(;u<p;){const b=o[u++],x=o[u++];try{v=b(v)}catch(y){x.call(this,y);break}}try{m=kf.call(this,v)}catch(b){return Promise.reject(b)}for(u=0,p=d.length;u<p;)m=m.then(d[u++],d[u++]);return m}getUri(s){s=sa(this.defaults,s);const r=Tb(s.baseURL,s.url,s.allowAbsoluteUrls);return Sb(r,s.params,s.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(s){Kn.prototype[s]=function(r,n){return this.request(sa(n||{},{method:s,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(s){function r(n){return function(l,i,o){return this.request(sa(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Kn.prototype[s]=r(),Kn.prototype[s+"Form"]=r(!0)});let nk=class Db{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},s(function(l,i,o){n.reason||(n.reason=new _l(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Db(function(a){s=a}),cancel:s}}};function ak(t){return function(r){return t.apply(null,r)}}function lk(t){return te.isObject(t)&&t.isAxiosError===!0}const Tm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tm).forEach(([t,s])=>{Tm[s]=t});function Ib(t){const s=new Kn(t),r=xb(Kn.prototype.request,s);return te.extend(r,Kn.prototype,s,{allOwnKeys:!0}),te.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return Ib(sa(t,a))},r}const ie=Ib(Hi);ie.Axios=Kn;ie.CanceledError=_l;ie.CancelToken=nk;ie.isCancel=Rb;ie.VERSION=Mb;ie.toFormData=sd;ie.AxiosError=_e;ie.Cancel=ie.CanceledError;ie.all=function(s){return Promise.all(s)};ie.spread=ak;ie.isAxiosError=lk;ie.mergeConfig=sa;ie.AxiosHeaders=Gt;ie.formToJSON=t=>Pb(te.isHTMLForm(t)?new FormData(t):t);ie.getAdapter=Lb.getAdapter;ie.HttpStatusCode=Tm;ie.default=ie;const{Axios:kR,AxiosError:CR,CanceledError:SR,isCancel:ER,CancelToken:PR,VERSION:RR,all:AR,Cancel:TR,isAxiosError:FR,spread:OR,toFormData:LR,AxiosHeaders:MR,HttpStatusCode:DR,formToJSON:IR,getAdapter:$R,mergeConfig:qR}=ie,Xs=Object.create(null);Xs.open="0";Xs.close="1";Xs.ping="2";Xs.pong="3";Xs.message="4";Xs.upgrade="5";Xs.noop="6";const qo=Object.create(null);Object.keys(Xs).forEach(t=>{qo[Xs[t]]=t});const Fm={type:"error",data:"parser error"},$b=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",qb=typeof ArrayBuffer=="function",zb=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,op=({type:t,data:s},r,n)=>$b&&s instanceof Blob?r?n(s):Sf(s,n):qb&&(s instanceof ArrayBuffer||zb(s))?r?n(s):Sf(new Blob([s]),n):n(Xs[t]+(s||"")),Sf=(t,s)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];s("b"+(n||""))},r.readAsDataURL(t)};function Ef(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Gd;function ik(t,s){if($b&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ef).then(s);if(qb&&(t.data instanceof ArrayBuffer||zb(t.data)))return s(Ef(t.data));op(t,!1,r=>{Gd||(Gd=new TextEncoder),s(Gd.encode(r))})}const Pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Pf.length;t++)Yl[Pf.charCodeAt(t)]=t;const ok=t=>{let s=t.length*.75,r=t.length,n,a=0,l,i,o,c;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);const d=new ArrayBuffer(s),m=new Uint8Array(d);for(n=0;n<r;n+=4)l=Yl[t.charCodeAt(n)],i=Yl[t.charCodeAt(n+1)],o=Yl[t.charCodeAt(n+2)],c=Yl[t.charCodeAt(n+3)],m[a++]=l<<2|i>>4,m[a++]=(i&15)<<4|o>>2,m[a++]=(o&3)<<6|c&63;return d},ck=typeof ArrayBuffer=="function",cp=(t,s)=>{if(typeof t!="string")return{type:"message",data:Bb(t,s)};const r=t.charAt(0);return r==="b"?{type:"message",data:dk(t.substring(1),s)}:qo[r]?t.length>1?{type:qo[r],data:t.substring(1)}:{type:qo[r]}:Fm},dk=(t,s)=>{if(ck){const r=ok(t);return Bb(r,s)}else return{base64:!0,data:t}},Bb=(t,s)=>{switch(s){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ub="",uk=(t,s)=>{const r=t.length,n=new Array(r);let a=0;t.forEach((l,i)=>{op(l,!1,o=>{n[i]=o,++a===r&&s(n.join(Ub))})})},mk=(t,s)=>{const r=t.split(Ub),n=[];for(let a=0;a<r.length;a++){const l=cp(r[a],s);if(n.push(l),l.type==="error")break}return n};function hk(){return new TransformStream({transform(t,s){ik(t,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(a[0]|=128),s.enqueue(a),s.enqueue(r)})}})}let Yd;function xo(t){return t.reduce((s,r)=>s+r.length,0)}function fo(t,s){if(t[0].length===s)return t.shift();const r=new Uint8Array(s);let n=0;for(let a=0;a<s;a++)r[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function pk(t,s){Yd||(Yd=new TextDecoder);const r=[];let n=0,a=-1,l=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(n===0){if(xo(r)<1)break;const c=fo(r,1);l=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(xo(r)<2)break;const c=fo(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(xo(r)<8)break;const c=fo(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){o.enqueue(Fm);break}a=m*Math.pow(2,32)+d.getUint32(4),n=3}else{if(xo(r)<a)break;const c=fo(r,a);o.enqueue(cp(l?c:Yd.decode(c),s)),n=0}if(a===0||a>t){o.enqueue(Fm);break}}}})}const Vb=4;function lt(t){if(t)return xk(t)}function xk(t){for(var s in lt.prototype)t[s]=lt.prototype[s];return t}lt.prototype.on=lt.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this};lt.prototype.once=function(t,s){function r(){this.off(t,r),s.apply(this,arguments)}return r.fn=s,this.on(t,r),this};lt.prototype.off=lt.prototype.removeListener=lt.prototype.removeAllListeners=lt.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===s||n.fn===s){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};lt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)s[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,s)}return this};lt.prototype.emitReserved=lt.prototype.emit;lt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};lt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const nd=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,r)=>r(s,0),hs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fk="arraybuffer";function Hb(t,...s){return s.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const gk=hs.setTimeout,yk=hs.clearTimeout;function ad(t,s){s.useNativeTimers?(t.setTimeoutFn=gk.bind(hs),t.clearTimeoutFn=yk.bind(hs)):(t.setTimeoutFn=hs.setTimeout.bind(hs),t.clearTimeoutFn=hs.clearTimeout.bind(hs))}const bk=1.33;function vk(t){return typeof t=="string"?jk(t):Math.ceil((t.byteLength||t.size)*bk)}function jk(t){let s=0,r=0;for(let n=0,a=t.length;n<a;n++)s=t.charCodeAt(n),s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(n++,r+=4);return r}function Wb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _k(t){let s="";for(let r in t)t.hasOwnProperty(r)&&(s.length&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return s}function Nk(t){let s={},r=t.split("&");for(let n=0,a=r.length;n<a;n++){let l=r[n].split("=");s[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return s}class wk extends Error{constructor(s,r,n){super(s),this.description=r,this.context=n,this.type="TransportError"}}class dp extends lt{constructor(s){super(),this.writable=!1,ad(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,r,n){return super.emitReserved("error",new wk(s,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const r=cp(s,this.socket.binaryType);this.onPacket(r)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,r={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const r=_k(s);return r.length?"?"+r:""}}class kk extends dp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const r=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};mk(s,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,uk(s,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Wb()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(s,r)}}let Kb=!1;try{Kb=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ck=Kb;function Sk(){}class Ek extends kk{constructor(s){if(super(s),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||n!==s.port}}doWrite(s,r){const n=this.request({method:"POST",data:s});n.on("success",r),n.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=s}}class Ys extends lt{constructor(s,r,n){super(),this.createRequest=s,ad(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var s;const r=Hb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ys.requestsCount++,Ys.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Sk,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ys.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ys.requestsCount=0;Ys.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rf);else if(typeof addEventListener=="function"){const t="onpagehide"in hs?"pagehide":"unload";addEventListener(t,Rf,!1)}}function Rf(){for(let t in Ys.requests)Ys.requests.hasOwnProperty(t)&&Ys.requests[t].abort()}const Pk=function(){const t=Qb({xdomain:!1});return t&&t.responseType!==null}();class Rk extends Ek{constructor(s){super(s);const r=s&&s.forceBase64;this.supportsBinary=Pk&&!r}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new Ys(Qb,this.uri(),s)}}function Qb(t){const s=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||Ck))return new XMLHttpRequest}catch{}if(!s)try{return new hs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Gb=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ak extends dp{get name(){return"websocket"}doOpen(){const s=this.uri(),r=this.opts.protocols,n=Gb?{}:Hb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;op(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}a&&nd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Wb()),this.supportsBinary||(r.b64=1),this.createUri(s,r)}}const Jd=hs.WebSocket||hs.MozWebSocket;class Tk extends Ak{createSocket(s,r,n){return Gb?new Jd(s,r,n):r?new Jd(s,r):new Jd(s)}doWrite(s,r){this.ws.send(r)}}class Fk extends dp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const r=pk(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=s.readable.pipeThrough(r).getReader(),a=hk();a.readable.pipeTo(s.writable),this._writer=a.writable.getWriter();const l=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),l())}).catch(o=>{})};l();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;this._writer.write(n).then(()=>{a&&nd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const Ok={websocket:Tk,webtransport:Fk,polling:Rk},Lk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Om(t){if(t.length>8e3)throw"URI too long";const s=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let a=Lk.exec(t||""),l={},i=14;for(;i--;)l[Mk[i]]=a[i]||"";return r!=-1&&n!=-1&&(l.source=s,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Dk(l,l.path),l.queryKey=Ik(l,l.query),l}function Dk(t,s){const r=/\/{2,9}/g,n=s.replace(r,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&n.splice(0,1),s.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ik(t,s){const r={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,l){a&&(r[a]=l)}),r}const Lm=typeof addEventListener=="function"&&typeof removeEventListener=="function",zo=[];Lm&&addEventListener("offline",()=>{zo.forEach(t=>t())},!1);class xn extends lt{constructor(s,r){if(super(),this.binaryType=fk,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(r=s,s=null),s){const n=Om(s);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Om(r.host).host);ad(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Nk(this.opts.query)),Lm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},zo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const r=Object.assign({},this.opts.query);r.EIO=Vb,r.transport=s,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&xn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(s);r.open(),this.setTransport(r)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",xn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=s.data,this._onError(r);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=vk(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,nd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,r,n){return this._sendPacket("message",s,r,n),this}send(s,r,n){return this._sendPacket("message",s,r,n),this}_sendPacket(s,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:s,data:r,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),s()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():s()}):this.upgrading?n():s()),this}_onError(s){if(xn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Lm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=zo.indexOf(this._offlineEventListener);n!==-1&&zo.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,r),this.writeBuffer=[],this._prevBufferLen=0}}}xn.protocol=Vb;class $k extends xn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let r=this.createTransport(s),n=!1;xn.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!n)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;xn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function l(){n||(n=!0,m(),r.close(),r=null)}const i=u=>{const p=new Error("probe error: "+u);p.transport=r.name,l(),this.emitReserved("upgradeError",p)};function o(){i("transport closed")}function c(){i("socket closed")}function d(u){r&&u.name!==r.name&&l()}const m=()=>{r.removeListener("open",a),r.removeListener("error",i),r.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};r.once("open",a),r.once("error",i),r.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const r=[];for(let n=0;n<s.length;n++)~this.transports.indexOf(s[n])&&r.push(s[n]);return r}}let qk=class extends $k{constructor(s,r={}){const n=typeof s=="object"?s:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>Ok[a]).filter(a=>!!a)),super(s,n)}};function zk(t,s="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Om(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+s,n.href=n.protocol+"://"+l+(r&&r.port===n.port?"":":"+n.port),n}const Bk=typeof ArrayBuffer=="function",Uk=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Yb=Object.prototype.toString,Vk=typeof Blob=="function"||typeof Blob<"u"&&Yb.call(Blob)==="[object BlobConstructor]",Hk=typeof File=="function"||typeof File<"u"&&Yb.call(File)==="[object FileConstructor]";function up(t){return Bk&&(t instanceof ArrayBuffer||Uk(t))||Vk&&t instanceof Blob||Hk&&t instanceof File}function Bo(t,s){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Bo(t[r]))return!0;return!1}if(up(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Bo(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Bo(t[r]))return!0;return!1}function Wk(t){const s=[],r=t.data,n=t;return n.data=Mm(r,s),n.attachments=s.length,{packet:n,buffers:s}}function Mm(t,s){if(!t)return t;if(up(t)){const r={_placeholder:!0,num:s.length};return s.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Mm(t[n],s);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Mm(t[n],s));return r}return t}function Kk(t,s){return t.data=Dm(t.data,s),delete t.attachments,t}function Dm(t,s){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<s.length)return s[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Dm(t[r],s);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Dm(t[r],s));return t}const Qk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Gk=5;var Re;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Re||(Re={}));class Yk{constructor(s){this.replacer=s}encode(s){return(s.type===Re.EVENT||s.type===Re.ACK)&&Bo(s)?this.encodeAsBinary({type:s.type===Re.EVENT?Re.BINARY_EVENT:Re.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let r=""+s.type;return(s.type===Re.BINARY_EVENT||s.type===Re.BINARY_ACK)&&(r+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(r+=s.nsp+","),s.id!=null&&(r+=s.id),s.data!=null&&(r+=JSON.stringify(s.data,this.replacer)),r}encodeAsBinary(s){const r=Wk(s),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function Af(t){return Object.prototype.toString.call(t)==="[object Object]"}class mp extends lt{constructor(s){super(),this.reviver=s}add(s){let r;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(s);const n=r.type===Re.BINARY_EVENT;n||r.type===Re.BINARY_ACK?(r.type=n?Re.EVENT:Re.ACK,this.reconstructor=new Jk(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(up(s)||s.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(s),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let r=0;const n={type:Number(s.charAt(0))};if(Re[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Re.BINARY_EVENT||n.type===Re.BINARY_ACK){const l=r+1;for(;s.charAt(++r)!=="-"&&r!=s.length;);const i=s.substring(l,r);if(i!=Number(i)||s.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(s.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(s.charAt(r)===","||r===s.length););n.nsp=s.substring(l,r)}else n.nsp="/";const a=s.charAt(r+1);if(a!==""&&Number(a)==a){const l=r+1;for(;++r;){const i=s.charAt(r);if(i==null||Number(i)!=i){--r;break}if(r===s.length)break}n.id=Number(s.substring(l,r+1))}if(s.charAt(++r)){const l=this.tryParse(s.substr(r));if(mp.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,r){switch(s){case Re.CONNECT:return Af(r);case Re.DISCONNECT:return r===void 0;case Re.CONNECT_ERROR:return typeof r=="string"||Af(r);case Re.EVENT:case Re.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Qk.indexOf(r[0])===-1);case Re.ACK:case Re.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jk{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const r=Kk(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Xk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:mp,Encoder:Yk,get PacketType(){return Re},protocol:Gk},Symbol.toStringTag,{value:"Module"}));function Cs(t,s,r){return t.on(s,r),function(){t.off(s,r)}}const Zk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Jb extends lt{constructor(s,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Cs(s,"open",this.onopen.bind(this)),Cs(s,"packet",this.onpacket.bind(this)),Cs(s,"error",this.onerror.bind(this)),Cs(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...r){var n,a,l;if(Zk.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(r.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:Re.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,u=r.pop();this._registerAckCallback(m,u),i.id=m}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(s,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[s]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===s&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},a),i=(...o)=>{this.io.clearTimeoutFn(l),r.apply(this,o)};i.withError=!0,this.acks[s]=i}emitWithAck(s,...r){return new Promise((n,a)=>{const l=(i,o)=>i?a(i):n(o);l.withError=!0,r.push(l),this.emit(s,...r)})}_addToQueue(s){let r;typeof s[s.length-1]=="function"&&(r=s.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((a,...l)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!s||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:Re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(n=>String(n.id)===s)){const n=this.acks[s];delete this.acks[s],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case Re.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Re.EVENT:case Re.BINARY_EVENT:this.onevent(s);break;case Re.ACK:case Re.BINARY_ACK:this.onack(s);break;case Re.DISCONNECT:this.ondisconnect();break;case Re.CONNECT_ERROR:this.destroy();const n=new Error(s.data.message);n.data=s.data.data,this.emitReserved("connect_error",n);break}}onevent(s){const r=s.data||[];s.id!=null&&r.push(this.ack(s.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Re.ACK,id:s,data:a}))}}onack(s){const r=this.acks[s.id];typeof r=="function"&&(delete this.acks[s.id],r.withError&&s.data.unshift(null),r.apply(this,s.data))}onconnect(s,r){this.id=s,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Re.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,s.data)}}}function Nl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Nl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),r=Math.floor(s*this.jitter*t);t=Math.floor(s*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Nl.prototype.reset=function(){this.attempts=0};Nl.prototype.setMin=function(t){this.ms=t};Nl.prototype.setMax=function(t){this.max=t};Nl.prototype.setJitter=function(t){this.jitter=t};class Im extends lt{constructor(s,r){var n;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(r=s,s=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ad(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Nl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=s;const a=r.parser||Xk;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var r;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(r=this.backoff)===null||r===void 0||r.setMin(s),this)}randomizationFactor(s){var r;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(r=this.backoff)===null||r===void 0||r.setJitter(s),this)}reconnectionDelayMax(s){var r;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(r=this.backoff)===null||r===void 0||r.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new qk(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Cs(r,"open",function(){n.onopen(),s&&s()}),l=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),s?s(o):this.maybeReconnectOnOpen()},i=Cs(r,"error",l);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(i),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Cs(s,"ping",this.onping.bind(this)),Cs(s,"data",this.ondata.bind(this)),Cs(s,"error",this.onerror.bind(this)),Cs(s,"close",this.onclose.bind(this)),Cs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(r){this.onclose("parse error",r)}}ondecoded(s){nd(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,r){let n=this.nsps[s];return n?this._autoConnect&&!n.active&&n.connect():(n=new Jb(this,s,r),this.nsps[s]=n),n}_destroy(s){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(s){const r=this.encoder.encode(s);for(let n=0;n<r.length;n++)this.engine.write(r[n],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(a=>{a?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",a)):s.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const zl={};function Uo(t,s){typeof t=="object"&&(s=t,t=void 0),s=s||{};const r=zk(t,s.path||"/socket.io"),n=r.source,a=r.id,l=r.path,i=zl[a]&&l in zl[a].nsps,o=s.forceNew||s["force new connection"]||s.multiplex===!1||i;let c;return o?c=new Im(n,s):(zl[a]||(zl[a]=new Im(n,s)),c=zl[a]),r.query&&!s.query&&(s.query=r.queryKey),c.socket(r.path,s)}Object.assign(Uo,{Manager:Im,Socket:Jb,io:Uo,connect:Uo});const z=E1()(A1((t,s)=>{const r=ie.create({baseURL:"https://123build-an-online-web-application.launchpulse.ai/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(i=>{const o=s().authentication_state.auth_token;return o&&(i.headers.Authorization=`Bearer ${o}`),i}),r.interceptors.response.use(i=>i,i=>{var o;return((o=i.response)==null?void 0:o.status)===401&&(s().logout_user(),s().show_toast("error","Session expired. Please log in again.")),Promise.reject(i)});let n=null,a=null;const l=()=>{a&&(clearTimeout(a),a=null),n&&(clearInterval(n),n=null);const i=2*60*1e3,o=5*60;a=setTimeout(()=>{s().start_session_countdown(o)},i)};return{authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},cart_state:{items:[],selected_location:null,fulfillment_method:null,totals:{subtotal:0,delivery_fee:0,discount:0,total:0},applied_discounts:{loyalty_points_used:0,promo_code:null,promo_code_discount:0}},location_state:{current_location:null,available_locations:[],location_details:null},ui_state:{loading_overlay_visible:!1,loading_message:"Loading...",cart_panel_open:!1,confirmation_modal:null,cookie_consent_given:!1},notification_state:{toasts:[],session_warning_visible:!1,session_expires_in_seconds:null,unread_count:0},system_config_state:{loyalty_points_per_euro:10,points_redemption_rate:100,minimum_order_for_delivery:15,free_delivery_threshold:30,default_preparation_time_minutes:20,tax_rate_percentage:20,max_failed_login_attempts:5,account_lockout_duration_minutes:30,password_reset_token_validity_hours:2,company_email:"info@kake.ie",company_phone:"+353 1 234 5678",enable_loyalty_program:!0,enable_corporate_orders:!0,loaded:!1},websocket_state:{socket:null,is_connected:!1,subscribed_rooms:[]},login_user:async(i,o,c=!1)=>{var d,m;t(u=>({authentication_state:{...u.authentication_state,authentication_status:{...u.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const u=await r.post("/auth/login",{email:i,password:o,remember_me:c}),{user:p,token:v}=u.data;t(()=>({authentication_state:{current_user:p,auth_token:v,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_socket(),l(),l(),s().show_toast("success",`Welcome back, ${p.first_name}!`)}catch(u){const p=((m=(d=u.response)==null?void 0:d.data)==null?void 0:m.message)||u.message||"Login failed";throw t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:p}})),s().show_toast("error",p),u}},logout_user:async()=>{const i=s().authentication_state.auth_token;try{i&&await r.post("/auth/logout")}catch(o){console.error("Logout API call failed:",o)}s().disconnect_socket(),a&&(clearTimeout(a),a=null),s().stop_session_countdown(),s().clear_cart(),t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}})),s().show_toast("info","Logged out successfully")},register_user:async i=>{var o,c;t(d=>({authentication_state:{...d.authentication_state,authentication_status:{...d.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const d=await r.post("/auth/register",{email:i.email,password:i.password,first_name:i.first_name,last_name:i.last_name,phone_number:i.phone_number,marketing_opt_in:i.marketing_opt_in||!1}),{user:m,token:u}=d.data;t(()=>({authentication_state:{current_user:m,auth_token:u,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_socket(),l(),s().show_toast("success",`Welcome to Kake, ${m.first_name}!`)}catch(d){const m=((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||d.message||"Registration failed";throw t(u=>({authentication_state:{...u.authentication_state,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:m}})),s().show_toast("error",m),d}},initialize_auth:async()=>{const{authentication_state:i}=s(),o=i.auth_token;if(!o){t(c=>({authentication_state:{...c.authentication_state,authentication_status:{...c.authentication_state.authentication_status,is_loading:!1}}}));return}try{const d=(await r.get("/users/me")).data;t(()=>({authentication_state:{current_user:d,auth_token:o,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_socket()}catch{t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},update_user_profile:async i=>{var o,c;try{const m=(await r.put("/users/me",i)).data;t(u=>({authentication_state:{...u.authentication_state,current_user:m}})),s().show_toast("success","Profile updated successfully")}catch(d){const m=((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||"Failed to update profile";throw s().show_toast("error",m),d}},clear_auth_error:()=>{t(i=>({authentication_state:{...i.authentication_state,error_message:null}}))},add_to_cart:i=>{t(o=>{const c=o.cart_state.items.find(m=>m.product_id===i.product_id);let d;return c?d=o.cart_state.items.map(m=>m.product_id===i.product_id?{...m,quantity:m.quantity+i.quantity,subtotal:m.price*(m.quantity+i.quantity)}:m):d=[...o.cart_state.items,i],{cart_state:{...o.cart_state,items:d}}}),s().calculate_cart_totals(),s().show_toast("success",`${i.product_name} added to cart!`)},remove_from_cart:i=>{t(o=>({cart_state:{...o.cart_state,items:o.cart_state.items.filter(c=>c.product_id!==i)}})),s().calculate_cart_totals(),s().show_toast("info","Item removed from cart")},update_cart_quantity:(i,o)=>{if(o<1){s().remove_from_cart(i);return}t(c=>({cart_state:{...c.cart_state,items:c.cart_state.items.map(d=>d.product_id===i?{...d,quantity:o,subtotal:d.price*o}:d)}})),s().calculate_cart_totals()},apply_promo_code:(i,o)=>{console.log("[STORE] Applying promo code:",i,"with discount:",o),t(c=>({cart_state:{...c.cart_state,applied_discounts:{...c.cart_state.applied_discounts,promo_code:i,promo_code_discount:o}}})),console.log("[STORE] After setting promo code, calling calculate_cart_totals"),s().calculate_cart_totals(),console.log("[STORE] Cart totals after promo:",s().cart_state.totals)},remove_promo_code:()=>{t(i=>({cart_state:{...i.cart_state,applied_discounts:{...i.cart_state.applied_discounts,promo_code:null,promo_code_discount:0}}})),s().calculate_cart_totals()},apply_loyalty_points:i=>{t(o=>({cart_state:{...o.cart_state,applied_discounts:{...o.cart_state.applied_discounts,loyalty_points_used:i}}})),s().calculate_cart_totals()},remove_loyalty_points:()=>{t(i=>({cart_state:{...i.cart_state,applied_discounts:{...i.cart_state.applied_discounts,loyalty_points_used:0}}})),s().calculate_cart_totals()},set_cart_location:i=>{t(o=>({cart_state:{...o.cart_state,selected_location:i}}))},set_fulfillment_method:i=>{t(o=>({cart_state:{...o.cart_state,fulfillment_method:i}})),i==="collection"&&s().set_delivery_fee(0)},set_delivery_fee:i=>{t(o=>({cart_state:{...o.cart_state,totals:{...o.cart_state.totals,delivery_fee:i}}})),s().calculate_cart_totals()},calculate_cart_totals:()=>{const{cart_state:i,system_config_state:o}=s(),{items:c,applied_discounts:d}=i,m=c.reduce((y,f)=>y+f.subtotal,0),u=d.loyalty_points_used/o.points_redemption_rate,p=d.promo_code_discount||0;console.log("[CALCULATE_TOTALS] Subtotal:",m),console.log("[CALCULATE_TOTALS] Loyalty discount:",u),console.log("[CALCULATE_TOTALS] Promo discount:",p),console.log("[CALCULATE_TOTALS] Applied discounts:",d);const v=u+p,b=i.totals.delivery_fee,x=Math.max(0,m+b-v);console.log("[CALCULATE_TOTALS] Total discount:",v),console.log("[CALCULATE_TOTALS] Delivery fee:",b),console.log("[CALCULATE_TOTALS] Final total:",x),t(y=>({cart_state:{...y.cart_state,totals:{...y.cart_state.totals,subtotal:m,discount:v,total:x}}}))},clear_cart:()=>{t(i=>({cart_state:{items:[],selected_location:i.cart_state.selected_location,fulfillment_method:null,totals:{subtotal:0,delivery_fee:0,discount:0,total:0},applied_discounts:{loyalty_points_used:0,promo_code:null,promo_code_discount:0}}}))},set_current_location:i=>{t(o=>({location_state:{...o.location_state,current_location:i}}))},fetch_locations:async()=>{try{const o=(await r.get("/locations")).data;t(c=>({location_state:{...c.location_state,available_locations:Array.isArray(o)?o:[]}}))}catch(i){console.error("Failed to fetch locations:",i)}},set_location_details:i=>{t(o=>({location_state:{...o.location_state,location_details:i}}))},show_loading:(i="Loading...")=>{t(o=>({ui_state:{...o.ui_state,loading_overlay_visible:!0,loading_message:i}}))},hide_loading:()=>{t(i=>({ui_state:{...i.ui_state,loading_overlay_visible:!1}}))},show_toast:(i,o,c=3e3,d=null)=>{const m=`toast_${Date.now()}_${Math.random()}`,u={id:m,type:i,message:o,duration:c,dismissible:!0,action:d};t(p=>({notification_state:{...p.notification_state,toasts:[...p.notification_state.toasts,u]}})),setTimeout(()=>{s().dismiss_toast(m)},c)},dismiss_toast:i=>{t(o=>({notification_state:{...o.notification_state,toasts:o.notification_state.toasts.filter(c=>c.id!==i)}}))},show_confirmation:i=>{t(o=>({ui_state:{...o.ui_state,confirmation_modal:{visible:!0,...i}}}))},hide_confirmation:()=>{t(i=>({ui_state:{...i.ui_state,confirmation_modal:null}}))},open_cart_panel:()=>{t(i=>({ui_state:{...i.ui_state,cart_panel_open:!0}}))},close_cart_panel:()=>{t(i=>({ui_state:{...i.ui_state,cart_panel_open:!1}}))},set_cookie_consent:i=>{t(o=>({ui_state:{...o.ui_state,cookie_consent_given:i}}))},start_session_countdown:i=>{n&&clearInterval(n),t(o=>({notification_state:{...o.notification_state,session_warning_visible:!0,session_expires_in_seconds:i}})),n=setInterval(()=>{const{notification_state:o}=s(),c=o.session_expires_in_seconds;if(c===null||c<=0){s().stop_session_countdown(),s().logout_user(),s().show_toast("warning","Session expired. Please log in again.");return}t(d=>({notification_state:{...d.notification_state,session_expires_in_seconds:c-1}}))},1e3)},stop_session_countdown:()=>{n&&(clearInterval(n),n=null),t(i=>({notification_state:{...i.notification_state,session_warning_visible:!1,session_expires_in_seconds:null}}))},extend_session:()=>{s().stop_session_countdown(),l(),s().show_toast("success","Session extended successfully")},set_unread_count:i=>{t(o=>({notification_state:{...o.notification_state,unread_count:i}}))},load_system_settings:async()=>{try{if(!s().authentication_state.auth_token){t(m=>({system_config_state:{...m.system_config_state,loaded:!0}}));return}const c=(await r.get("/settings")).data,d={loaded:!0};c.forEach(m=>{let u=m.setting_value;if(m.setting_type==="number")u=parseFloat(u);else if(m.setting_type==="boolean")u=u==="true";else if(m.setting_type==="json")try{u=JSON.parse(u)}catch{console.error("Failed to parse JSON setting:",m.setting_key)}const v={loyalty_points_per_pound:"loyalty_points_per_euro"}[m.setting_key]||m.setting_key;d[v]=u}),t(m=>({system_config_state:{...m.system_config_state,...d}}))}catch(i){console.error("Failed to load system settings:",i),t(o=>({system_config_state:{...o.system_config_state,loaded:!0}}))}},connect_socket:()=>{const{authentication_state:i,websocket_state:o}=s(),c=i.auth_token;if(!(o.socket&&o.is_connected)&&c)try{const m=Uo("https://123build-an-online-web-application.launchpulse.ai",{auth:{token:c},transports:["websocket","polling"]});m.on("connect",()=>{console.log("WebSocket connected"),t(p=>({websocket_state:{...p.websocket_state,is_connected:!0}}));const u=s().authentication_state.current_user;u&&m.emit("join_order_room",{user_id:u.user_id}),u&&(u.user_type==="staff"||u.user_type==="admin")&&m.emit("join_staff_rooms",{}),u&&u.user_type==="admin"&&m.emit("join_admin_dashboard",{})}),m.on("disconnect",()=>{console.log("WebSocket disconnected"),t(u=>({websocket_state:{...u.websocket_state,is_connected:!1,subscribed_rooms:[]}}))}),m.on("connect_error",u=>{console.error("WebSocket connection error:",u)}),m.on("order_status_changed",u=>{console.log("Order status changed:",u),s().show_toast("info",`Order ${u.order_number} status: ${u.new_status}`)}),m.on("new_order",u=>{var p,v;console.log("New order received:",u),(((p=s().authentication_state.current_user)==null?void 0:p.user_type)==="staff"||((v=s().authentication_state.current_user)==null?void 0:v.user_type)==="admin")&&s().show_toast("info",`New order ${u.order_number} at ${u.location_name}`)}),m.on("inventory_alert",u=>{var p;console.log("Inventory alert:",u),((p=s().authentication_state.current_user)==null?void 0:p.user_type)==="admin"&&s().show_toast("warning",`Inventory alert: ${u.item_name} at ${u.location_name}`)}),m.on("feedback_received",u=>{var p;console.log("Feedback received:",u),((p=s().authentication_state.current_user)==null?void 0:p.user_type)==="admin"&&s().show_toast("warning",`Low rating feedback received for order ${u.order_number}`)}),m.on("staff_feedback_response",u=>{console.log("Staff feedback response:",u),s().show_toast("info",`Response received for feedback ${u.reference_number}`)}),m.on("analytics_update",u=>{console.log("Analytics updated:",u)}),t(u=>({websocket_state:{...u.websocket_state,socket:m}}))}catch(d){console.error("Failed to connect WebSocket:",d)}},disconnect_socket:()=>{const{websocket_state:i}=s(),o=i.socket;o&&(o.disconnect(),t(()=>({websocket_state:{socket:null,is_connected:!1,subscribed_rooms:[]}})))},join_order_room:i=>{const{websocket_state:o}=s(),c=o.socket;c&&c.connected&&(c.emit("join_order_room",{order_id:i}),t(d=>({websocket_state:{...d.websocket_state,subscribed_rooms:[...d.websocket_state.subscribed_rooms,`order_${i}`]}})))},leave_order_room:i=>{const{websocket_state:o}=s(),c=o.socket;c&&c.connected&&(c.emit("leave_order_room",{order_id:i}),t(d=>({websocket_state:{...d.websocket_state,subscribed_rooms:d.websocket_state.subscribed_rooms.filter(m=>m!==`order_${i}`)}})))},emit_socket_event:(i,o)=>{const{websocket_state:c}=s(),d=c.socket;d&&d.connected&&d.emit(i,o)}}},{name:"kake-app-storage",partialize:t=>({authentication_state:{current_user:t.authentication_state.current_user,auth_token:t.authentication_state.auth_token,authentication_status:{is_authenticated:t.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},cart_state:t.cart_state,ui_state:{loading_overlay_visible:!1,loading_message:"Loading...",cart_panel_open:!1,confirmation_modal:null,cookie_consent_given:t.ui_state.cookie_consent_given}})}));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xb=(...t)=>t.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=h.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:i,...o},c)=>h.createElement("svg",{ref:c,...t6,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:Xb("lucide",a),...o},[...i.map(([d,m])=>h.createElement(d,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,s)=>{const r=h.forwardRef(({className:n,...a},l)=>h.createElement(s6,{ref:l,iconNode:s,className:Xb(`lucide-${e6(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=de("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=de("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=de("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=de("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=de("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=de("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=de("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=de("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=de("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=de("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=de("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=de("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=de("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=de("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=de("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=de("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=de("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=de("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=de("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=de("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N6=()=>{const t=z(g=>g.authentication_state.current_user),s=z(g=>g.authentication_state.authentication_status.is_authenticated),r=z(g=>g.cart_state.items),n=z(g=>g.logout_user),a=z(g=>g.open_cart_panel),[l,i]=h.useState(!1),[o,c]=h.useState(!1),d=h.useRef(null),m=it(),u=r.reduce((g,j)=>g+j.quantity,0);h.useEffect(()=>{const g=j=>{d.current&&!d.current.contains(j.target)&&c(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),h.useEffect(()=>{i(!1)},[m]);const p=()=>{i(!l)},v=()=>{c(!o)},b=()=>{a()},x=async()=>{try{await n(),c(!1),i(!1),m("/")}catch(g){console.error("Logout failed:",g)}},y=()=>!s||!t?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{to:"/login",className:"text-gray-700 hover:text-blue-600 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),e.jsx(re,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm",children:"Sign Up"})]}):t.user_type==="customer"?e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors","aria-expanded":o,"aria-haspopup":"true",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:t.first_name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"hidden lg:block",children:t.first_name})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-100 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(re,{to:"/account",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(ul,{className:"w-4 h-4 mr-3"}),"My Account"]}),e.jsxs(re,{to:"/favorites",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(gr,{className:"w-4 h-4 mr-3"}),"Favorites"]}),e.jsxs(re,{to:"/account?tab=orders",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(Te,{className:"w-4 h-4 mr-3"}),"My Orders"]}),e.jsxs(re,{to:"/account?tab=loyalty_points",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(ra,{className:"w-4 h-4 mr-3"}),"Loyalty Points",e.jsx("span",{className:"ml-auto text-xs font-semibold text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:t.loyalty_points_balance})]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2",children:e.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]}):t.user_type==="staff"||t.user_type==="manager"?e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors","aria-expanded":o,"aria-haspopup":"true",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 font-semibold text-sm",children:t.first_name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"hidden lg:block",children:t.first_name}),e.jsx("span",{className:"hidden lg:block text-xs text-gray-500 bg-green-100 px-2 py-1 rounded-full",children:"Staff"})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-100 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(re,{to:"/staff/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(sn,{className:"w-4 h-4 mr-3"}),"Staff Dashboard"]}),e.jsxs(re,{to:"/staff/training",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-green-50 hover:text-green-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(Da,{className:"w-4 h-4 mr-3"}),"Training"]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2",children:e.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]}):t.user_type==="admin"?e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors","aria-expanded":o,"aria-haspopup":"true",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:t.first_name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"hidden lg:block",children:t.first_name}),e.jsx("span",{className:"hidden lg:block text-xs text-gray-500 bg-purple-100 px-2 py-1 rounded-full",children:"Admin"})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-100 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(re,{to:"/admin/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(sn,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),e.jsxs(re,{to:"/admin/orders",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(Te,{className:"w-4 h-4 mr-3"}),"Orders"]}),e.jsxs(re,{to:"/admin/products",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(Te,{className:"w-4 h-4 mr-3"}),"Products"]}),e.jsxs(re,{to:"/admin/promo_codes",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(Sc,{className:"w-4 h-4 mr-3"}),"Promo Codes"]}),e.jsxs(re,{to:"/admin/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors",onClick:()=>c(!1),children:[e.jsx(fn,{className:"w-4 h-4 mr-3"}),"Settings"]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-2",children:e.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Logout"]})})]})]}):null,f=()=>!s||!t?e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 space-y-2",children:[e.jsx(re,{to:"/login",className:"block w-full text-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md text-sm font-medium transition-colors",onClick:()=>i(!1),children:"Login"}),e.jsx(re,{to:"/register",className:"block w-full text-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm",onClick:()=>i(!1),children:"Sign Up"})]}):t.user_type==="customer"?e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3 pb-3 border-b border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold",children:t.first_name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(re,{to:"/account",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(ul,{className:"w-4 h-4 mr-3"}),"My Account"]}),e.jsxs(re,{to:"/favorites",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(gr,{className:"w-4 h-4 mr-3"}),"Favorites"]}),e.jsxs(re,{to:"/account?tab=orders",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(Te,{className:"w-4 h-4 mr-3"}),"My Orders"]}),e.jsxs(re,{to:"/account?tab=loyalty_points",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(ra,{className:"w-4 h-4 mr-3"}),"Loyalty Points",e.jsx("span",{className:"ml-auto text-xs font-semibold text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:t.loyalty_points_balance})]}),e.jsxs("button",{onClick:x,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):t.user_type==="staff"||t.user_type==="manager"?e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3 pb-3 border-b border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 font-semibold",children:t.first_name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Staff Member"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(re,{to:"/staff/dashboard",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-green-50 hover:text-green-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(sn,{className:"w-4 h-4 mr-3"}),"Staff Dashboard"]}),e.jsxs(re,{to:"/staff/training",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-green-50 hover:text-green-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(Da,{className:"w-4 h-4 mr-3"}),"Training"]}),e.jsxs("button",{onClick:x,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):t.user_type==="admin"?e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3 pb-3 border-b border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold",children:t.first_name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Administrator"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(re,{to:"/admin/dashboard",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(sn,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),e.jsxs(re,{to:"/admin/orders",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(Te,{className:"w-4 h-4 mr-3"}),"Orders"]}),e.jsxs(re,{to:"/admin/products",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(Te,{className:"w-4 h-4 mr-3"}),"Products"]}),e.jsxs(re,{to:"/admin/promo_codes",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(Sc,{className:"w-4 h-4 mr-3"}),"Promo Codes"]}),e.jsxs(re,{to:"/admin/settings",className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 rounded-md transition-colors",onClick:()=>i(!1),children:[e.jsx(fn,{className:"w-4 h-4 mr-3"}),"Settings"]}),e.jsxs("button",{onClick:x,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[e.jsx(pa,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):null;return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"fixed top-0 left-0 right-0 bg-white shadow-md z-40",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(re,{to:"/",className:"flex items-center space-x-2",children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"Kake"})})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsxs(re,{to:"/",className:"flex items-center text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx($m,{className:"w-4 h-4 mr-2"}),"Home"]}),e.jsxs(re,{to:"/about",className:"flex items-center text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[e.jsx(Cc,{className:"w-4 h-4 mr-2"}),"About"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:b,className:"relative p-2 text-gray-700 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-all duration-200","aria-label":`Shopping cart with ${u} items`,children:[e.jsx(ol,{className:"w-6 h-6"}),u>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-bounce",children:u>9?"9+":u})]}),e.jsx("div",{className:"hidden md:block",children:y()}),e.jsx("button",{onClick:p,className:"md:hidden p-2 text-gray-700 hover:text-blue-600 rounded-md hover:bg-blue-50 transition-colors","aria-expanded":l,"aria-label":"Toggle mobile menu",children:l?e.jsx(Ee,{className:"w-6 h-6"}):e.jsx(f6,{className:"w-6 h-6"})})]})]})}),l&&e.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 shadow-lg",children:[e.jsxs("div",{className:"px-4 py-3 space-y-1",children:[e.jsxs(re,{to:"/",className:"flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md text-sm font-medium transition-colors",onClick:()=>i(!1),children:[e.jsx($m,{className:"w-4 h-4 mr-3"}),"Home"]}),e.jsxs(re,{to:"/about",className:"flex items-center px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-md text-sm font-medium transition-colors",onClick:()=>i(!1),children:[e.jsx(Cc,{className:"w-4 h-4 mr-3"}),"About"]})]}),f()]})]}),e.jsx("div",{className:"h-16"})]})},w6=()=>{const t=z(a=>a.system_config_state.company_email),s=z(a=>a.system_config_state.company_phone),r={instagram:"https://instagram.com/kake",facebook:"https://facebook.com/kake",tiktok:"https://tiktok.com/@kake"},n=new Date().getFullYear();return e.jsx(e.Fragment,{children:e.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"About Kake"}),e.jsx(re,{to:"/about",className:"block text-gray-300 hover:text-white transition-colors duration-200",children:"Our Story"}),e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-800",children:[e.jsx("h4",{className:"text-white text-sm font-semibold mb-3",children:"Our Locations"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{to:"/location/blanchardstown",className:"block text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"Blanchardstown"}),e.jsx(re,{to:"/location/tallaght",className:"block text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"Tallaght"}),e.jsx(re,{to:"/location/glasnevin",className:"block text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"Glasnevin"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Contact Us"}),e.jsxs("a",{href:`mailto:${t}`,className:"flex items-center space-x-3 text-gray-300 hover:text-white transition-colors duration-200 group","aria-label":"Send us an email",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center group-hover:bg-gray-700 transition-colors",children:e.jsx(wr,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-sm break-all",children:t})]}),e.jsxs("a",{href:`tel:${s}`,className:"flex items-center space-x-3 text-gray-300 hover:text-white transition-colors duration-200 group","aria-label":"Call us",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center group-hover:bg-gray-700 transition-colors",children:e.jsx(kr,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-sm",children:s})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Legal"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{to:"/privacy",className:"block text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"Privacy Policy"}),e.jsx(re,{to:"/terms",className:"block text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"Terms & Conditions"}),e.jsx(re,{to:"/cookies",className:"block text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"Cookie Policy"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("a",{href:r.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-purple-600 transition-colors duration-200 group","aria-label":"Follow us on Instagram",children:e.jsx(p6,{className:"h-5 w-5 text-gray-300 group-hover:text-white"})}),e.jsx("a",{href:r.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-600 transition-colors duration-200 group","aria-label":"Follow us on Facebook",children:e.jsx(i6,{className:"h-5 w-5 text-gray-300 group-hover:text-white"})}),e.jsx("a",{href:r.tiktok,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-pink-600 transition-colors duration-200 group","aria-label":"Follow us on TikTok",children:e.jsx(g6,{className:"h-5 w-5 text-gray-300 group-hover:text-white"})})]}),e.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mt-4",children:"Stay connected with us on social media for the latest updates, special offers, and behind-the-scenes content!"})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsxs("p",{className:"text-sm text-gray-400",children:[" ",n," Kake. All rights reserved."]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(re,{to:"/privacy",className:"text-sm text-gray-400 hover:text-white transition-colors duration-200",children:"Privacy"}),e.jsx(re,{to:"/terms",className:"text-sm text-gray-400 hover:text-white transition-colors duration-200",children:"Terms"}),e.jsx(re,{to:"/cookies",className:"text-sm text-gray-400 hover:text-white transition-colors duration-200",children:"Cookies"})]})]})})]})})})},k6=()=>{const t=it(),s=z(D=>D.authentication_state.authentication_status.is_authenticated),r=z(D=>D.authentication_state.current_user),n=z(D=>D.cart_state.items),a=z(D=>D.cart_state.selected_location),l=z(D=>D.cart_state.fulfillment_method),i=z(D=>D.cart_state.totals),o=z(D=>D.cart_state.applied_discounts),c=z(D=>D.ui_state.cart_panel_open),d=z(D=>D.system_config_state.points_redemption_rate),m=z(D=>D.system_config_state.free_delivery_threshold),u=z(D=>D.update_cart_quantity),p=z(D=>D.remove_from_cart),v=z(D=>D.apply_promo_code),b=z(D=>D.remove_promo_code),x=z(D=>D.apply_loyalty_points),y=z(D=>D.remove_loyalty_points),f=z(D=>D.clear_cart),g=z(D=>D.close_cart_panel),j=z(D=>D.show_toast),_=z(D=>D.show_confirmation),S=z(D=>D.hide_confirmation),[O,E]=h.useState(""),[T,C]=h.useState(null),[R,H]=h.useState(!1),[I,ee]=h.useState(!1),[P,Q]=h.useState(""),[B,F]=h.useState(null),w=(r==null?void 0:r.loyalty_points_balance)||0,M=Math.min(w/d,i.subtotal),W=Math.floor(M*d),G=l==="delivery"&&i.subtotal>=(m||30);h.useEffect(()=>{const D=o.loyalty_points_used;ee(D>0),D>0&&Q(String(D))},[o.loyalty_points_used]),h.useEffect(()=>{o.promo_code?(E(o.promo_code),C(null)):E("")},[o.promo_code]),h.useEffect(()=>{const D=le=>{le.key==="Escape"&&c&&g()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[c,g]),h.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[c]);const U=(D,le)=>{if(le<1){ae(D);return}F(D),u(D,le),setTimeout(()=>F(null),200)},ae=D=>{const le=n.find(ue=>ue.product_id===D);le&&_({title:"Remove item from cart?",message:`Are you sure you want to remove ${le.product_name} from your cart?`,confirm_text:"Remove",cancel_text:"Cancel",on_confirm:()=>{p(D),j("info","Item removed from cart"),S()},on_cancel:()=>{S()},danger_action:!1})},Y=async()=>{var le,ue;const D=O.trim().toUpperCase();if(!D){C("Please enter a promo code");return}H(!0),C(null);try{const q=await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/promo-codes/validate",{code:D,order_total:i.subtotal,location_name:a,product_ids:n.map(A=>A.product_id)});if(q.data.is_valid){const A=q.data.discount_amount||0;v(D,A),j("success",`Promo code applied! ${A.toFixed(2)} discount`),C(null)}else C(q.data.message||"Invalid promo code")}catch(q){C(((ue=(le=q.response)==null?void 0:le.data)==null?void 0:ue.message)||"Failed to validate promo code")}finally{H(!1)}},N=()=>{b(),E(""),C(null),j("info","Promo code removed")},V=D=>{ee(D),D?W>0?(Q(String(W)),x(W),j("success",`Using ${W} points for ${M.toFixed(2)} discount`)):(ee(!1),j("warning","Not enough points to redeem")):(y(),Q(""),j("info","Loyalty points removed"))},J=D=>{(D===""||/^\d+$/.test(D))&&Q(D)},ne=()=>{const D=parseInt(P)||0;if(D===0){j("warning","Please enter a valid number of points");return}if(D>w){j("error",`You only have ${w} points available`);return}if(D>W){j("error",`Maximum ${W} points can be used for this order`);return}x(D);const le=(D/d).toFixed(2);j("success",`Using ${D} points for ${le} discount`)},K=()=>{if(n.length===0){j("warning","Your cart is empty");return}g(),t("/checkout")},oe=()=>{g()};return c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",onClick:g,"aria-hidden":"true"}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full sm:w-[400px] bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out flex flex-col",role:"dialog","aria-modal":"true","aria-labelledby":"cart-panel-title",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 bg-white sticky top-0 z-10",children:[e.jsxs("h2",{id:"cart-panel-title",className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ol,{className:"w-5 h-5"}),"Your Cart",n.length>0&&e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["(",n.length," ",n.length===1?"item":"items",")"]})]}),e.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close cart",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[n.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-4 py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(ol,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Add some delicious desserts to get started!"}),e.jsx("button",{onClick:oe,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Shopping"})]}),n.length>0&&e.jsxs("div",{className:"px-4 py-4 space-y-6",children:[a&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Ordering from: ",e.jsx("span",{className:"font-semibold",children:a})]}),l&&e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Method: ",e.jsx("span",{className:"capitalize font-medium",children:l})]})]}),e.jsx("button",{onClick:()=>{_({title:"Change location?",message:"Changing location will clear your cart. Are you sure?",confirm_text:"Clear Cart",cancel_text:"Cancel",on_confirm:()=>{f(),g(),t("/"),S()},on_cancel:()=>{S()},danger_action:!0})},className:"text-xs text-blue-600 hover:text-blue-800 font-medium underline",children:"Change"})]})}),e.jsx("div",{className:"space-y-4",children:n.map(D=>e.jsxs("div",{className:"flex gap-4 bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:[e.jsx(re,{to:`/location/${a}/product/${D.product_id}`,onClick:g,className:"flex-shrink-0",children:e.jsx("img",{src:D.primary_image_url,alt:D.product_name,className:"w-20 h-20 object-cover rounded-md hover:opacity-80 transition-opacity"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(re,{to:`/location/${a}/product/${D.product_id}`,onClick:g,className:"block",children:e.jsx("h4",{className:"text-sm font-semibold text-gray-900 hover:text-blue-600 transition-colors line-clamp-2",children:D.product_name})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["",Number(D.price||0).toFixed(2)," each"]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>U(D.product_id,D.quantity-1),disabled:B===D.product_id||D.quantity<=1,className:"px-3 py-1 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Decrease quantity",children:e.jsx(qm,{className:"w-4 h-4 text-gray-600"})}),e.jsx("span",{className:"px-4 py-1 text-sm font-medium text-gray-900 min-w-[40px] text-center",children:D.quantity}),e.jsx("button",{onClick:()=>U(D.product_id,D.quantity+1),disabled:B===D.product_id,className:"px-3 py-1 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Increase quantity",children:e.jsx(es,{className:"w-4 h-4 text-gray-600"})})]}),e.jsx("button",{onClick:()=>ae(D.product_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove item",children:e.jsx(cl,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",Number(D.subtotal||0).toFixed(2)]})})]},D.product_id))}),s&&r&&w>0&&e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ra,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-sm font-medium text-purple-900",children:["Loyalty Points Available: ",w]})}),W>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:D=>V(D.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-purple-800",children:"Use loyalty points"})]}),I&&e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",value:P,onChange:D=>J(D.target.value),placeholder:"Enter points",className:"flex-1 px-3 py-2 border border-purple-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),e.jsx("button",{onClick:ne,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:"Apply"})]}),I&&e.jsxs("p",{className:"text-xs text-purple-700",children:["Max ",W," points (",M.toFixed(2)," discount)"]})]}):e.jsx("p",{className:"text-xs text-purple-700",children:"Minimum order value required to use points"})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(zm,{className:"w-4 h-4 text-gray-600"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Have a promo code?"})]}),o.promo_code?e.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zm,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:o.promo_code})]}),e.jsx("button",{onClick:N,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Remove"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:O,onChange:D=>{E(D.target.value.toUpperCase()),C(null)},placeholder:"Enter code",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 uppercase",disabled:R}),e.jsx("button",{onClick:Y,disabled:R||!O.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:R?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking..."]}):"Apply"})]}),T&&e.jsxs("div",{className:"flex items-start gap-2 text-red-600 text-xs",children:[e.jsx(He,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:T})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["",Number(i.subtotal||0).toFixed(2)]})]}),l==="delivery"&&e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Delivery Fee"}),G?e.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"}):e.jsxs("span",{className:"font-medium",children:["",Number(i.delivery_fee||0).toFixed(2)]})]}),i.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"font-medium",children:["-",Number(i.discount||0).toFixed(2)]})]}),l==="delivery"&&!G&&m&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:[e.jsxs("p",{className:"text-xs text-blue-800 mb-2",children:["Add ",(m-i.subtotal).toFixed(2)," more for FREE delivery!"]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(i.subtotal/m*100,100)}%`}})})]}),e.jsx("div",{className:"border-t border-gray-300 pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between text-gray-900",children:[e.jsx("span",{className:"text-base font-bold",children:"Total"}),e.jsxs("span",{className:"text-xl font-bold",children:["",Number(i.total||0).toFixed(2)]})]})})]})]})]})]}),n.length>0&&e.jsxs("div",{className:"border-t border-gray-200 bg-white px-4 py-4 space-y-3 sticky bottom-0",children:[e.jsxs("button",{onClick:K,className:"w-full px-6 py-4 bg-blue-600 text-white rounded-lg font-semibold text-base hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200",children:["Checkout - ",Number(i.total||0).toFixed(2)]}),e.jsx("button",{onClick:oe,className:"w-full px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium text-sm hover:bg-gray-200 transition-colors",children:"Continue Shopping"})]})]})]}):null},C6=()=>{const t=z(r=>r.ui_state.loading_overlay_visible),s=z(r=>r.ui_state.loading_message);return t?e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/60 backdrop-blur-sm transition-opacity",role:"dialog","aria-modal":"true","aria-busy":"true","aria-live":"assertive","aria-label":"Loading content",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 p-8 bg-white rounded-xl shadow-2xl max-w-sm w-full mx-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-gray-200"}),e.jsx("div",{className:"absolute top-0 left-0 h-16 w-16 rounded-full border-4 border-blue-600 border-t-transparent animate-spin"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-3 w-3 rounded-full bg-blue-600"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s||"Loading..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please wait..."})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx("span",{className:"h-2 w-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"h-2 w-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"h-2 w-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}):null},S6={success:{container:"bg-green-50 border-green-200",text:"text-green-800",icon:"text-green-600",Icon:ut},error:{container:"bg-red-50 border-red-200",text:"text-red-800",icon:"text-red-600",Icon:Ut},info:{container:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:"text-blue-600",Icon:Cc},warning:{container:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:"text-yellow-600",Icon:st}},E6=3,P6=({toast:t,onDismiss:s,onMouseEnter:r,onMouseLeave:n,isHovered:a})=>{const[l,i]=h.useState(!1),o=S6[t.type],c=o.Icon,d=h.useCallback(async()=>{if(!(!t.action||l)){i(!0);try{await t.action.callback(),s(t.id)}catch(m){console.error("Toast action error:",m)}finally{i(!1)}}},[t.action,t.id,l,s]);return e.jsxs("div",{role:"status","aria-live":"polite","aria-atomic":"true",onMouseEnter:()=>r(t.id),onMouseLeave:n,className:`
        ${o.container}
        relative flex items-start gap-3 p-4 rounded-lg border shadow-lg
        transition-all duration-300 ease-in-out
        transform-gpu
        ${a?"scale-105 shadow-xl":"scale-100"}
        animate-slide-in-right
        w-full md:min-w-[320px] md:max-w-md
      `,children:[e.jsx("div",{className:"flex-shrink-0 pt-0.5",children:e.jsx(c,{className:`w-5 h-5 ${o.icon}`,"aria-hidden":"true"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${o.text} leading-relaxed`,children:t.message}),t.action&&e.jsx("button",{type:"button",onClick:d,disabled:l,className:`
              mt-2 text-xs font-semibold uppercase tracking-wide
              ${o.text}
              hover:underline focus:outline-none focus:underline
              disabled:opacity-50 disabled:cursor-not-allowed
              transition-opacity duration-200
            `,children:l?"Processing...":t.action.label})]}),t.dismissible&&e.jsx("button",{type:"button",onClick:()=>s(t.id),"aria-label":"Dismiss notification",className:`
            flex-shrink-0 p-1 rounded-md
            ${o.text}
            hover:bg-black hover:bg-opacity-10
            focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent
            ${t.type==="success"?"focus:ring-green-500":""}
            ${t.type==="error"?"focus:ring-red-500":""}
            ${t.type==="info"?"focus:ring-blue-500":""}
            ${t.type==="warning"?"focus:ring-yellow-500":""}
            transition-all duration-200
          `,children:e.jsx(Ee,{className:"w-4 h-4"})})]})},R6=()=>{const t=z(c=>c.notification_state.toasts),s=z(c=>c.dismiss_toast),[r,n]=h.useState(null),a=t.slice(0,E6);h.useEffect(()=>{const c={};return a.forEach(d=>{r!==d.id&&(c[d.id]=setTimeout(()=>{s(d.id)},d.duration))}),()=>{Object.values(c).forEach(d=>clearTimeout(d))}},[a,r,s]);const l=h.useCallback(c=>{n(c)},[]),i=h.useCallback(()=>{n(null)},[]),o=h.useCallback(c=>{s(c)},[s]);return a.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`
          fixed z-[9999]
          top-4 left-1/2 -translate-x-1/2
          md:left-auto md:right-4 md:translate-x-0
          flex flex-col gap-3
          pointer-events-none
          w-full max-w-md px-4 md:px-0
        `,"aria-label":"Notifications",children:a.map(c=>e.jsx("div",{className:"pointer-events-auto",children:e.jsx(P6,{toast:c,onDismiss:o,onMouseEnter:l,onMouseLeave:i,isHovered:r===c.id})},c.id))}),e.jsx("style",{children:`
        @keyframes slide-in-right {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out forwards;
        }

        @media (max-width: 768px) {
          .animate-slide-in-right {
            animation: fade-in 0.3s ease-out forwards;
          }
        }
      `})]})},A6=()=>{const t=z(v=>v.ui_state.confirmation_modal),s=z(v=>v.hide_confirmation),r=(t==null?void 0:t.visible)||!1,n=(t==null?void 0:t.title)||"Confirm Action",a=(t==null?void 0:t.message)||"Are you sure you want to proceed?",l=(t==null?void 0:t.confirm_text)||"Confirm",i=(t==null?void 0:t.cancel_text)||"Cancel",o=(t==null?void 0:t.danger_action)||!1,c=t==null?void 0:t.on_confirm,d=t==null?void 0:t.on_cancel,m=h.useCallback(()=>{c&&c(),s()},[c,s]),u=h.useCallback(()=>{d&&d(),s()},[d,s]),p=h.useCallback(v=>{v.target===v.currentTarget&&u()},[u]);return h.useEffect(()=>{if(!r)return;const v=b=>{b.key==="Escape"&&(b.preventDefault(),u())};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[r,u]),h.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),h.useEffect(()=>{if(!r)return;const v=document.getElementById("confirmation-modal-container");if(!v)return;const b=v.querySelectorAll('button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),x=b[0],y=b[b.length-1];x&&x.focus();const f=g=>{g.key==="Tab"&&(g.shiftKey?document.activeElement===x&&(g.preventDefault(),y==null||y.focus()):document.activeElement===y&&(g.preventDefault(),x==null||x.focus()))};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[r]),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity z-50","aria-hidden":"true",onClick:p}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 md:p-20",children:e.jsxs("div",{id:"confirmation-modal-container",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"relative w-full max-w-lg transform overflow-hidden rounded-xl bg-white shadow-2xl transition-all animate-in fade-in-0 zoom-in-95 duration-200",children:[e.jsx("div",{className:"px-6 pt-6 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[o?e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsx(st,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}):e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100",children:e.jsx(Cc,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"})}),e.jsx("h3",{id:"modal-title",className:`text-xl font-bold leading-tight ${o?"text-red-900":"text-gray-900"}`,children:n})]}),e.jsx("button",{type:"button",onClick:u,className:"text-gray-400 hover:text-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg p-1","aria-label":"Close modal",children:e.jsx(Ee,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx("p",{id:"modal-description",className:"text-base text-gray-600 leading-relaxed whitespace-pre-wrap",children:a})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[e.jsx("button",{type:"button",onClick:u,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 rounded-lg border border-gray-300 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-sm",children:i}),e.jsxs("button",{type:"button",onClick:m,className:`
                w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 rounded-lg border border-transparent text-base font-medium text-white focus:outline-none focus:ring-4 transition-all duration-200 shadow-lg hover:shadow-xl
                ${o?"bg-red-600 hover:bg-red-700 focus:ring-red-100":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-100"}
              `,autoFocus:o,children:[o&&e.jsx(st,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),l]})]})]})})]}):null},T6=()=>{const t=z(y=>y.ui_state.cookie_consent_given),s=z(y=>y.set_cookie_consent),[r,n]=h.useState(!1),[a,l]=h.useState(!1),[i,o]=h.useState({essential:!0,analytics:!1,marketing:!1,timestamp:new Date().toISOString()});h.useEffect(()=>{const y=localStorage.getItem("kake_cookie_consent");if(y)try{const f=JSON.parse(y),g=new Date(f.timestamp);if((new Date().getTime()-g.getTime())/(1e3*60*60*24*30)<12){o(f),s(!0),n(!1),c(f);return}else localStorage.removeItem("kake_cookie_consent")}catch(f){console.error("Error parsing cookie consent:",f),localStorage.removeItem("kake_cookie_consent")}t||n(!0)},[t,s]);const c=y=>{y.analytics?console.log("Analytics cookies enabled"):console.log("Analytics cookies disabled"),y.marketing?console.log("Marketing cookies enabled"):console.log("Marketing cookies disabled")},d=y=>{localStorage.setItem("kake_cookie_consent",JSON.stringify(y))},m=()=>{const y={essential:!0,analytics:!0,marketing:!0,timestamp:new Date().toISOString()};o(y),d(y),s(!0),n(!1),c(y)},u=()=>{const y={essential:!0,analytics:!1,marketing:!1,timestamp:new Date().toISOString()};o(y),d(y),s(!0),n(!1),c(y)},p=()=>{l(!0)},v=()=>{l(!1)},b=()=>{const y={...i,timestamp:new Date().toISOString()};d(y),s(!0),l(!1),n(!1),c(y)},x=y=>{o(f=>({...f,[y]:!f[y]}))};return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t-2 border-gray-200 shadow-2xl",role:"dialog","aria-label":"Cookie consent banner","aria-describedby":"cookie-banner-description",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(l6,{className:"h-6 w-6 text-purple-600","aria-hidden":"true"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{id:"cookie-banner-description",className:"text-sm sm:text-base text-gray-700 leading-relaxed",children:["We use cookies to ensure you get the best experience on our website. By continuing to use Kake, you accept our use of essential, analytics, and marketing cookies."," ",e.jsx(re,{to:"/cookies",className:"text-purple-600 hover:text-purple-700 font-medium underline underline-offset-2 transition-colors",children:"Learn more"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 sm:flex-shrink-0",children:[e.jsxs("button",{onClick:p,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-4 focus:ring-purple-100 transition-all duration-200 whitespace-nowrap","aria-label":"Manage cookie preferences",children:[e.jsx(fn,{className:"inline-block h-4 w-4 mr-2","aria-hidden":"true"}),"Manage Preferences"]}),e.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-4 focus:ring-purple-100 transition-all duration-200 whitespace-nowrap","aria-label":"Decline non-essential cookies",children:"Decline"}),e.jsxs("button",{onClick:m,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-200 shadow-lg hover:shadow-xl transition-all duration-200 whitespace-nowrap","aria-label":"Accept all cookies",children:[e.jsx(ut,{className:"inline-block h-4 w-4 mr-2","aria-hidden":"true"}),"Accept All"]})]})]})})}),a&&e.jsxs("div",{className:"fixed inset-0 z-[60] overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"cookie-preferences-title",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:v,"aria-hidden":"true"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-2xl w-full overflow-hidden transform transition-all",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-4 sm:px-8 sm:py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fn,{className:"h-6 w-6 text-white","aria-hidden":"true"}),e.jsx("h2",{id:"cookie-preferences-title",className:"text-xl sm:text-2xl font-bold text-white",children:"Cookie Preferences"})]}),e.jsx("button",{onClick:v,className:"text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-purple-600 rounded-lg p-1 transition-colors","aria-label":"Close preferences modal",children:e.jsx(Ee,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"px-6 py-6 sm:px-8 sm:py-8 space-y-6",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We use different types of cookies to enhance your experience. You can choose which categories to enable below."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ho,{className:"h-5 w-5 text-gray-600","aria-hidden":"true"}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Essential Cookies"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-200 text-gray-700",children:"Always Active"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"These cookies are necessary for the website to function and cannot be disabled. They include session management, cart persistence, and security features."})]}),e.jsx("div",{className:"ml-4",children:e.jsx("input",{type:"checkbox",checked:!0,disabled:!0,className:"h-5 w-5 text-purple-600 border-gray-300 rounded cursor-not-allowed opacity-50","aria-label":"Essential cookies (always enabled)"})})]})}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Analytics Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"These cookies help us understand how you use our website, allowing us to improve your experience with better features and performance."})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.analytics,onChange:()=>x("analytics"),className:"sr-only peer","aria-label":"Toggle analytics cookies"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})})]})}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Marketing Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"These cookies enable personalized advertising and promotional content. They help us show you relevant offers and special promotions."})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.marketing,onChange:()=>x("marketing"),className:"sr-only peer","aria-label":"Toggle marketing cookies"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsx(re,{to:"/privacy",className:"text-purple-600 hover:text-purple-700 font-medium underline underline-offset-2 transition-colors",children:"Privacy Policy"}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx(re,{to:"/cookies",className:"text-purple-600 hover:text-purple-700 font-medium underline underline-offset-2 transition-colors",children:"Cookie Policy"})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 sm:px-8 sm:py-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end",children:[e.jsx("button",{onClick:v,className:"w-full sm:w-auto px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-4 focus:ring-purple-100 transition-all duration-200",children:"Cancel"}),e.jsxs("button",{onClick:b,className:"w-full sm:w-auto px-6 py-2.5 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-200 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(ut,{className:"inline-block h-4 w-4 mr-2","aria-hidden":"true"}),"Save Preferences"]})]})})]})})]})]}):null},F6=()=>{const t=z(p=>p.notification_state.session_warning_visible),s=z(p=>p.notification_state.session_expires_in_seconds),r=z(p=>p.authentication_state.current_user),n=z(p=>p.stop_session_countdown),a=z(p=>p.extend_session),l=z(p=>p.logout_user);h.useEffect(()=>{t&&s!==null&&s<=0&&i()},[s,t]);const i=async()=>{await l()},o=()=>{a()},c=()=>{n()},d=p=>{const v=Math.floor(p/60),b=p%60;return`${v.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`},m=p=>p<60?{bg:"bg-red-50",border:"border-red-300",text:"text-red-900",button:"bg-red-600 hover:bg-red-700"}:p<180?{bg:"bg-yellow-50",border:"border-yellow-300",text:"text-yellow-900",button:"bg-yellow-600 hover:bg-yellow-700"}:{bg:"bg-orange-50",border:"border-orange-300",text:"text-orange-900",button:"bg-orange-600 hover:bg-orange-700"};if(!r||!t||s===null)return null;const u=m(s);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"session-warning-title","aria-describedby":"session-warning-description",children:e.jsxs("div",{className:`relative max-w-md w-full ${u.bg} border-2 ${u.border} rounded-xl shadow-2xl p-6 space-y-6`,children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Dismiss warning",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`flex-shrink-0 ${s<60?"animate-pulse":""}`,children:e.jsx(st,{className:`w-12 h-12 ${u.text}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{id:"session-warning-title",className:`text-xl font-bold ${u.text} mb-2`,children:"Session Expiring Soon"}),e.jsx("p",{id:"session-warning-description",className:`text-sm ${u.text} opacity-90`,children:'Your session will expire due to inactivity. Click "Stay Logged In" to continue your session.'})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-inner",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(Le,{className:`w-8 h-8 ${u.text}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-5xl font-bold ${u.text} tabular-nums tracking-tight`,children:d(s)}),e.jsx("div",{className:"text-sm text-gray-600 mt-1 font-medium",children:"Time remaining"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700 text-center",children:s<60?e.jsx("span",{className:"font-semibold text-red-600",children:" Less than a minute remaining! You will be logged out automatically."}):s<180?e.jsx("span",{className:"font-semibold text-yellow-700",children:"Your work will be saved, but you'll need to log in again to continue."}):e.jsx("span",{className:"text-gray-600",children:"Click any button or perform any action to extend your session."})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:o,className:`flex-1 ${u.button} text-white px-6 py-3 rounded-lg font-semibold text-sm transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-offset-2 ${s<60?"focus:ring-red-300 animate-pulse":s<180?"focus:ring-yellow-300":"focus:ring-orange-300"}`,children:"Stay Logged In"}),e.jsx("button",{onClick:c,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-900 px-6 py-3 rounded-lg font-medium text-sm transition-all duration-200 border border-gray-300 focus:outline-none focus:ring-4 focus:ring-gray-100",children:"Dismiss"})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"For your security, sessions expire after 30 minutes of inactivity"})})]})})})},O6=async()=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/locations")).data,L6=async()=>{var t;try{return(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/drop-of-the-month")).data}catch(s){if(((t=s.response)==null?void 0:t.status)===404)return null;throw s}},M6=async()=>{const t=await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/stall-events?is_visible=true");return t.data&&t.data.length>0?t.data[0]:null},D6=()=>{const t=z(u=>u.set_current_location),s=z(u=>u.set_location_details),{data:r=[],isLoading:n,error:a}=ve({queryKey:["locations"],queryFn:O6,staleTime:6e4,refetchOnWindowFocus:!1}),{data:l,isLoading:i}=ve({queryKey:["drop-of-the-month"],queryFn:L6,staleTime:6e4,refetchOnWindowFocus:!1}),{data:o,isLoading:c}=ve({queryKey:["stall-event"],queryFn:M6,staleTime:6e4,refetchOnWindowFocus:!1}),d=(o==null?void 0:o.is_visible)||!1,m=[{name:"London Flagship",slug:"london-flagship",image:"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=800&q=80",description:"Collection & Delivery available"},{name:"Manchester Store",slug:"manchester-store",image:"https://images.unsplash.com/photo-1517433670267-08bbd4be890f?w=800&q=80",description:"Collection & Delivery available"},{name:"Birmingham Store",slug:"birmingham-store",image:"https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800&q=80",description:"Order via Just Eat & Deliveroo"}];return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 py-20 lg:py-32 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1486427944299-d1955d23e34d?w=1600&q=80')] opacity-10 bg-cover bg-center"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Indulge in Dublin's Finest",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mt-2",children:"Artisan Desserts"})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-700 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Handcrafted treats made fresh daily across three Dublin locations. From classic pastries to celebration cakes, we bring joy to every bite."}),e.jsx("a",{href:"#locations",className:"inline-block bg-purple-600 hover:bg-purple-700 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:"Choose Your Location"})]})})]}),e.jsx("section",{id:"locations",className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Locations"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose your nearest Kake location to start ordering"})]}),n&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[1,2,3].map(u=>e.jsx("div",{className:"bg-gray-100 rounded-xl h-96 animate-pulse"},u))}),a&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-red-700 font-medium",children:"Unable to load locations. Please refresh the page."})}),!n&&!a&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:m.map(u=>{const p=r.find(v=>v.location_name===u.name);return e.jsxs(re,{to:`/location/${u.slug}`,onClick:()=>{p&&(t(p.location_name),s(p))},className:"group bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-200",children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx("img",{src:u.image,alt:`${u.name} location`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:u.name})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4 flex items-center",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),u.description]}),p&&e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[e.jsxs("p",{className:"flex items-start",children:[e.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),p.address_line1,", ",p.city]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),p.phone_number]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between text-purple-600 font-semibold group-hover:text-purple-700",children:[e.jsx("span",{children:"Start Ordering"}),e.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},u.slug)})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-orange-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Corporate & Event Orders"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Make your special occasions unforgettable with our bespoke dessert offerings"})]}),i&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 animate-pulse",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg mb-6"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),!i&&l&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"relative h-80 md:h-full",children:[e.jsx("img",{src:l.product_image_url,alt:l.product_name,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute top-4 left-4 bg-orange-500 text-white px-4 py-2 rounded-lg font-bold shadow-lg",children:"Drop of the Month"})]}),e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsx("h3",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:l.product_name}),e.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:l.description}),e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Special Price"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:["",Number(l.price).toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Available Until"}),e.jsx("p",{className:"text-lg font-semibold text-purple-900",children:new Date(l.available_until).toLocaleDateString("en-IE",{month:"short",day:"numeric"})})]})]})}),e.jsxs(re,{to:"/corporate-order",className:"inline-flex items-center justify-center bg-purple-600 hover:bg-purple-700 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:["Pre-order Now",e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})}),!i&&!l&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 lg:p-12 text-center border border-gray-100",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx("svg",{className:"w-20 h-20 mx-auto text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.701 2.701 0 00-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7h18zm-3-9v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2h12z"})})}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Corporate & Event Catering"}),e.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"Elevate your corporate events, celebrations, and special occasions with our custom dessert solutions. From intimate meetings to large gatherings, we create memorable sweet moments."}),e.jsxs(re,{to:"/corporate-order",className:"inline-flex items-center justify-center bg-purple-600 hover:bg-purple-700 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:["Enquire About Corporate Orders",e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})}),d&&o&&e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-yellow-50 to-orange-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-6"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]}),!c&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-orange-300",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-pink-500 px-6 py-3",children:e.jsx("p",{className:"text-white font-bold text-lg text-center animate-pulse",children:" Special Event Alert!"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[o.event_image_url&&e.jsx("div",{className:"relative h-64 md:h-full",children:e.jsx("img",{src:o.event_image_url,alt:o.event_name,className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:`p-8 lg:p-12 ${o.event_image_url?"":"md:col-span-2"}`,children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:o.event_name}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),e.jsx("span",{className:"font-medium",children:o.venue_location})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:new Date(o.event_date).toLocaleDateString("en-IE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:o.event_time})]})]}),o.description&&e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:o.description}),o.cta_button_text&&o.cta_button_url&&e.jsx(e.Fragment,{children:o.cta_button_action==="external_link"?e.jsxs("a",{href:o.cta_button_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center bg-orange-600 hover:bg-orange-700 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[o.cta_button_text,e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}):e.jsxs(re,{to:o.cta_button_url,className:"inline-flex items-center justify-center bg-orange-600 hover:bg-orange-700 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[o.cta_button_text,e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})]})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Kake?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Indulge in quality, freshness, and convenience"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Quality Ingredients"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We use only the finest ingredients to create our handcrafted desserts daily"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-pink-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Made Fresh Daily"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Every order is prepared fresh to ensure maximum flavor and quality"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-orange-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Flexible Ordering"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Collection or delivery options available at all our Dublin locations"})]})]})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-purple-600 to-pink-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Order?"}),e.jsx("p",{className:"text-lg md:text-xl text-purple-100 mb-8 leading-relaxed",children:"Choose your location and start building your perfect dessert order today"}),e.jsx("a",{href:"#locations",className:"inline-block bg-white text-purple-600 hover:bg-gray-50 font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:"Browse Our Locations"})]})})]})},I6={hero_image_url:"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?q=80&w=2070",page_title:"Our Story",story_content:`
    <p>Kake was founded in 2020 with a simple mission: to bring artisan-quality desserts to every corner of Dublin. What started as a small bakery in Blanchardstown has grown into a beloved local brand serving three vibrant communities.</p>
    <p>Our journey began with a passion for traditional baking methods combined with innovative flavors. We believe that every dessert tells a story, and we're honored to be part of yourswhether it's a birthday celebration, a corporate event, or simply a well-deserved treat after a long day.</p>
    <p>Today, we continue to handcraft each dessert with the same care and attention that defined our first day. From our signature croissants to our seasonal specials, every item reflects our commitment to quality, community, and the joy of sharing delicious food.</p>
  `,milestones:[{year:"2020",title:"Kake Founded",description:"Started our journey in Blanchardstown with a small team and big dreams"},{year:"2021",title:"Tallaght Opening",description:"Expanded to our second location, bringing Kake to South Dublin"},{year:"2022",title:"Community Impact",description:"Served over 50,000 customers and launched our loyalty program"},{year:"2023",title:"Glasnevin Partnership",description:"Partnered with Just Eat and Deliveroo to reach even more dessert lovers"},{year:"2024",title:"Growing Strong",description:"Continuing to innovate with new flavors and sustainable practices"}],values:[{icon_name:"quality",value_name:"Quality Craftsmanship",description:"We use only the finest ingredients and traditional baking methods to create desserts that exceed expectations"},{icon_name:"community",value_name:"Community First",description:"Supporting local suppliers and giving back to our Dublin communities through partnerships and events"},{icon_name:"innovation",value_name:"Creative Innovation",description:"Blending classic techniques with modern flavors to create unique seasonal offerings and signature items"},{icon_name:"sustainability",value_name:"Sustainability",description:"Committed to reducing waste, sourcing responsibly, and making choices that benefit our planet"}],team_members:[{photo_url:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=400",name:"Sarah O'Brien",role:"Co-Founder & Head Baker",bio:"Sarah brings 15 years of artisan baking experience and a passion for creating memorable dessert experiences"},{photo_url:"https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=400",name:"Michael Chen",role:"Co-Founder & Operations",bio:"Michael's expertise in hospitality and operations ensures Kake delivers excellence at every touchpoint"},{photo_url:"https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=400",name:"Emma Walsh",role:"Pastry Chef",bio:"Emma's creative flair and attention to detail bring our seasonal specials and signature items to life"}]},$6=async()=>{const s=await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/locations");return Array.isArray(s.data)?s.data:s.data.data||s.data.locations||[]},q6=t=>{try{return JSON.parse(t)}catch(s){return console.error("Failed to parse opening hours:",s),{}}},z6=t=>({quality:e.jsx(ra,{className:"w-8 h-8"}),community:e.jsx(ml,{className:"w-8 h-8"}),innovation:e.jsx(_6,{className:"w-8 h-8"}),sustainability:e.jsx(gr,{className:"w-8 h-8"})})[t]||e.jsx(ra,{className:"w-8 h-8"}),B6=()=>{const[t]=h.useState(I6),s=z(i=>i.location_state.available_locations),{data:r,isLoading:n,error:a}=ve({queryKey:["locations"],queryFn:$6,staleTime:60*60*1e3,enabled:s.length===0,select:i=>i.map(o=>({...o,delivery_radius_km:o.delivery_radius_km?Number(o.delivery_radius_km):null,delivery_fee:o.delivery_fee?Number(o.delivery_fee):null,free_delivery_threshold:o.free_delivery_threshold?Number(o.free_delivery_threshold):null,estimated_delivery_time_minutes:o.estimated_delivery_time_minutes?Number(o.estimated_delivery_time_minutes):null,estimated_preparation_time_minutes:Number(o.estimated_preparation_time_minutes||20)}))}),l=s.length>0?s:r||[];return h.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"relative h-[500px] lg:h-[600px] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${t.hero_image_url})`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/90 to-purple-600/80"})}),e.jsx("div",{className:"relative h-full flex items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6 animate-fade-in",children:t.page_title}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-2xl mx-auto",children:"Handcrafted desserts made with love, served with pride"})]})})]}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"The Kake Story"}),e.jsx("div",{className:"w-24 h-1 bg-purple-600 mx-auto rounded-full"})]}),e.jsx("div",{className:"prose prose-lg max-w-none text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:t.story_content}})]})})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Our Journey"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Every milestone marks a moment we're proud of"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden lg:block absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-purple-300"}),e.jsx("div",{className:"space-y-12 lg:space-y-16",children:t.milestones.map((i,o)=>e.jsxs("div",{className:`relative flex flex-col lg:flex-row items-center ${o%2===0?"lg:flex-row-reverse":""}`,children:[e.jsx("div",{className:"hidden lg:flex absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-purple-600 rounded-full border-4 border-white shadow-lg z-10"}),e.jsx("div",{className:`w-full lg:w-5/12 ${o%2===0?"lg:text-right lg:pr-12":"lg:pl-12"}`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-purple-100 hover:shadow-xl transition-shadow duration-200",children:[e.jsx("div",{className:"inline-block px-4 py-2 bg-purple-600 text-white font-bold text-lg rounded-lg mb-4",children:i.year}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:i.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})})]},o))})]})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Our Values"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.values.map((i,o)=>e.jsxs("div",{className:"text-center p-8 rounded-xl bg-gradient-to-br from-purple-50 to-white border border-purple-100 hover:shadow-xl transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-600 text-white rounded-full mb-6",children:z6(i.icon_name)}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:i.value_name}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]},o))})]})}),t.team_members&&t.team_members.length>0&&e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Meet the Team"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The passionate people behind every delicious creation"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:t.team_members.map((i,o)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-6 relative inline-block",children:[e.jsx("img",{src:i.photo_url,alt:i.name,className:"w-48 h-48 rounded-full object-cover mx-auto border-4 border-white shadow-xl"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(gr,{className:"w-6 h-6 text-white",fill:"currentColor"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.name}),e.jsx("p",{className:"text-purple-600 font-semibold mb-4",children:i.role}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.bio})]},o))})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Visit Us"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Find us at one of our Dublin locations"})]}),n&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-purple-600"}),e.jsx("span",{className:"ml-4 text-gray-600 text-lg",children:"Loading locations..."})]}),a&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-2xl mx-auto",children:e.jsx("p",{className:"text-red-700 text-center",children:"Unable to load location details. Please try refreshing the page."})}),!n&&!a&&l.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(i=>{const o=q6(i.opening_hours),c=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),d=o[c]||{open:"Closed",close:""};return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-200 hover:scale-105",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:i.location_name}),e.jsxs("div",{className:"flex items-center text-purple-100",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:d.open!=="Closed"?`Today: ${d.open} - ${d.close}`:"Closed Today"})]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(gt,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 font-medium",children:i.address_line1}),i.address_line2&&e.jsx("p",{className:"text-gray-900",children:i.address_line2}),e.jsxs("p",{className:"text-gray-900",children:[i.city,", ",i.postal_code]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kr,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),e.jsx("a",{href:`tel:${i.phone_number}`,className:"text-gray-900 hover:text-purple-600 transition-colors",children:i.phone_number})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wr,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),e.jsx("a",{href:`mailto:${i.email}`,className:"text-gray-900 hover:text-purple-600 transition-colors",children:i.email})]})]})]},i.location_id)})}),!n&&!a&&l.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 text-lg",children:"Location information coming soon"})})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-purple-600 to-pink-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:"Ready to Experience Kake?"}),e.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Choose your location and discover our handcrafted desserts"}),e.jsx(re,{to:"/",className:"inline-flex items-center justify-center px-8 py-4 rounded-lg font-bold text-lg bg-white text-purple-600 hover:bg-gray-100 transition-all duration-200 shadow-xl hover:shadow-2xl hover:scale-105",children:"Start Ordering"})]})})]})},U6=async()=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/locations")).data.map(s=>({...s,delivery_radius_km:s.delivery_radius_km?Number(s.delivery_radius_km):null,delivery_fee:s.delivery_fee?Number(s.delivery_fee):null,free_delivery_threshold:s.free_delivery_threshold?Number(s.free_delivery_threshold):null,estimated_delivery_time_minutes:s.estimated_delivery_time_minutes?Number(s.estimated_delivery_time_minutes):null,estimated_preparation_time_minutes:Number(s.estimated_preparation_time_minutes||20)})),V6=t=>{try{return JSON.parse(t)}catch(s){return console.error("Failed to parse opening hours:",s),null}},H6=t=>t.charAt(0).toUpperCase()+t.slice(1),Df=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],W6=()=>{const{location_name:t}=ma(),s=it(),r=z(b=>b.set_current_location),n=z(b=>b.set_cart_location),a=z(b=>b.set_fulfillment_method),l=z(b=>b.set_location_details),{data:i,isLoading:o,error:c}=ve({queryKey:["locations"],queryFn:U6,staleTime:6e4,retry:1}),d=b=>b.toLowerCase().replace(/\s+/g,"-"),m=h.useMemo(()=>!i||!t?null:i.find(b=>d(b.location_name)===t.toLowerCase())||null,[i,t]),u=h.useMemo(()=>m!=null&&m.opening_hours?V6(m.opening_hours):null,[m]),p=h.useMemo(()=>{if(!u)return null;const b=Df();return u[b]||null},[u]),v=b=>{m&&(b==="collection"&&!m.is_collection_enabled||b==="delivery"&&!m.is_delivery_enabled||(r(m.location_name),n(m.location_name),a(b),l(m),s(`/location/${t}/menu?fulfillment=${b}`)))};return o?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"relative h-64 bg-gradient-to-r from-gray-200 to-gray-300 animate-pulse"}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64 bg-white rounded-xl shadow-lg animate-pulse"}),e.jsx("div",{className:"h-64 bg-white rounded-xl shadow-lg animate-pulse"})]})]})})]})}):c||!m?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:e.jsx(gt,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Location Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sorry, we couldn't find the location you're looking for."}),e.jsx(re,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Return to Home"})]})})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-blue-600 to-indigo-700",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:m.location_name}),e.jsx("p",{className:"text-xl text-white/90 font-medium",children:"Choose your ordering preference"})]})})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("nav",{className:"mb-8","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("li",{children:e.jsx(re,{to:"/",className:"text-gray-500 hover:text-gray-700 transition-colors",children:"Home"})}),e.jsx("li",{className:"text-gray-400",children:"/"}),e.jsx("li",{className:"text-gray-900 font-medium",children:m.location_name})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-12",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Location Details"})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Address"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[m.address_line1,m.address_line2&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),m.address_line2]}),e.jsx("br",{}),m.city," ",m.postal_code]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(kr,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Phone"}),e.jsx("a",{href:`tel:${m.phone_number}`,className:"text-blue-600 hover:text-blue-700 transition-colors",children:m.phone_number})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(wr,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email"}),e.jsx("a",{href:`mailto:${m.email}`,className:"text-blue-600 hover:text-blue-700 transition-colors",children:m.email})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx(Le,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Opening Hours"}),p&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-4 py-3 mb-3",children:e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Today: ",p.open," - ",p.close]})}),u&&e.jsx("div",{className:"space-y-2",children:Object.entries(u).map(([b,x])=>e.jsxs("div",{className:`flex justify-between text-sm ${b===Df()?"font-semibold text-gray-900":"text-gray-600"}`,children:[e.jsx("span",{className:"capitalize",children:H6(b)}),e.jsxs("span",{children:[x.open," - ",x.close]})]},b))})]})]})})]})})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"How would you like to receive your order?"}),e.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Choose your preferred fulfillment method to continue"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.is_collection_enabled&&e.jsxs("button",{onClick:()=>v("collection"),className:"group bg-white rounded-xl shadow-lg border-2 border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-200 p-8 text-left focus:outline-none focus:ring-4 focus:ring-blue-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center h-14 w-14 rounded-lg bg-blue-100 group-hover:bg-blue-200 transition-colors",children:e.jsx(Te,{className:"h-7 w-7 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Collection"}),e.jsx("p",{className:"text-gray-600",children:"Pick up in-store"})]})]}),e.jsx(xr,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Le,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:["Ready in ",m.estimated_preparation_time_minutes," minutes"]})]}),e.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[e.jsx("span",{className:"text-lg",children:"FREE"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"No delivery fee"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Order now and collect from our ",m.location_name," location"]})})]}),m.is_delivery_enabled&&e.jsxs("button",{onClick:()=>v("delivery"),className:"group bg-white rounded-xl shadow-lg border-2 border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-200 p-8 text-left focus:outline-none focus:ring-4 focus:ring-blue-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center h-14 w-14 rounded-lg bg-indigo-100 group-hover:bg-indigo-200 transition-colors",children:e.jsx(na,{className:"h-7 w-7 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Delivery"}),e.jsx("p",{className:"text-gray-600",children:"To your door"})]})]}),e.jsx(xr,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Le,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:["Delivered in ",(m.estimated_preparation_time_minutes||0)+(m.estimated_delivery_time_minutes||0)," minutes"]})]}),m.delivery_fee!==null&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center text-gray-700",children:e.jsxs("span",{className:"font-medium",children:["Delivery fee: ",Number(m.delivery_fee||0).toFixed(2)]})}),m.free_delivery_threshold&&e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["FREE delivery over ",Number(m.free_delivery_threshold).toFixed(2)]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["We deliver within ",m.delivery_radius_km||10,"km of ",m.location_name]})})]}),!m.is_collection_enabled&&!m.is_delivery_enabled&&e.jsxs("div",{className:"col-span-full bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Ordering is currently unavailable at this location."}),e.jsx(re,{to:"/",className:"inline-block mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Choose another location "})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"What happens next?"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"1"}),e.jsx("span",{children:"Browse our delicious menu and add items to your cart"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"2"}),e.jsx("span",{children:"Review your order and proceed to checkout"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 mt-0.5 flex-shrink-0",children:"3"}),e.jsx("span",{children:m.is_collection_enabled&&m.is_delivery_enabled?"We'll prepare your order for collection or delivery":m.is_collection_enabled?"We'll prepare your order for collection":"We'll deliver your order to your door"})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(re,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors font-medium",children:[e.jsx(xr,{className:"h-4 w-4 mr-1 rotate-180"}),"Back to all locations"]})})]})]})},K6=()=>{const{location_name:t}=ma(),[s,r]=nt(),n=z(N=>N.add_to_cart),a=z(N=>N.set_cart_location),l=z(N=>N.set_fulfillment_method),i=z(N=>N.show_toast),o=z(N=>N.cart_state.items),c=z(N=>N.cart_state.selected_location),[d,m]=h.useState("grid"),[u,p]=h.useState(!1),[v,b]=h.useState(s.get("search")||""),{data:x}=ve({queryKey:["locations"],queryFn:async()=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/locations")).data,staleTime:6e4}),g=(N=>{if(!x)return N;const V=x.find(J=>J.location_name.toLowerCase().replace(/\s+/g,"-")===N.toLowerCase());return V?V.location_name:N})(t||"london-flagship"),j=s.get("fulfillment")||null,_=h.useMemo(()=>{var N;return{category:s.get("category")||null,price_min:s.get("price_min")?parseFloat(s.get("price_min")):null,price_max:s.get("price_max")?parseFloat(s.get("price_max")):null,dietary_tags:((N=s.get("dietary_tags"))==null?void 0:N.split(",").filter(Boolean))||[],availability_status:s.get("availability_status")||null,search_query:s.get("search")||""}},[s]),S=h.useMemo(()=>({sort_by:s.get("sort_by")||"created_at",sort_order:s.get("sort_order")||"desc"}),[s]),O=h.useMemo(()=>{const N=parseInt(s.get("limit")||"20"),V=parseInt(s.get("offset")||"0");return{products_per_page:N,current_page:Math.floor(V/N)+1}},[s]),{data:E,isLoading:T}=ve({queryKey:["product-locations",g],queryFn:async()=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/product-locations",{params:{location_name:g,limit:1e3}})).data,staleTime:6e4,refetchOnWindowFocus:!1}),C=h.useMemo(()=>E?(Array.isArray(E)?E:E.data||[]).map(V=>V.product_id):[],[E]),{data:R,isLoading:H,error:I,refetch:ee}=ve({queryKey:["products",g,_,S,O,C],queryFn:async()=>{const N={is_archived:!1,limit:O.products_per_page,offset:(O.current_page-1)*O.products_per_page,sort_by:S.sort_by,sort_order:S.sort_order};return _.search_query&&(N.query=_.search_query),_.category&&(N.category=_.category),_.availability_status&&(N.availability_status=_.availability_status),_.price_min!==null&&(N.min_price=_.price_min),_.price_max!==null&&(N.max_price=_.price_max),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/products",{params:N})).data},enabled:C.length>0,staleTime:3e4,select:N=>{let V=N.data||[];return C.length>0&&(V=V.filter(ne=>C.includes(ne.product_id))),_.dietary_tags.length>0&&(V=V.filter(ne=>{if(!ne.dietary_tags)return!1;let K=[];try{K=JSON.parse(ne.dietary_tags)}catch{K=ne.dietary_tags.split(",").map(ue=>ue.trim())}const oe=K.map(le=>le.toLowerCase().replace(/_/g,"-"));return _.dietary_tags.map(le=>le.toLowerCase().replace(/_/g,"-")).every(le=>oe.includes(le))})),{products:V.map(ne=>({...ne,price:Number(ne.price||0),compare_at_price:ne.compare_at_price?Number(ne.compare_at_price):null,stock_quantity:ne.stock_quantity?Number(ne.stock_quantity):null})),total:N.total,limit:N.limit,offset:N.offset}}}),P=(R==null?void 0:R.products)||[],Q=(R==null?void 0:R.total)||0;h.useEffect(()=>{const N=setTimeout(()=>{v!==_.search_query&&B("search",v)},300);return()=>clearTimeout(N)},[v]);const B=(N,V)=>{const J=new URLSearchParams(s);V==null||V===""||Array.isArray(V)&&V.length===0?J.delete(N):Array.isArray(V)?J.set(N,V.join(",")):J.set(N,V.toString()),N!=="offset"&&N!=="limit"&&J.delete("offset"),r(J)},F=()=>{const N=new URLSearchParams;j&&N.set("fulfillment",j),r(N),b("")},w=N=>{const V=_.dietary_tags,J=V.includes(N)?V.filter(ne=>ne!==N):[...V,N];B("dietary_tags",J)},M=N=>{const V=(N-1)*O.products_per_page;B("offset",V)},W=N=>{if(N.availability_status!=="in_stock"){i("error","This product is currently out of stock");return}c&&c!==g&&i("warning","Cart cleared - items from different location removed"),o.length===0&&(a(g),j&&l(j)),n({product_id:N.product_id,product_name:N.product_name,price:N.price,quantity:1,subtotal:N.price,primary_image_url:N.primary_image_url}),i("success",`${N.product_name} added to cart!`)},G=[{value:"vegan",label:"Vegan"},{value:"vegetarian",label:"Vegetarian"},{value:"gluten_free",label:"Gluten Free"},{value:"dairy_free",label:"Dairy Free"},{value:"nut_free",label:"Nut Free"},{value:"organic",label:"Organic"}],U=Math.ceil(Q/O.products_per_page),ae=O.current_page>1,Y=O.current_page<U;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(re,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(re,{to:`/location/${g}`,className:"hover:text-blue-600 transition-colors",children:g.charAt(0).toUpperCase()+g.slice(1)}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Menu"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[g.charAt(0).toUpperCase()+g.slice(1)," Menu"]}),j&&e.jsx("p",{className:"text-gray-600 mt-1",children:j==="delivery"?" Delivery":" Collection"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m("grid"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="grid"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Grid"}),e.jsx("button",{onClick:()=>m("list"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"List"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search for desserts...",value:v,onChange:N=>b(N.target.value),className:"w-full px-4 py-3 pl-12 bg-gray-50 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all"}),e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),v&&e.jsx("button",{onClick:()=>{b(""),B("search","")},className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:H||T?e.jsx("span",{children:"Loading products..."}):e.jsxs("span",{children:["Showing ",e.jsx("span",{className:"font-semibold",children:P.length})," of"," ",e.jsx("span",{className:"font-semibold",children:Q})," products",_.search_query&&e.jsxs(e.Fragment,{children:[' for "',e.jsx("span",{className:"font-semibold",children:_.search_query}),'"']})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"sort",className:"text-sm text-gray-600 hidden sm:block",children:"Sort by:"}),e.jsxs("select",{id:"sort",value:`${S.sort_by}_${S.sort_order}`,onChange:N=>{const[V,J]=N.target.value.split("_");B("sort_by",V),B("sort_order",J)},className:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none",children:[e.jsx("option",{value:"created_at_desc",children:"Newest First"}),e.jsx("option",{value:"product_name_asc",children:"Name (A-Z)"}),e.jsx("option",{value:"product_name_desc",children:"Name (Z-A)"}),e.jsx("option",{value:"price_asc",children:"Price (Low to High)"}),e.jsx("option",{value:"price_desc",children:"Price (High to Low)"})]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs("button",{onClick:()=>p(!u),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsxs("span",{children:["Filters ",Object.values(_).filter(N=>N!==null&&N!==""&&(!Array.isArray(N)||N.length>0)).length>0&&`(${Object.values(_).filter(N=>N!==null&&N!==""&&(!Array.isArray(N)||N.length>0)).length})`]}),e.jsx("svg",{className:`h-5 w-5 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),e.jsx("aside",{className:`lg:col-span-1 ${u?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 sticky top-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),Object.values(_).some(N=>N!==null&&N!==""&&(!Array.isArray(N)||N.length>0))&&e.jsx("button",{onClick:F,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Category"}),e.jsx("div",{className:"space-y-2",children:["pastries","breads","cakes","corporate"].map(N=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",checked:_.category===N,onChange:()=>B("category",_.category===N?null:N),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 capitalize",children:N})]},N))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Price Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_min",className:"text-xs text-gray-600 block mb-1",children:"Min Price ()"}),e.jsx("input",{type:"number",id:"price_min",min:"0",step:"0.5",value:_.price_min||"",onChange:N=>B("price_min",N.target.value?parseFloat(N.target.value):null),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_max",className:"text-xs text-gray-600 block mb-1",children:"Max Price ()"}),e.jsx("input",{type:"number",id:"price_max",min:"0",step:"0.5",value:_.price_max||"",onChange:N=>B("price_max",N.target.value?parseFloat(N.target.value):null),placeholder:"100.00",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Dietary Preferences"}),e.jsx("div",{className:"space-y-2",children:G.map(N=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:_.dietary_tags.includes(N.value),onChange:()=>w(N.value),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:N.label})]},N.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Availability"}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:_.availability_status==="in_stock",onChange:()=>B("availability_status",_.availability_status==="in_stock"?null:"in_stock"),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Hide Out of Stock"})]})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[(H||T)&&e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading delicious treats..."})]})}),I&&!H&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-700 mb-4",children:"Failed to load products. Please try again."}),e.jsx("button",{onClick:()=>ee(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]}),!H&&!T&&!I&&P.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No desserts found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:_.search_query?`No results for "${_.search_query}"`:"Try adjusting your filters"}),Object.values(_).some(N=>N!==null&&N!==""&&(!Array.isArray(N)||N.length>0))&&e.jsx("button",{onClick:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Clear Filters"})]}),!H&&!T&&!I&&P.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:d==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:P.map(N=>{const V=N.availability_status!=="in_stock";let J=[];if(N.dietary_tags)try{J=JSON.parse(N.dietary_tags)}catch{J=N.dietary_tags.split(",").map(K=>K.trim())}return e.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden transition-all hover:shadow-xl ${V?"opacity-60":""} ${d==="list"?"flex":""}`,children:[e.jsx(re,{to:`/location/${g}/product/${N.product_id}`,className:`block ${d==="list"?"w-48 flex-shrink-0":""}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N.primary_image_url,alt:N.product_name,loading:"lazy",className:`w-full object-cover ${d==="list"?"h-full":"h-56"}`}),N.is_featured&&e.jsx("span",{className:"absolute top-2 left-2 bg-yellow-500 text-white text-xs font-bold px-2 py-1 rounded",children:"Featured"}),V&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold",children:"Out of Stock"})})]})}),e.jsxs("div",{className:`p-6 ${d==="list"?"flex-1 flex flex-col justify-between":""}`,children:[e.jsxs("div",{children:[e.jsx(re,{to:`/location/${g}/product/${N.product_id}`,className:"block",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors mb-2",children:N.product_name})}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:N.short_description}),J.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[J.slice(0,3).map(ne=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:ne.replace("_"," ")},ne)),J.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",J.length-3]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",N.price.toFixed(2)]}),N.compare_at_price&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",N.compare_at_price.toFixed(2)]})]})}),e.jsx("button",{onClick:()=>W(N),disabled:V,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${V?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg transform hover:scale-105"}`,children:V?"Out of Stock":"Add to Cart"})]})]})]},N.product_id)})}),U>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>M(O.current_page-1),disabled:!ae,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,U)},(N,V)=>{let J;return U<=5||O.current_page<=3?J=V+1:O.current_page>=U-2?J=U-4+V:J=O.current_page-2+V,e.jsx("button",{onClick:()=>M(J),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${O.current_page===J?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:J},J)})}),e.jsx("button",{onClick:()=>M(O.current_page+1),disabled:!Y,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})})]})})},Q6=()=>{const{location_name:t,product_id:s}=ma(),r=it(),n=yt(),a=z(Y=>Y.authentication_state.current_user),l=z(Y=>Y.authentication_state.auth_token),i=z(Y=>Y.authentication_state.authentication_status.is_authenticated),o=z(Y=>Y.add_to_cart),c=z(Y=>Y.show_toast),d=z(Y=>Y.open_cart_panel),[m,u]=h.useState(1),[p,v]=h.useState(0),[b,x]=h.useState([]),y=async Y=>{const N=await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/products/${Y}`);return{...N.data,category:N.data.category,availability_status:N.data.availability_status,price:Number(N.data.price||0),compare_at_price:N.data.compare_at_price?Number(N.data.compare_at_price):null,stock_quantity:N.data.stock_quantity?Number(N.data.stock_quantity):null,low_stock_threshold:N.data.low_stock_threshold?Number(N.data.low_stock_threshold):null}},{data:f,isLoading:g,error:j}=ve({queryKey:["product",s],queryFn:()=>y(s),enabled:!!s,staleTime:6e4,retry:1});h.useEffect(()=>{if(f)if(f.additional_images)try{const Y=JSON.parse(f.additional_images);x(Array.isArray(Y)?Y:[])}catch(Y){console.error("Failed to parse additional images:",Y),x([])}else x([])},[f]);const _=f!=null&&f.dietary_tags?(()=>{try{return JSON.parse(f.dietary_tags)}catch{return f.dietary_tags.split(",").map(N=>N.trim()).filter(Boolean)}})():[],S=f?[f.primary_image_url,...b]:[],O=async(Y,N)=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/products",{params:{category:Y,availability_status:"in_stock",is_archived:!1,limit:5,offset:0,sort_by:"created_at",sort_order:"desc"}})).data.data.map(ne=>({...ne,category:ne.category,availability_status:ne.availability_status,price:Number(ne.price||0),compare_at_price:ne.compare_at_price?Number(ne.compare_at_price):null,stock_quantity:ne.stock_quantity?Number(ne.stock_quantity):null,low_stock_threshold:ne.low_stock_threshold?Number(ne.low_stock_threshold):null})).filter(ne=>ne.product_id!==N).slice(0,4),{data:E=[],isLoading:T}=ve({queryKey:["related-products",f==null?void 0:f.category,f==null?void 0:f.product_id],queryFn:()=>O(f.category,f.product_id),enabled:!!f&&!!f.category,staleTime:3e5}),C=async()=>a?(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/favorites",{headers:{Authorization:`Bearer ${l}`}})).data:[],{data:R=[]}=ve({queryKey:["favorites",a==null?void 0:a.user_id],queryFn:C,enabled:i&&!!a,staleTime:6e4}),H=R.some(Y=>Y.product_id===s),I=we({mutationFn:async Y=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/favorites",{product_id:Y},{headers:{Authorization:`Bearer ${l}`}})).data,onMutate:async Y=>{await n.cancelQueries({queryKey:["favorites",a==null?void 0:a.user_id]});const N=n.getQueryData(["favorites",a==null?void 0:a.user_id]);return n.setQueryData(["favorites",a==null?void 0:a.user_id],V=>[...V||[],{favorite_id:`temp_${Date.now()}`,user_id:(a==null?void 0:a.user_id)||"",product_id:Y,created_at:new Date().toISOString()}]),{previousFavorites:N}},onSuccess:async()=>{await n.invalidateQueries({queryKey:["favorites",a==null?void 0:a.user_id]}),await n.refetchQueries({queryKey:["favorites",a==null?void 0:a.user_id]}),c("success","Added to favorites")},onError:(Y,N,V)=>{var J,ne;V!=null&&V.previousFavorites&&n.setQueryData(["favorites",a==null?void 0:a.user_id],V.previousFavorites),c("error",((ne=(J=Y.response)==null?void 0:J.data)==null?void 0:ne.message)||"Failed to add favorite")}}),ee=we({mutationFn:async Y=>(await ie.delete(`https://123build-an-online-web-application.launchpulse.ai/api/favorites/${Y}`,{headers:{Authorization:`Bearer ${l}`}})).data,onMutate:async Y=>{await n.cancelQueries({queryKey:["favorites",a==null?void 0:a.user_id]});const N=n.getQueryData(["favorites",a==null?void 0:a.user_id]);return n.setQueryData(["favorites",a==null?void 0:a.user_id],V=>(V||[]).filter(J=>J.favorite_id!==Y)),{previousFavorites:N}},onSuccess:async()=>{await n.invalidateQueries({queryKey:["favorites",a==null?void 0:a.user_id]}),await n.refetchQueries({queryKey:["favorites",a==null?void 0:a.user_id]}),c("info","Removed from favorites")},onError:(Y,N,V)=>{var J,ne;V!=null&&V.previousFavorites&&n.setQueryData(["favorites",a==null?void 0:a.user_id],V.previousFavorites),c("error",((ne=(J=Y.response)==null?void 0:J.data)==null?void 0:ne.message)||"Failed to remove favorite")}}),P=Y=>{u(N=>Math.max(1,N+Y))},Q=()=>{if(!f)return;if(f.availability_status!=="in_stock"){c("error","This product is currently unavailable");return}const Y={product_id:f.product_id,product_name:f.product_name,price:f.price,quantity:m,subtotal:f.price*m,primary_image_url:f.primary_image_url};o(Y),u(1),setTimeout(()=>{d()},500)},B=()=>{if(!i){c("info","Please log in to save favorites"),r("/login");return}if(I.isPending||ee.isPending)return;const Y=R.find(N=>N.product_id===s);Y?Y.favorite_id.startsWith("temp_")||ee.mutate(Y.favorite_id):I.mutate(s)},F=Y=>{v(Y)},w=()=>{v(Y=>Y===0?S.length-1:Y-1)},M=()=>{v(Y=>Y===S.length-1?0:Y+1)};if(h.useEffect(()=>{j&&(c("error","Product not found"),r(`/location/${t}/menu`))},[j,r,t,c]),g)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qn,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading product details..."})]})})})})});if(!f)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist."}),e.jsx(re,{to:`/location/${t}/menu`,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Menu"})]})})});const W=f.availability_status!=="in_stock",G=f.compare_at_price&&f.compare_at_price>f.price,U=I.isPending||ee.isPending,ae={vegan:"",vegetarian:"",gluten_free:"",dairy_free:"",nut_free:"",organic:""};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 pb-20 lg:pb-8",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(re,{to:"/",className:"text-gray-500 hover:text-gray-700 transition-colors",children:"Home"}),e.jsx(xr,{className:"w-4 h-4 text-gray-400"}),e.jsx(re,{to:`/location/${t}`,className:"text-gray-500 hover:text-gray-700 transition-colors capitalize",children:t}),e.jsx(xr,{className:"w-4 h-4 text-gray-400"}),e.jsx(re,{to:`/location/${t}/menu`,className:"text-gray-500 hover:text-gray-700 transition-colors",children:"Menu"}),e.jsx(xr,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 font-medium truncate max-w-xs",children:f.product_name})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden aspect-square",children:[e.jsx("img",{src:S[p],alt:f.product_name,className:"w-full h-full object-cover",loading:"lazy"}),S.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-2 shadow-lg transition-all","aria-label":"Previous image",children:e.jsx(ev,{className:"w-6 h-6 text-gray-900"})}),e.jsx("button",{onClick:M,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-2 shadow-lg transition-all","aria-label":"Next image",children:e.jsx(xr,{className:"w-6 h-6 text-gray-900"})})]}),f.is_featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg",children:" Featured"}),W&&e.jsx("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg",children:"Out of Stock"})]}),S.length>1&&e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:S.map((Y,N)=>e.jsx("button",{onClick:()=>F(N),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${p===N?"border-blue-600 ring-2 ring-blue-100":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("img",{src:Y,alt:`${f.product_name} view ${N+1}`,className:"w-full h-full object-cover",loading:"lazy"})},N))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight mb-2",children:f.product_name}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:f.short_description})]}),i&&e.jsx("button",{onClick:B,disabled:U,className:"flex-shrink-0 p-3 rounded-full border-2 border-gray-300 hover:border-red-500 hover:bg-red-50 transition-all disabled:opacity-50","aria-label":H?"Remove from favorites":"Add to favorites",children:e.jsx(gr,{className:`w-6 h-6 transition-colors ${H?"fill-red-500 text-red-500":"text-gray-400"}`})})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["",f.price.toFixed(2)]}),G&&e.jsxs("span",{className:"text-2xl font-medium text-gray-500 line-through",children:["",f.compare_at_price.toFixed(2)]})]}),_.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(Y=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsx("span",{children:ae[Y.toLowerCase()]||""}),e.jsx("span",{className:"capitalize",children:Y.replace("_"," ")})]},Y))}),f.long_description&&e.jsx("div",{className:"prose prose-blue max-w-none",children:e.jsx("div",{className:"p-6 bg-white rounded-xl shadow-md border border-gray-100",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:f.long_description})})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${W?"bg-red-500":"bg-green-500"}`}),e.jsx("span",{className:`font-medium ${W?"text-red-700":"text-green-700"}`,children:W?"Out of Stock":"In Stock"}),!W&&f.stock_quantity&&f.low_stock_threshold&&f.stock_quantity<=f.low_stock_threshold&&e.jsxs("span",{className:"text-orange-600 font-medium ml-2",children:["Only ",f.stock_quantity," left!"]})]}),f.available_for_corporate&&e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-800 rounded-lg text-sm font-medium",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Great for corporate orders"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Quantity"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>P(-1),disabled:m<=1||W,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Decrease quantity",children:e.jsx(qm,{className:"w-5 h-5 text-gray-700"})}),e.jsx("span",{className:"px-6 py-3 text-xl font-bold text-gray-900 min-w-[60px] text-center",children:m}),e.jsx("button",{onClick:()=>P(1),disabled:W,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Increase quantity",children:e.jsx(es,{className:"w-5 h-5 text-gray-700"})})]}),!W&&e.jsxs("span",{className:"text-gray-600 text-sm",children:["Total: ",e.jsxs("span",{className:"font-bold text-gray-900",children:["",(f.price*m).toFixed(2)]})]})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("button",{onClick:Q,disabled:W,className:`w-full py-4 px-6 rounded-xl font-bold text-lg shadow-lg transition-all duration-200 ${W?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-xl hover:scale-105"}`,children:W?"Out of Stock":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"Add to Cart"}),e.jsxs("span",{className:"text-sm opacity-90",children:["",(f.price*m).toFixed(2)]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Category"}),e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:f.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ready In"}),e.jsx("p",{className:"font-semibold text-gray-900",children:"20-30 minutes"})]})]})]})]}),E.length>0&&e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-6",children:"You Might Also Like"}),T?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Qn,{className:"w-8 h-8 text-blue-600 animate-spin"})}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:E.map(Y=>e.jsxs(re,{to:`/location/${t}/product/${Y.product_id}`,className:"group bg-white rounded-xl shadow-lg hover:shadow-xl overflow-hidden transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:Y.primary_image_url,alt:Y.product_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-1",children:Y.product_name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:Y.short_description}),e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",Y.price.toFixed(2)]})]})]},Y.product_id))})]})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 shadow-2xl z-40",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>P(-1),disabled:m<=1||W,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Decrease quantity",children:e.jsx(qm,{className:"w-4 h-4 text-gray-700"})}),e.jsx("span",{className:"px-4 py-2 text-lg font-bold text-gray-900 min-w-[50px] text-center",children:m}),e.jsx("button",{onClick:()=>P(1),disabled:W,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Increase quantity",children:e.jsx(es,{className:"w-4 h-4 text-gray-700"})})]}),e.jsx("button",{onClick:Q,disabled:W,className:`flex-1 py-3 px-6 rounded-lg font-bold text-base shadow-lg transition-all ${W?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:scale-95"}`,children:W?"Out of Stock":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"Add to Cart"}),e.jsxs("span",{className:"text-sm",children:["",(f.price*m).toFixed(2)]})]})})]})})})]})})},G6=()=>{const t=it(),s=z(q=>q.authentication_state.current_user),r=z(q=>q.authentication_state.authentication_status.is_authenticated),n=z(q=>q.show_toast),a=z(q=>q.show_loading),l=z(q=>q.hide_loading),[i,o]=h.useState(""),[c,d]=h.useState(""),[m,u]=h.useState(""),[p,v]=h.useState(""),[b,x]=h.useState(""),[y,f]=h.useState(""),[g,j]=h.useState(""),[_,S]=h.useState(""),[O,E]=h.useState(""),[T,C]=h.useState(""),[R,H]=h.useState(""),[I,ee]=h.useState(""),[P,Q]=h.useState(!1),[B,F]=h.useState(1),[w,M]=h.useState(""),[W,G]=h.useState(!1),[U,ae]=h.useState(""),[Y,N]=h.useState({}),[V,J]=h.useState(!1),{data:ne}=ve({queryKey:["drop-of-the-month","active"],queryFn:async()=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/drop-of-the-month")).data,retry:1,staleTime:6e4}),K=we({mutationFn:async q=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/orders",q,s?{headers:{Authorization:`Bearer ${z.getState().authentication_state.auth_token}`}}:void 0)).data}),oe=we({mutationFn:async q=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/auth/register",q)).data,onSuccess:()=>{n("success","Account created successfully!")}});h.useEffect(()=>{r&&s&&(o(s.email||""),d(`${s.first_name||""} ${s.last_name||""}`.trim()),u(s.phone_number||""))},[r,s]);const D=()=>{const q={};return i?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||(q.customer_email="Invalid email format"):q.customer_email="Email is required",(!c||c.trim().length<2)&&(q.customer_name="Full name is required"),(!m||m.length<10)&&(q.customer_phone="Valid phone number is required (min 10 digits)"),(!p||p.trim().length<2)&&(q.company_name="Company name is required"),b?new Date(b)<=new Date&&(q.event_date="Event date must be in the future"):q.event_date="Event date is required",(!y||y<1)&&(q.guest_count="Guest count must be at least 1"),g||(q.event_type="Event type is required"),(!_||_.trim().length<3)&&(q.delivery_address_line1="Address is required"),(!T||T.trim().length<2)&&(q.delivery_city="City is required"),(!R||R.trim().length<3)&&(q.delivery_postal_code="Postal code is required"),P?B<1&&(q.drop_quantity="Quantity must be at least 1"):(!w||w.trim().length<20)&&(q.custom_order_description="Please provide detailed order description (min 20 characters)"),!r&&W&&(!U||U.length<8)&&(q.account_password="Password must be at least 8 characters"),N(q),Object.keys(q).length===0},le=async q=>{var A,se;if(q.preventDefault(),N({}),!D()){n("error","Please fix the errors in the form");const k=document.querySelector(".border-red-500");k&&k.scrollIntoView({behavior:"smooth",block:"center"});return}J(!0),a("Submitting your corporate order request...");try{const k=P&&ne?[{product_id:ne.drop_id,quantity:B}]:[],me=P?I:`${w}

${I}`.trim(),ge={user_id:(s==null?void 0:s.user_id)||null,customer_email:i,customer_name:c,customer_phone:m,company_name:p,order_type:"corporate",fulfillment_method:"delivery",delivery_address_line1:_,delivery_address_line2:O||null,delivery_city:T,delivery_postal_code:R,event_date:b,guest_count:Number(y),event_type:g,special_instructions:me,payment_method:"online",items:k},je=await K.mutateAsync(ge);if(!r&&W&&U){const[Ke,..._t]=c.split(" "),is=_t.join(" ")||Ke,Pt={email:i,password:U,first_name:Ke,last_name:is,phone_number:m,user_type:"customer",marketing_opt_in:!1};await oe.mutateAsync(Pt)}l(),J(!1),n("success",`Corporate order request submitted! Order number: ${je.order_number}. We'll contact you within 24 hours.`,5e3),setTimeout(()=>{t("/")},2e3)}catch(k){console.error("Corporate order submission error:",k),l(),J(!1);const me=((se=(A=k.response)==null?void 0:A.data)==null?void 0:se.message)||k.message||"Failed to submit corporate order request";n("error",me)}},ue=q=>{Y[q]&&N(A=>{const se={...A};return delete se[q],se})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Corporate & Event Orders"}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Planning a special event? Let us create something extraordinary for your celebration."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All corporate orders require admin confirmation. We'll contact you within 24 hours."})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("form",{onSubmit:le,className:"p-8 space-y-8",children:[ne&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 border border-purple-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Featured This Month"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("img",{src:ne.product_image_url,alt:ne.product_name,className:"w-full h-64 object-cover rounded-lg shadow-md"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:ne.product_name}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:ne.description}),e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold text-purple-700",children:["",Number(ne.price||0).toFixed(2)]}),e.jsx("span",{className:"text-sm text-gray-500",children:"per item"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P,onChange:q=>{Q(q.target.checked),q.target.checked||F(1)},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Order this for my event"})]}),P&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),e.jsx("input",{type:"number",min:"1",value:B,onChange:q=>{F(parseInt(q.target.value)||1),ue("drop_quantity")},className:`w-32 px-4 py-2 rounded-lg border-2 ${Y.drop_quantity?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-purple-500 focus:ring-purple-100"} focus:ring-4 focus:outline-none transition-all`}),Y.drop_quantity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.drop_quantity})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b-2 border-gray-200 pb-3",children:"Contact Information"}),r&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[" Ordering as ",e.jsxs("strong",{children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]})," (",s==null?void 0:s.email,")"]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"customer_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"customer_name",value:c,onChange:q=>{d(q.target.value),ue("customer_name")},placeholder:"John Smith",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.customer_name?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.customer_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.customer_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"customer_email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"customer_email",value:i,onChange:q=>{o(q.target.value),ue("customer_email")},placeholder:"john@company.com",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.customer_email?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.customer_email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.customer_email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"customer_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"customer_phone",value:m,onChange:q=>{u(q.target.value),ue("customer_phone")},placeholder:"+353 1 234 5678",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.customer_phone?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.customer_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.customer_phone})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"company_name",value:p,onChange:q=>{v(q.target.value),ue("company_name")},placeholder:"Acme Corporation",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.company_name?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.company_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.company_name})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b-2 border-gray-200 pb-3",children:"Event Details"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"event_date",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"event_date",value:b,onChange:q=>{x(q.target.value),ue("event_date")},min:new Date().toISOString().split("T")[0],className:`w-full px-4 py-3 rounded-lg border-2 ${Y.event_date?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.event_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.event_date})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"guest_count",className:"block text-sm font-medium text-gray-700 mb-2",children:["Guest Count ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"guest_count",min:"1",value:y,onChange:q=>{f(q.target.value?parseInt(q.target.value):""),ue("guest_count")},placeholder:"50",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.guest_count?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.guest_count&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.guest_count})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"event_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"event_type",value:g,onChange:q=>{j(q.target.value),ue("event_type")},className:`w-full px-4 py-3 rounded-lg border-2 ${Y.event_type?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`,children:[e.jsx("option",{value:"",children:"Select event type"}),e.jsx("option",{value:"Conference",children:"Conference"}),e.jsx("option",{value:"Wedding",children:"Wedding"}),e.jsx("option",{value:"Birthday",children:"Birthday Party"}),e.jsx("option",{value:"Corporate Meeting",children:"Corporate Meeting"}),e.jsx("option",{value:"Product Launch",children:"Product Launch"}),e.jsx("option",{value:"Team Building",children:"Team Building"}),e.jsx("option",{value:"Other",children:"Other"})]}),Y.event_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.event_type})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b-2 border-gray-200 pb-3",children:"Delivery Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_address_line1",className:"block text-sm font-medium text-gray-700 mb-2",children:["Address Line 1 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"delivery_address_line1",value:_,onChange:q=>{S(q.target.value),ue("delivery_address_line1")},placeholder:"123 Main Street",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.delivery_address_line1?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.delivery_address_line1&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.delivery_address_line1})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_address_line2",className:"block text-sm font-medium text-gray-700 mb-2",children:["Address Line 2 ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsx("input",{type:"text",id:"delivery_address_line2",value:O,onChange:q=>E(q.target.value),placeholder:"Suite 100",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_city",className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"delivery_city",value:T,onChange:q=>{C(q.target.value),ue("delivery_city")},placeholder:"Dublin",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.delivery_city?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.delivery_city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.delivery_city})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_postal_code",className:"block text-sm font-medium text-gray-700 mb-2",children:["Postal Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"delivery_postal_code",value:R,onChange:q=>{H(q.target.value),ue("delivery_postal_code")},placeholder:"D02 XY12",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.delivery_postal_code?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),Y.delivery_postal_code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.delivery_postal_code})]})]})]})]}),!P&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b-2 border-gray-200 pb-3",children:"Order Details"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"custom_order_description",className:"block text-sm font-medium text-gray-700 mb-2",children:["Describe Your Order Requirements ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Please provide detailed information about what you'd like us to create for your event."}),e.jsx("textarea",{id:"custom_order_description",value:w,onChange:q=>{M(q.target.value),ue("custom_order_description")},rows:6,placeholder:"Example: We need assorted desserts for 50 people including gluten-free options. Mix of brownies, cookies, and cake slices. Prefer chocolate and vanilla flavors...",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.custom_order_description?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),e.jsx("div",{className:"flex justify-between items-center mt-1",children:Y.custom_order_description?e.jsx("p",{className:"text-sm text-red-600",children:Y.custom_order_description}):e.jsxs("p",{className:"text-sm text-gray-500",children:[w.length," / 2000 characters (min 20)"]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b-2 border-gray-200 pb-3",children:"Additional Information"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"special_instructions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions or Dietary Requirements"}),e.jsx("textarea",{id:"special_instructions",value:I,onChange:q=>ee(q.target.value),rows:4,placeholder:"E.g., Allergen information, setup requirements, delivery time preferences...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[I.length," / 500 characters"]})]})]}),!r&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:W,onChange:q=>{G(q.target.checked),q.target.checked||(ae(""),ue("account_password"))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-base font-medium text-gray-900",children:"Create a Kake account for faster future orders"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Save your details, track orders, and earn loyalty points"})]})]}),W&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"account_password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Create Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",id:"account_password",value:U,onChange:q=>{ae(q.target.value),ue("account_password")},placeholder:"Min 8 characters",className:`w-full px-4 py-3 rounded-lg border-2 ${Y.account_password?"border-red-500 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-green-500 focus:ring-green-100"} focus:ring-4 focus:outline-none transition-all`}),Y.account_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.account_password})]})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("button",{type:"submit",disabled:V,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg font-semibold text-lg shadow-lg hover:shadow-xl hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:V?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Request..."]}):"Submit Corporate Order Request"}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:"Our team will review your request and contact you within 24 hours with pricing and availability."})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Questions about corporate orders?"," ",e.jsx("a",{href:`mailto:${z.getState().system_config_state.company_email}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact us"})," ","or call"," ",e.jsx("a",{href:`tel:${z.getState().system_config_state.company_phone}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:z.getState().system_config_state.company_phone})]})})]})})})},Y6=()=>{const[t]=nt(),s=it(),r=t.get("redirect")||"/",[n,a]=h.useState(""),[l,i]=h.useState(""),[o,c]=h.useState(!1),[d,m]=h.useState(!1),[u,p]=h.useState({email:null,password:null}),v=z(I=>I.authentication_state.authentication_status.is_loading),b=z(I=>I.authentication_state.authentication_status.is_authenticated),x=z(I=>I.authentication_state.current_user),y=z(I=>I.authentication_state.error_message),f=z(I=>I.login_user),g=z(I=>I.clear_auth_error);h.useEffect(()=>{b&&x&&(x.user_type==="admin"?s("/admin/dashboard",{replace:!0}):x.user_type==="staff"||x.user_type==="manager"?s("/staff/dashboard",{replace:!0}):x.user_type==="customer"?s(r==="/login"?"/account":r,{replace:!0}):s("/",{replace:!0}))},[b,x,s,r]),h.useEffect(()=>(g(),()=>{g()}),[g]);const j=I=>I?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I)?null:"Please enter a valid email address":"Email is required",_=I=>I?null:"Password is required",S=()=>{const I=j(n),ee=_(l);return p({email:I,password:ee}),!I&&!ee},O=I=>{a(I.target.value),u.email&&p(ee=>({...ee,email:null})),y&&g()},E=I=>{i(I.target.value),u.password&&p(ee=>({...ee,password:null})),y&&g()},T=()=>{const I=j(n);p(ee=>({...ee,email:I}))},C=()=>{const I=_(l);p(ee=>({...ee,password:I}))},R=async I=>{if(I.preventDefault(),g(),!!S())try{await f(n,l,o)}catch(ee){console.error("Login error:",ee)}},H=()=>{m(I=>!I)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 pt-8 pb-6 bg-gradient-to-r from-blue-600 to-indigo-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Welcome to Kake"}),e.jsx("p",{className:"text-blue-100 text-base",children:"Sign in to your account to continue"})]})}),e.jsxs("div",{className:"px-8 py-8",children:[y&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-md",role:"alert","aria-live":"polite",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800 font-medium",children:y})})]})}),e.jsxs("form",{onSubmit:R,className:"space-y-6",noValidate:!0,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(wr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:O,onBlur:T,disabled:v,placeholder:"your.email@example.com",className:`
                        block w-full pl-10 pr-4 py-3 
                        border-2 rounded-lg
                        text-gray-900 placeholder-gray-400
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${u.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                      `,"aria-invalid":!!u.email,"aria-describedby":u.email?"email-error":void 0})]}),u.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",id:"email-error",role:"alert",children:u.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pp,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,value:l,onChange:E,onBlur:C,disabled:v,placeholder:"Enter your password",className:`
                        block w-full pl-10 pr-12 py-3 
                        border-2 rounded-lg
                        text-gray-900 placeholder-gray-400
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${u.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                      `,"aria-invalid":!!u.password,"aria-describedby":u.password?"password-error":void 0}),e.jsx("button",{type:"button",onClick:H,className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,"aria-label":d?"Hide password":"Show password",children:d?e.jsx(rn,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):e.jsx(Fs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),u.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",id:"password-error",role:"alert",children:u.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember_me",name:"remember_me",type:"checkbox",checked:o,onChange:I=>c(I.target.checked),disabled:v,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50"}),e.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-700 font-medium",children:"Remember me for 30 days"})]}),e.jsx(re,{to:"/forgot-password",className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors focus:outline-none focus:underline",children:"Forgot password?"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:v,className:`
                      w-full flex justify-center items-center
                      px-6 py-3 
                      bg-blue-600 hover:bg-blue-700 
                      text-white font-semibold text-base
                      rounded-lg
                      shadow-lg hover:shadow-xl
                      focus:outline-none focus:ring-4 focus:ring-blue-100
                      transition-all duration-200
                      disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600 disabled:hover:shadow-lg
                    `,children:v?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"Or"})})]}),e.jsx("div",{children:e.jsxs("button",{type:"button",disabled:!0,className:`
                      w-full flex justify-center items-center
                      px-6 py-3 
                      bg-white hover:bg-gray-50
                      text-gray-700 font-medium text-base
                      border-2 border-gray-300
                      rounded-lg
                      focus:outline-none focus:ring-4 focus:ring-gray-100
                      transition-all duration-200
                      disabled:opacity-50 disabled:cursor-not-allowed
                    `,children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google",e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Coming Soon)"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(re,{to:`/register${r!=="/"?`?redirect=${encodeURIComponent(r)}`:""}`,className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors focus:outline-none focus:underline",children:"Sign up for free"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["By signing in, you agree to our"," ",e.jsx(re,{to:"/terms",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",e.jsx(re,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})})]})})})},J6=()=>{const t=it(),[s]=nt(),r=s.get("redirect")||"/",n=z(N=>N.authentication_state.authentication_status.is_authenticated),a=z(N=>N.authentication_state.authentication_status.is_loading),l=z(N=>N.authentication_state.error_message),i=z(N=>N.authentication_state.current_user),o=z(N=>N.register_user),c=z(N=>N.clear_auth_error),[d,m]=h.useState(""),[u,p]=h.useState(""),[v,b]=h.useState(""),[x,y]=h.useState(""),[f,g]=h.useState(""),[j,_]=h.useState(!1),[S,O]=h.useState(!1),[E,T]=h.useState({min_length:!1,has_uppercase:!1,has_lowercase:!1,has_number:!1}),[C,R]=h.useState({email:null,password:null,first_name:null,last_name:null,phone_number:null,terms:null}),[H,I]=h.useState(!1),[ee,P]=h.useState(!1),[Q,B]=h.useState(!1),[F,w]=h.useState(!1);h.useEffect(()=>{n&&i&&(i.user_type==="admin"?t("/admin/dashboard",{replace:!0}):i.user_type==="staff"||i.user_type==="manager"?t("/staff/dashboard",{replace:!0}):t("/account",{replace:!0}))},[n,i,t]);const M=h.useCallback(N=>{const V={min_length:N.length>=8,has_uppercase:/[A-Z]/.test(N),has_lowercase:/[a-z]/.test(N),has_number:/[0-9]/.test(N)};return T(V),Object.values(V).every(ne=>ne===!0)},[]);h.useEffect(()=>{u&&M(u)},[u,M]);const W=async N=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)){R(J=>({...J,email:"Please enter a valid email address"})),P(!1);return}B(!0),R(J=>({...J,email:null}));try{(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/auth/check-email",{params:{email:N}})).data.available===!0?(R(K=>({...K,email:null})),P(!0)):(R(K=>({...K,email:"This email is already registered. Please log in instead."})),P(!1))}catch(J){console.error("Email availability check failed:",J),P(!1)}finally{B(!1)}},G=N=>{!N||N.trim().length<1?R(V=>({...V,first_name:"First name is required"})):N.length>100?R(V=>({...V,first_name:"First name is too long (max 100 characters)"})):R(V=>({...V,first_name:null}))},U=N=>{!N||N.trim().length<1?R(V=>({...V,last_name:"Last name is required"})):N.length>100?R(V=>({...V,last_name:"Last name is too long (max 100 characters)"})):R(V=>({...V,last_name:null}))},ae=N=>{!N||N.trim().length<10?R(V=>({...V,phone_number:"Phone number must be at least 10 characters"})):N.length>20?R(V=>({...V,phone_number:"Phone number is too long (max 20 characters)"})):R(V=>({...V,phone_number:null}))},Y=async N=>{N.preventDefault(),c();let V=!1;if(d||(R(J=>({...J,email:"Email is required"})),V=!0),u?Object.values(E).every(ne=>ne===!0)||(R(ne=>({...ne,password:"Password must meet all requirements"})),V=!0):(R(J=>({...J,password:"Password is required"})),V=!0),(!v||v.trim().length<1)&&(R(J=>({...J,first_name:"First name is required"})),V=!0),(!x||x.trim().length<1)&&(R(J=>({...J,last_name:"Last name is required"})),V=!0),(!f||f.trim().length<10)&&(R(J=>({...J,phone_number:"Phone number is required"})),V=!0),S||(R(J=>({...J,terms:"You must accept the Terms & Conditions"})),V=!0),!V){w(!0);try{await o({email:d,password:u,first_name:v,last_name:x,phone_number:f,marketing_opt_in:j}),t(r,{replace:!0})}catch(J){console.error("Registration failed:",J),w(!1)}}};return a?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading..."})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white shadow-xl shadow-gray-200/50 rounded-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Create Your Kake Account"}),e.jsx("p",{className:"text-base text-gray-600",children:"Join for faster checkout and loyalty rewards"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{type:"button",disabled:!0,className:"w-full flex items-center justify-center px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200 opacity-50 cursor-not-allowed",children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google (Coming Soon)"]})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"Or sign up with email"})})]}),l&&e.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-lg",role:"alert",children:e.jsx("p",{className:"text-sm font-medium",children:l})}),e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{id:"first_name",name:"first_name",type:"text",autoComplete:"given-name",required:!0,value:v,onChange:N=>{b(N.target.value),R(V=>({...V,first_name:null}))},onBlur:N=>G(N.target.value),className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${C.first_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"John"}),C.first_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:C.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{id:"last_name",name:"last_name",type:"text",autoComplete:"family-name",required:!0,value:x,onChange:N=>{y(N.target.value),R(V=>({...V,last_name:null}))},onBlur:N=>U(N.target.value),className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${C.last_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Doe"}),C.last_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:C.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:N=>{m(N.target.value),R(V=>({...V,email:null})),P(!1)},onBlur:N=>{N.target.value&&W(N.target.value)},className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${C.email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":ee?"border-green-300 focus:border-green-500 focus:ring-4 focus:ring-green-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"john@example.com"}),Q&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Qn,{className:"animate-spin h-5 w-5 text-gray-400"})}),ee&&!Q&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Bt,{className:"h-5 w-5 text-green-600"})})]}),C.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:C.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",autoComplete:"tel",required:!0,value:f,onChange:N=>{g(N.target.value),R(V=>({...V,phone_number:null}))},onBlur:N=>ae(N.target.value),className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${C.phone_number?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"+353 86 123 4567"}),C.phone_number&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:C.phone_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:H?"text":"password",autoComplete:"new-password",required:!0,value:u,onChange:N=>{p(N.target.value),R(V=>({...V,password:null}))},className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 ${C.password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Enter password"}),e.jsx("button",{type:"button",onClick:()=>I(!H),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":H?"Hide password":"Show password",children:H?e.jsx(rn,{className:"h-5 w-5"}):e.jsx(Fs,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mt-3 space-y-2 bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[E.min_length?e.jsx(Bt,{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0"}):e.jsx(Ee,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:E.min_length?"text-green-700 font-medium":"text-gray-600",children:"Minimum 8 characters"})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[E.has_uppercase?e.jsx(Bt,{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0"}):e.jsx(Ee,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:E.has_uppercase?"text-green-700 font-medium":"text-gray-600",children:"Contains uppercase letter"})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[E.has_lowercase?e.jsx(Bt,{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0"}):e.jsx(Ee,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:E.has_lowercase?"text-green-700 font-medium":"text-gray-600",children:"Contains lowercase letter"})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[E.has_number?e.jsx(Bt,{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0"}):e.jsx(Ee,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),e.jsx("span",{className:E.has_number?"text-green-700 font-medium":"text-gray-600",children:"Contains number"})]})]})]}),C.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:C.password})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-6",children:e.jsx("input",{id:"marketing_opt_in",name:"marketing_opt_in",type:"checkbox",checked:j,onChange:N=>_(N.target.checked),className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})}),e.jsx("div",{className:"ml-3",children:e.jsx("label",{htmlFor:"marketing_opt_in",className:"text-sm text-gray-700",children:"Send me special offers, updates, and news about Kake products"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-6",children:e.jsx("input",{id:"terms_accepted",name:"terms_accepted",type:"checkbox",required:!0,checked:S,onChange:N=>{O(N.target.checked),R(V=>({...V,terms:null}))},className:`h-5 w-5 border-gray-300 rounded focus:ring-4 transition-all ${C.terms?"border-red-300 text-red-600 focus:ring-red-100":"border-gray-300 text-blue-600 focus:ring-blue-100 focus:ring-blue-500"}`})}),e.jsx("div",{className:"ml-3",children:e.jsxs("label",{htmlFor:"terms_accepted",className:"text-sm text-gray-700",children:["I agree to the"," ",e.jsx(re,{to:"/terms",className:"text-blue-600 hover:text-blue-700 font-medium underline",target:"_blank",children:"Terms & Conditions"})," ","and"," ",e.jsx(re,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 font-medium underline",target:"_blank",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-600 ml-1",children:"*"})]})})]}),C.terms&&e.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:C.terms})]}),e.jsx("button",{type:"submit",disabled:F||a,className:"w-full flex justify-center items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg shadow-lg hover:bg-blue-700 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600 disabled:hover:shadow-lg",children:F||a?e.jsxs(e.Fragment,{children:[e.jsx(Qn,{className:"animate-spin h-5 w-5 mr-2"}),"Creating account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(re,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Log in"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"By creating an account, you'll earn loyalty points on every order and enjoy faster checkout!"})})]})})})},X6=()=>{const[t,s]=h.useState(""),[r,n]=h.useState(!1),[a,l]=h.useState(null),[i,o]=h.useState({email:null}),c=z(x=>x.show_toast),d=z(x=>x.authentication_state.authentication_status.is_authenticated),m=it();Ot.useEffect(()=>{d&&m("/account")},[d,m]);const u=x=>x?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)?null:"Please enter a valid email address":"Email address is required",p=x=>{const y=x.target.value;s(y),i.email&&o({email:null}),a&&l(null)},v=()=>{const x=u(t);o({email:x})},b=async x=>{x.preventDefault();const y=u(t);if(y){o({email:y});return}o({email:null}),n(!0);try{const f=await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/auth/forgot-password",{email:t},{headers:{"Content-Type":"application/json"}});l(f.data.message||"If an account exists with this email, you will receive password reset instructions shortly."),s(""),c("success","Password reset instructions sent! Please check your email.",5e3)}catch(f){l("If an account exists with this email, you will receive password reset instructions shortly."),console.error("Password reset request error:",f)}finally{n(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Forgot Password?"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"No worries! Enter your email address and we'll send you instructions to reset your password."})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8",children:[a&&e.jsx("div",{className:"mb-6 bg-green-50 border-2 border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-800 mb-1",children:"Check Your Email"}),e.jsx("p",{className:"text-sm text-green-700 leading-relaxed",children:a}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"If you don't receive an email within 5 minutes, please check your spam folder."})]})]})}),!a&&e.jsxs("form",{onSubmit:b,className:"space-y-6",noValidate:!0,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:p,onBlur:v,disabled:r,placeholder:"you@example.com",className:`
                        w-full px-4 py-3 rounded-lg border-2 transition-all duration-200
                        focus:outline-none focus:ring-4
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${i.email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}
                      `,"aria-invalid":!!i.email,"aria-describedby":i.email?"email-error":void 0}),i.email&&e.jsxs("p",{id:"email-error",className:"mt-2 text-sm text-red-600 flex items-center",role:"alert",children:[e.jsx("svg",{className:"h-4 w-4 mr-1 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.email]})]}),e.jsx("button",{type:"submit",disabled:r||!!i.email,className:`
                      w-full px-6 py-3 rounded-lg font-medium text-white
                      bg-blue-600 hover:bg-blue-700
                      shadow-lg hover:shadow-xl
                      transition-all duration-200
                      focus:outline-none focus:ring-4 focus:ring-blue-100
                      disabled:opacity-50 disabled:cursor-not-allowed
                      disabled:hover:bg-blue-600 disabled:hover:shadow-lg
                    `,children:r?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(re,{to:"/login",className:`
                      block w-full text-center px-6 py-3 rounded-lg font-medium
                      bg-blue-600 text-white
                      hover:bg-blue-700
                      shadow-lg hover:shadow-xl
                      transition-all duration-200
                      focus:outline-none focus:ring-4 focus:ring-blue-100
                    `,children:"Return to Login"}),e.jsx("button",{onClick:()=>{l(null),s("")},className:`
                      block w-full text-center px-6 py-3 rounded-lg font-medium
                      bg-gray-100 text-gray-900 border border-gray-300
                      hover:bg-gray-200
                      transition-all duration-200
                      focus:outline-none focus:ring-4 focus:ring-gray-100
                    `,children:"Send Another Reset Link"})]})]}),e.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-t border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Remember your password?"}),e.jsxs(re,{to:"/login",className:`
                    inline-flex items-center text-blue-600 hover:text-blue-700
                    font-medium text-sm transition-colors duration-200
                  `,children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Login"]})]}),!a&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 text-center leading-relaxed",children:["Need help? Contact us at"," ",e.jsx("a",{href:"mailto:info@kake.ie",className:"text-blue-600 hover:text-blue-700 font-medium",children:"info@kake.ie"})," ","or call"," ",e.jsx("a",{href:"tel:+35312345678",className:"text-blue-600 hover:text-blue-700 font-medium",children:"+353 1 234 5678"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["For security reasons, we don't disclose whether an email address is registered.",e.jsx("br",{}),"Password reset links are valid for 60 minutes."]})})]})})})},Z6=async t=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/auth/reset-password",t,{headers:{"Content-Type":"application/json"}})).data,eC=()=>{const t=it(),[s]=nt(),r=z(E=>E.show_toast),n=s.get("token")||"",[a,l]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState(!1),[m,u]=h.useState(!1),[p,v]=h.useState({password:null,token:null}),[b,x]=h.useState(!1);h.useEffect(()=>{v(n?E=>({...E,token:null}):E=>({...E,token:"Invalid or missing reset token. Please request a new password reset."}))},[n]);const y=h.useMemo(()=>({min_length:a.length>=8,has_uppercase:/[A-Z]/.test(a),has_lowercase:/[a-z]/.test(a),has_number:/[0-9]/.test(a),passwords_match:a===i&&a.length>0}),[a,i]),f=h.useMemo(()=>Object.values(y).every(E=>E===!0),[y]),g=we({mutationFn:Z6,onSuccess:()=>{x(!0),r("success","Password reset successful! Redirecting to login..."),setTimeout(()=>{t("/login")},1500)},onError:E=>{var H;const T=(H=E.response)==null?void 0:H.data,C=T==null?void 0:T.error_code,R=(T==null?void 0:T.message)||"Failed to reset password";v(C==="INVALID_TOKEN"?I=>({...I,token:"This password reset link is invalid. Please request a new one."}):C==="TOKEN_EXPIRED"?I=>({...I,token:"This password reset link has expired. Please request a new one."}):C==="TOKEN_USED"?I=>({...I,token:"This password reset link has already been used. Please request a new one."}):C==="MISSING_FIELDS"?I=>({...I,password:"Please enter a new password."}):I=>({...I,token:R})),r("error",R)}}),j=async E=>{if(E.preventDefault(),v({password:null,token:null}),!n){v(T=>({...T,token:"Invalid reset link. Please request a new password reset."}));return}if(!f){v(T=>({...T,password:"Please meet all password requirements."}));return}g.mutate({token:n,password:a})},_=E=>{l(E.target.value),p.password&&v(T=>({...T,password:null}))},S=E=>{o(E.target.value),p.password&&v(T=>({...T,password:null}))},O=g.isPending;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white shadow-xl shadow-gray-200/50 rounded-2xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:e.jsx(pp,{className:"h-8 w-8 text-white"})})}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),e.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Create a new secure password for your account"})]}),p.token&&!b&&e.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(He,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:p.token}),e.jsx(re,{to:"/forgot-password",className:"text-red-900 text-sm font-semibold hover:text-red-700 underline mt-2 inline-block",children:"Request New Password Reset"})]})]})}),b&&e.jsxs("div",{className:"px-8 py-12 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-green-100 p-4 rounded-full",children:e.jsx(Jt,{className:"h-12 w-12 text-green-600"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Complete!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully updated. You can now log in with your new password."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]}),!b&&n&&e.jsxs("form",{onSubmit:j,className:"px-8 py-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"new_password",name:"new_password",type:c?"text":"password",value:a,onChange:_,required:!0,autoComplete:"new-password",placeholder:"Enter new password",disabled:O,className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-4 ${p.password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-describedby":p.password?"password-error":"password-requirements"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":c?"Hide password":"Show password",children:c?e.jsx(rn,{className:"h-5 w-5"}):e.jsx(Fs,{className:"h-5 w-5"})})]}),p.password&&e.jsx("p",{id:"password-error",className:"mt-2 text-sm text-red-600",children:p.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirm_password",name:"confirm_password",type:m?"text":"password",value:i,onChange:S,required:!0,autoComplete:"new-password",placeholder:"Confirm new password",disabled:O,className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-4 ${i&&!y.passwords_match?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`}),e.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":m?"Hide password":"Show password",children:m?e.jsx(rn,{className:"h-5 w-5"}):e.jsx(Fs,{className:"h-5 w-5"})})]}),i&&!y.passwords_match&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Passwords do not match"})]}),e.jsxs("div",{id:"password-requirements",className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Password Requirements"}),e.jsxs("div",{className:"space-y-2","aria-live":"polite",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[y.min_length?e.jsx(Jt,{className:"h-4 w-4 text-green-600 flex-shrink-0"}):e.jsx(Ut,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:`text-sm ${y.min_length?"text-green-700 font-medium":"text-gray-600"}`,children:"At least 8 characters"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y.has_uppercase?e.jsx(Jt,{className:"h-4 w-4 text-green-600 flex-shrink-0"}):e.jsx(Ut,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:`text-sm ${y.has_uppercase?"text-green-700 font-medium":"text-gray-600"}`,children:"One uppercase letter (A-Z)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y.has_lowercase?e.jsx(Jt,{className:"h-4 w-4 text-green-600 flex-shrink-0"}):e.jsx(Ut,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:`text-sm ${y.has_lowercase?"text-green-700 font-medium":"text-gray-600"}`,children:"One lowercase letter (a-z)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y.has_number?e.jsx(Jt,{className:"h-4 w-4 text-green-600 flex-shrink-0"}):e.jsx(Ut,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:`text-sm ${y.has_number?"text-green-700 font-medium":"text-gray-600"}`,children:"One number (0-9)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y.passwords_match?e.jsx(Jt,{className:"h-4 w-4 text-green-600 flex-shrink-0"}):e.jsx(Ut,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:`text-sm ${y.passwords_match?"text-green-700 font-medium":"text-gray-600"}`,children:"Passwords match"})]})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:!f||O||!!p.token,className:"w-full flex justify-center items-center px-6 py-3 rounded-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:O?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})}),e.jsx("div",{className:"text-center pt-2",children:e.jsx(re,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-700 font-medium hover:underline",children:"Back to Login"})})]}),!n&&!b&&e.jsxs("div",{className:"px-8 py-12 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:e.jsx(He,{className:"h-12 w-12 text-red-600"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or missing. Please request a new password reset."}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx(re,{to:"/forgot-password",className:"px-6 py-3 rounded-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Request New Reset Link"}),e.jsx(re,{to:"/login",className:"px-6 py-3 rounded-lg font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-all duration-200",children:"Back to Login"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help?"," ",e.jsx("a",{href:`mailto:${z.getState().system_config_state.company_email}`,className:"text-blue-600 hover:text-blue-700 font-medium hover:underline",children:"Contact Support"})]})})]})})})},tC=async(t,s)=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/addresses",{headers:{Authorization:`Bearer ${s}`}})).data,sC=()=>{const t=it(),s=z(X=>X.authentication_state.authentication_status.is_authenticated),r=z(X=>X.authentication_state.current_user),n=z(X=>X.authentication_state.auth_token),a=z(X=>X.cart_state.items),l=z(X=>X.cart_state.totals.subtotal),i=z(X=>X.cart_state.totals.delivery_fee),o=z(X=>X.cart_state.totals.discount),c=z(X=>X.cart_state.totals.total),d=z(X=>X.cart_state.selected_location),m=z(X=>X.cart_state.fulfillment_method),u=z(X=>X.cart_state.applied_discounts.loyalty_points_used),p=z(X=>X.cart_state.applied_discounts.promo_code),v=z(X=>X.location_state.location_details),b=z(X=>X.location_state.available_locations),x=z(X=>X.system_config_state.points_redemption_rate),y=z(X=>X.system_config_state.minimum_order_for_delivery),f=z(X=>X.set_delivery_fee),g=z(X=>X.apply_loyalty_points),j=z(X=>X.remove_loyalty_points),_=z(X=>X.apply_promo_code),S=z(X=>X.remove_promo_code),O=z(X=>X.show_toast),[E,T]=h.useState(""),[C,R]=h.useState(""),[H,I]=h.useState(""),[ee,P]=h.useState(!1),[Q,B]=h.useState(""),[F,w]=h.useState("collection"),[M,W]=h.useState("asap"),[G,U]=h.useState(""),[ae,Y]=h.useState(""),[N,V]=h.useState(!1),[J,ne]=h.useState(null),[K,oe]=h.useState(""),[D,le]=h.useState(""),[ue,q]=h.useState(""),[A,se]=h.useState(""),[k,me]=h.useState(""),[ge,je]=h.useState(""),[Ke,_t]=h.useState(""),[is,Pt]=h.useState(""),[xe,ot]=h.useState({}),[ys,Rr]=h.useState(!1),{data:bs=[]}=ve({queryKey:["addresses",r==null?void 0:r.user_id],queryFn:()=>tC(r.user_id,n),enabled:s&&!!r&&!!n&&F==="delivery",staleTime:6e4});h.useEffect(()=>{a.length===0&&(O("warning","Your cart is empty. Please add items before checkout."),t("/"))},[a.length,t,O]),h.useEffect(()=>{s&&r&&(T(r.email),R(`${r.first_name} ${r.last_name}`),I(r.phone_number))},[s,r]),h.useEffect(()=>{m&&w(m)},[m]),h.useEffect(()=>{F==="collection"&&!M&&(console.log("[EFFECT] Setting default pickupTimeOption to asap"),W("asap"))},[F,M]),h.useEffect(()=>{if(bs.length>0&&!J){const X=bs.find(be=>be.is_default);X&&(ne(X.address_id),V(!0),tr(X))}},[bs]),h.useEffect(()=>{u>0?Pt(String(u)):Pt("")},[u]),h.useEffect(()=>{if(F==="collection")f(0);else if(F==="delivery"&&v){const X=v.free_delivery_threshold||0;l>=X?f(0):f(Number(v.delivery_fee||0))}},[F,l,v,f]);const tr=X=>{oe(X.address_line1),le(X.address_line2||""),q(X.city),se(X.postal_code),me(X.delivery_phone||H),je(X.delivery_instructions||"")},Z=X=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X),L=X=>{const be=X.replace(/\s/g,""),De=/^\+[1-9][0-9]{9,14}$/,os=/^0[0-9]{8,9}$/;return De.test(be)||os.test(be)},ye=X=>X.length>=3&&X.length<=20,Fe=()=>{const X={};if(console.log("[VALIDATE] Starting validation..."),console.log("[VALIDATE] fulfillmentMethod:",F),console.log("[VALIDATE] pickupTimeOption:",M),E?Z(E)||(console.log("[VALIDATE] ERROR: Email format invalid"),X.customer_email="Invalid email format"):(console.log("[VALIDATE] ERROR: Email is missing"),X.customer_email="Email is required"),(!C||C.trim().length<2)&&(console.log("[VALIDATE] ERROR: Name is missing or too short"),X.customer_name="Full name is required"),H?L(H)||(console.log("[VALIDATE] ERROR: Phone format invalid"),X.customer_phone="Invalid phone number format"):(console.log("[VALIDATE] ERROR: Phone is missing"),X.customer_phone="Phone number is required"),ee&&!s&&(!Q||Q.length<8)&&(console.log("[VALIDATE] ERROR: Password too short"),X.account_password="Password must be at least 8 characters"),F==="delivery"&&(console.log("[VALIDATE] Validating delivery address..."),K||(console.log("[VALIDATE] ERROR: Address line 1 missing"),X.delivery_address_line1="Address is required"),ue||(console.log("[VALIDATE] ERROR: City missing"),X.delivery_city="City is required"),A?ye(A)||(console.log("[VALIDATE] ERROR: Postal code format invalid"),X.delivery_postal_code="Invalid postal code format"):(console.log("[VALIDATE] ERROR: Postal code missing"),X.delivery_postal_code="Postal code is required"),l<y&&(console.log("[VALIDATE] ERROR: Cart subtotal below minimum for delivery"),X.general=`Minimum order for delivery is ${y.toFixed(2)}`)),F==="collection")if(console.log("[VALIDATE] Validating collection pickup time..."),console.log("[VALIDATE] pickupTimeOption:",M),!M||M!=="asap"&&M!=="scheduled")console.log("[VALIDATE] ERROR: pickupTimeOption is invalid:",M),X.general="Please select a pickup time option (ASAP or Scheduled)";else if(M==="scheduled"){if(console.log("[VALIDATE] Validating scheduled pickup..."),G||(console.log("[VALIDATE] ERROR: Scheduled pickup date missing"),X.scheduled_pickup_date="Pickup date is required"),ae||(console.log("[VALIDATE] ERROR: Scheduled pickup time missing"),X.scheduled_pickup_time="Pickup time is required"),G&&ae){const be=new Date(`${G}T${ae}`),De=new Date(Date.now()+2*60*60*1e3);be<De&&(console.log("[VALIDATE] ERROR: Scheduled time too soon"),X.scheduled_pickup_date="Pickup must be at least 2 hours in advance")}}else console.log("[VALIDATE] ASAP pickup selected - validation passed");return console.log("[VALIDATE] Validation complete. Errors:",X),ot(X),Object.keys(X).length===0},Al=()=>{if(console.log("=== VALIDATION DEBUG ==="),console.log("fulfillmentMethod:",F),console.log("pickupTimeOption:",M),console.log("customerEmail:",E),console.log("customerName:",C),console.log("customerPhone:",H),!Fe()){console.log("Validation failed. Errors:",xe);const be=document.querySelector('[data-error="true"]');be&&be.scrollIntoView({behavior:"smooth",block:"center"});const De=Object.keys(xe);if(De.length>0){const os=De[0].replace(/_/g," ");O("error",`Please fix the following: ${os}`)}else O("error","Please fix the errors before continuing");return}console.log("Validation passed! Proceeding to payment...");const X={customer_email:E,customer_name:C,customer_phone:H,create_account:ee&&!s,account_password:ee?Q:null,fulfillment_method:F,delivery_address_line1:F==="delivery"?K:null,delivery_address_line2:F==="delivery"?D:null,delivery_city:F==="delivery"?ue:null,delivery_postal_code:F==="delivery"?A:null,delivery_phone:F==="delivery"?k||H:null,delivery_instructions:F==="delivery"?ge:null,special_instructions:Ke||null,scheduled_for:M==="scheduled"?`${G}T${ae}`:null};sessionStorage.setItem("kake_checkout_session",JSON.stringify(X)),t("/checkout/payment")},En=X=>{ne(X);const be=bs.find(De=>De.address_id===X);be&&tr(be)},Ar=X=>{if(X&&r){const be=Number(r.loyalty_points_balance||0),De=Math.floor(l*x),os=Math.min(be,De);os>0?(Pt(String(os)),g(os),O("success",`Using ${os} points for ${(os/x).toFixed(2)} discount`)):O("warning","Not enough points available")}else j(),Pt("")},d_=X=>{(X===""||/^\d+$/.test(X))&&Pt(X)},u_=()=>{if(!r)return;const X=parseInt(is)||0,be=Number(r.loyalty_points_balance||0),De=Math.floor(l*x);if(X===0){O("warning","Please enter a valid number of points");return}if(X>be){O("error",`You only have ${be} points available`);return}if(X>De){O("error",`Maximum ${De} points can be used for this order`);return}g(X);const os=(X/x).toFixed(2);O("success",`Using ${X} points for ${os} discount`)},m_=()=>{if(!v)return"Processing...";const X=Number(v.estimated_preparation_time_minutes||20),be=F==="delivery"?Number(v.estimated_delivery_time_minutes||0):0,De=X+be;return M==="scheduled"&&G&&ae?`Scheduled for ${G} at ${ae}`:new Date(Date.now()+De*6e4).toLocaleString("en-IE",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"short"})},ht=d?b.find(X=>X.location_name.toLowerCase()===d.toLowerCase())||v:null;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 lg:py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 text-white rounded-full font-semibold",children:"1"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Order Details"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-300"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-300 text-gray-600 rounded-full font-semibold",children:"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-600",children:"Payment"})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-300"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-300 text-gray-600 rounded-full font-semibold",children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-600",children:"Confirmation"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[xe.general&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start space-x-3","data-error":"true",children:[e.jsx(He,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-red-700 text-sm font-medium",children:xe.general})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(ul,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Information"})]}),s&&r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Ordering as:"})," ",r.first_name," ",r.last_name]}),e.jsx("p",{className:"text-sm text-blue-700",children:r.email}),e.jsx("p",{className:"text-sm text-blue-700",children:r.phone_number})]}),e.jsx("p",{className:"text-xs text-gray-600 italic",children:"Need to use different information? Update in your account settings after checkout."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"customer_email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"customer_email",value:E,onChange:X=>{T(X.target.value),xe.customer_email&&ot(be=>({...be,customer_email:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.customer_email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"your.email@example.com","data-error":!!xe.customer_email}),xe.customer_email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.customer_email})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"customer_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"customer_name",value:C,onChange:X=>{R(X.target.value),xe.customer_name&&ot(be=>({...be,customer_name:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.customer_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"John Doe","data-error":!!xe.customer_name}),xe.customer_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.customer_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"customer_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"customer_phone",value:H,onChange:X=>{I(X.target.value),xe.customer_phone&&ot(be=>({...be,customer_phone:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.customer_phone?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"+353 86 123 4567","data-error":!!xe.customer_phone}),xe.customer_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.customer_phone})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ee,onChange:X=>P(X.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Create an account for faster checkouts and loyalty points"})]}),ee&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"account_password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",id:"account_password",value:Q,onChange:X=>{B(X.target.value),xe.account_password&&ot(be=>({...be,account_password:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.account_password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"Minimum 8 characters","data-error":!!xe.account_password}),xe.account_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.account_password})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Te,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fulfillment Method"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[e.jsxs("label",{className:`relative flex items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${F==="collection"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"fulfillment_method",value:"collection",checked:F==="collection",onChange:()=>w("collection"),className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx(Te,{className:`w-8 h-8 mx-auto mb-2 ${F==="collection"?"text-blue-600":"text-gray-400"}`}),e.jsx("p",{className:`font-semibold ${F==="collection"?"text-blue-600":"text-gray-700"}`,children:"Collection"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pick up at store"})]})]}),e.jsxs("label",{className:`relative flex items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${F==="delivery"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"fulfillment_method",value:"delivery",checked:F==="delivery",onChange:()=>w("delivery"),className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx(gt,{className:`w-8 h-8 mx-auto mb-2 ${F==="delivery"?"text-blue-600":"text-gray-400"}`}),e.jsx("p",{className:`font-semibold ${F==="delivery"?"text-blue-600":"text-gray-700"}`,children:"Delivery"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Deliver to address"})]})]})]}),F==="collection"&&ht&&e.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Collect from:"}),e.jsx("p",{className:"text-sm text-gray-700",children:ht.location_name}),e.jsx("p",{className:"text-sm text-gray-600",children:ht.address_line1}),ht.address_line2&&e.jsx("p",{className:"text-sm text-gray-600",children:ht.address_line2}),e.jsxs("p",{className:"text-sm text-gray-600",children:[ht.city," ",ht.postal_code]})]}),e.jsxs("div",{className:xe.general&&xe.general.includes("pickup")?"border-2 border-red-300 rounded-lg p-4":"",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Pickup Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer","data-pickup-option":"asap",children:[e.jsx("input",{type:"radio",name:"pickup_time",value:"asap",checked:M==="asap",onChange:X=>{X.target.checked&&(W("asap"),ot(be=>{const De={...be};return delete De.scheduled_pickup_date,delete De.scheduled_pickup_time,De.general&&De.general.toLowerCase().includes("pickup")&&delete De.general,De}))},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500","data-testid":"pickup-asap"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["ASAP (Ready in ",Number(ht.estimated_preparation_time_minutes||20)," minutes)"]})]}),ht.allow_scheduled_pickups&&e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer","data-pickup-option":"scheduled",children:[e.jsx("input",{type:"radio",name:"pickup_time",value:"scheduled",checked:M==="scheduled",onChange:X=>{X.target.checked&&(W("scheduled"),ot(be=>{const De={...be};return De.general&&De.general.toLowerCase().includes("pickup")&&delete De.general,De}))},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500","data-testid":"pickup-scheduled"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Schedule for later"})]})]}),M==="scheduled"&&e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"pickup_date",className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"pickup_date",value:G,onChange:X=>{U(X.target.value),xe.scheduled_pickup_date&&ot(be=>({...be,scheduled_pickup_date:void 0}))},min:new Date(Date.now()+2*60*60*1e3).toISOString().split("T")[0],className:`w-full px-4 py-3 rounded-lg border-2 ${xe.scheduled_pickup_date?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,"data-error":!!xe.scheduled_pickup_date}),xe.scheduled_pickup_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.scheduled_pickup_date})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"pickup_time",className:"block text-sm font-medium text-gray-700 mb-2",children:["Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",id:"pickup_time",value:ae,onChange:X=>{Y(X.target.value),xe.scheduled_pickup_time&&ot(be=>({...be,scheduled_pickup_time:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.scheduled_pickup_time?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,"data-error":!!xe.scheduled_pickup_time}),xe.scheduled_pickup_time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.scheduled_pickup_time})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{children:["Estimated ready time: ",m_()]})]})]}),F==="delivery"&&e.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[s&&bs.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-3",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:X=>{V(X.target.checked),X.target.checked||(ne(null),oe(""),le(""),q(""),se(""),me(""),je(""))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use saved address"})]}),N&&e.jsxs("select",{value:J||"",onChange:X=>En(X.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select an address"}),bs.map(X=>e.jsxs("option",{value:X.address_id,children:[X.address_label?`${X.address_label} - `:"",X.address_line1,", ",X.city]},X.address_id))]})]}),(!N||!s)&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_address_line1",className:"block text-sm font-medium text-gray-700 mb-2",children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"delivery_address_line1",value:K,onChange:X=>{oe(X.target.value),xe.delivery_address_line1&&ot(be=>({...be,delivery_address_line1:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.delivery_address_line1?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"123 Main Street","data-error":!!xe.delivery_address_line1}),xe.delivery_address_line1&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.delivery_address_line1})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_address_line2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Apartment, Suite, etc. (Optional)"}),e.jsx("input",{type:"text",id:"delivery_address_line2",value:D,onChange:X=>le(X.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Apt 4B"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_city",className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"delivery_city",value:ue,onChange:X=>{q(X.target.value),xe.delivery_city&&ot(be=>({...be,delivery_city:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.delivery_city?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"Dublin","data-error":!!xe.delivery_city}),xe.delivery_city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.delivery_city})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"delivery_postal_code",className:"block text-sm font-medium text-gray-700 mb-2",children:["Postal Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"delivery_postal_code",value:A,onChange:X=>{se(X.target.value),xe.delivery_postal_code&&ot(be=>({...be,delivery_postal_code:void 0}))},className:`w-full px-4 py-3 rounded-lg border-2 ${xe.delivery_postal_code?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} transition-all duration-200`,placeholder:"D02 XY12","data-error":!!xe.delivery_postal_code}),xe.delivery_postal_code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:xe.delivery_postal_code})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Phone (Optional)"}),e.jsx("input",{type:"tel",id:"delivery_phone",value:k,onChange:X=>me(X.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Defaults to your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_instructions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions (Optional)"}),e.jsx("textarea",{id:"delivery_instructions",value:ge,onChange:X=>je(X.target.value),rows:2,maxLength:200,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 resize-none",placeholder:"E.g., Ring doorbell, leave at gate"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[ge.length,"/200 characters"]})]})]}),ht&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Delivery Fee:"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:l>=Number(ht.free_delivery_threshold||0)?"FREE":`${Number(ht.delivery_fee||0).toFixed(2)}`})]}),l<Number((ht==null?void 0:ht.free_delivery_threshold)||0)&&e.jsxs("p",{className:"text-xs text-gray-600 italic",children:["Add ",(Number((ht==null?void 0:ht.free_delivery_threshold)||0)-l).toFixed(2)," more for free delivery!"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Special Instructions"}),e.jsx("textarea",{id:"special_instructions",value:Ke,onChange:X=>_t(X.target.value),rows:3,maxLength:500,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 resize-none",placeholder:"Any special requests or allergy information? (Optional)"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[Ke.length,"/500 characters"]})]}),e.jsx("div",{className:"lg:hidden",children:e.jsxs("button",{onClick:()=>Rr(!ys),className:"w-full px-6 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium text-gray-900 transition-colors duration-200",children:[ys?"Hide":"Show"," Order Summary"]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx("button",{onClick:Al,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Continue to Payment"})})]}),e.jsx("div",{className:`lg:col-span-1 ${ys?"block":"hidden lg:block"}`,children:e.jsx("div",{className:"lg:sticky lg:top-24",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:a.map(X=>e.jsxs("div",{className:"flex items-center space-x-3 pb-3 border-b border-gray-100",children:[e.jsx("img",{src:X.primary_image_url,alt:X.product_name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:X.product_name}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",X.quantity]})]}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["",Number(X.subtotal||0).toFixed(2)]})]},X.product_id))}),e.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["",Number(l||0).toFixed(2)]})]}),F==="delivery"&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsx("span",{className:"font-medium text-gray-900",children:i===0?"FREE":`${Number(i||0).toFixed(2)}`})]}),s&&r&&Number(r.loyalty_points_balance||0)>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loyalty Points"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[Number(r.loyalty_points_balance||0)," available"]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-2",children:[e.jsx("input",{type:"checkbox",checked:u>0,onChange:X=>Ar(X.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Use loyalty points"})]}),u>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:is,onChange:X=>d_(X.target.value),placeholder:"Enter points",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{onClick:u_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Apply"})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Max ",Math.min(Number(r.loyalty_points_balance||0),Math.floor(l*x))," points"]}),e.jsxs("p",{className:"text-xs text-green-600",children:["Current: -",u," points (",(u/x).toFixed(2)," discount)"]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:p?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-green-900",children:["Code: ",p]}),e.jsx("p",{className:"text-xs text-green-700",children:"Discount applied"})]}),e.jsx("button",{onClick:()=>{S(),O("info","Promo code removed")},className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"Remove"})]}):e.jsxs("div",{children:[e.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",id:"promo_code",placeholder:"Enter code",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-sm",onKeyDown:X=>{if(X.key==="Enter"){const be=X.target.value.trim().toUpperCase();be&&(_(be),O("success","Promo code applied!"))}}}),e.jsx("button",{onClick:()=>{const X=document.getElementById("promo_code"),be=X==null?void 0:X.value.trim().toUpperCase();be&&(_(be),O("success","Promo code applied!"))},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors duration-200",children:"Apply"})]})]})}),o>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"font-medium",children:["-",Number(o||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 border-t-2 border-gray-300 pt-4 mt-4",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["",Number(c||0).toFixed(2)]})]})]}),e.jsx("div",{className:"hidden lg:block mt-6",children:e.jsx("button",{onClick:Al,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Continue to Payment"})})]})})})]})]})})})},rC=()=>{const t=it(),s=z(D=>D.cart_state.items),r=z(D=>D.cart_state.selected_location),n=z(D=>D.cart_state.totals),a=z(D=>D.cart_state.applied_discounts),l=z(D=>D.authentication_state.current_user),i=z(D=>D.authentication_state.auth_token),o=z(D=>D.show_loading),c=z(D=>D.hide_loading),d=z(D=>D.show_toast),m=z(D=>D.clear_cart),u=z(D=>D.register_user),p=z(D=>D.apply_promo_code),v=z(D=>D.remove_promo_code),[b,x]=h.useState(null),[y]=h.useState("card"),[f,g]=h.useState(""),[j,_]=h.useState(!0),[S,O]=h.useState({address_line1:"",address_line2:"",city:"",postal_code:""}),[E,T]=h.useState(""),[C,R]=h.useState(""),[H,I]=h.useState(""),[,ee]=h.useState(null),[P,Q]=h.useState(!1),[B,F]=h.useState(null),[w,M]=h.useState(""),[W,G]=h.useState(!1),[U,ae]=h.useState(null),Y=ie.create({baseURL:"https://123build-an-online-web-application.launchpulse.ai/api",headers:{"Content-Type":"application/json"}});i&&(Y.defaults.headers.common.Authorization=`Bearer ${i}`),h.useEffect(()=>{const D=sessionStorage.getItem("kake_checkout_session");if(!D){d("error","Please complete order details first"),t("/checkout");return}try{const le=JSON.parse(D);x(le),g(le.customer_name),le.fulfillment_method==="delivery"&&le.delivery_address_line1&&O({address_line1:le.delivery_address_line1,address_line2:le.delivery_address_line2||"",city:le.delivery_city||"",postal_code:le.delivery_postal_code||""})}catch(le){console.error("Failed to parse session data:",le),d("error","Invalid session data. Please start again."),t("/checkout")}},[t,d]),h.useEffect(()=>{s.length===0&&(d("error","Your cart is empty"),t("/"))},[s,t,d]),h.useEffect(()=>{a.promo_code&&M(a.promo_code)},[a.promo_code]);const N=we({mutationFn:async D=>(await Y.post("/orders",D)).data,onSuccess:D=>{ee(D.order_id)},onError:D=>{var ue,q;const le=((q=(ue=D.response)==null?void 0:ue.data)==null?void 0:q.message)||"Failed to create order";F(le),c(),d("error",le)}}),V=we({mutationFn:async D=>(await Y.put(`/orders/${D.order_id}/confirm-payment`,D.payload)).data}),J=async()=>{var D,le;if(!w.trim()){ae("Please enter a promo code");return}G(!0),ae(null);try{const ue=await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/promo-codes/validate",{code:w.trim(),order_total:n.subtotal,location_name:r});if(ue.data.is_valid){const q=ue.data.discount_amount||0;console.log("[PROMO] API returned valid promo with discount:",q),console.log("[PROMO] Current cart subtotal:",n.subtotal),console.log("[PROMO] Full API response:",ue.data),p(w.trim().toUpperCase(),q),d("success",ue.data.message||"Promo code applied!"),ae(null)}else console.log("[PROMO] API returned invalid promo:",ue.data.message),ae(ue.data.message||"Invalid promo code")}catch(ue){ae(((le=(D=ue.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to validate promo code")}finally{G(!1)}},ne=()=>{v(),M(""),ae(null),d("info","Promo code removed")},K=()=>{if(!f.trim())return F("Cardholder name is required"),!1;if(!E||E.length<13)return F("Please enter a valid card number"),!1;if(!C||!/^\d{2}\/\d{2}$/.test(C))return F("Please enter expiry date (MM/YY)"),!1;if(!H||H.length<3)return F("Please enter valid CVV"),!1;if(!j){if(!S.address_line1.trim())return F("Billing address is required"),!1;if(!S.city.trim())return F("Billing city is required"),!1;if(!S.postal_code.trim())return F("Billing postal code is required"),!1}return F(null),!0},oe=async()=>{var D,le;if(!b){d("error","Session data missing"),t("/checkout");return}if(K()){Q(!0),F(null),o("Processing your payment...");try{const ue={user_id:(l==null?void 0:l.user_id)||null,customer_email:b.customer_email,customer_name:b.customer_name,customer_phone:b.customer_phone,location_name:r||"",order_type:"standard",fulfillment_method:b.fulfillment_method,delivery_address_line1:b.delivery_address_line1||null,delivery_address_line2:b.delivery_address_line2||null,delivery_city:b.delivery_city||null,delivery_postal_code:b.delivery_postal_code||null,delivery_phone:b.delivery_phone||null,delivery_instructions:b.delivery_instructions||null,special_instructions:b.special_instructions||null,scheduled_for:b.scheduled_time||null,promo_code:a.promo_code||null,payment_method:y,loyalty_points_used:a.loyalty_points_used||0,items:s.map(me=>({product_id:me.product_id,quantity:me.quantity,product_specific_notes:null}))},A=(await N.mutateAsync(ue)).order_id;await new Promise(me=>setTimeout(me,1500));const se=`txn_${Date.now()}`,k=E.slice(-4);if(await V.mutateAsync({order_id:A,payload:{payment_transaction_id:se,card_last_four:k}}),b.create_account&&b.account_password)try{const me=b.customer_name.trim().split(" "),ge=me[0]||b.customer_name,je=me.slice(1).join(" ")||"";await u({email:b.customer_email,password:b.account_password,first_name:ge,last_name:je,phone_number:b.customer_phone,marketing_opt_in:!1}),d("success","Account created successfully!")}catch(me){console.error("Account creation failed:",me),d("warning","Order placed, but account creation failed. Please register separately.")}m(),sessionStorage.removeItem("kake_checkout_session"),c(),Q(!1),t(`/order-confirmation/${A}`)}catch(ue){console.error("Order placement error:",ue);const q=((le=(D=ue.response)==null?void 0:D.data)==null?void 0:le.message)||"Payment processing failed. Please try again.";F(q),Q(!1),c(),d("error",q)}}};return b?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 md:py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center text-sm font-semibold",children:""}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:"Details"})]}),e.jsx("div",{className:"flex-1 h-0.5 bg-blue-600 max-w-[100px]"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-semibold",children:"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:"Payment"})]}),e.jsx("div",{className:"flex-1 h-0.5 bg-gray-300 max-w-[100px]"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold",children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-500",children:"Confirmation"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Method"}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"border-2 border-blue-600 rounded-lg p-4 bg-blue-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"payment-card",name:"payment-method",checked:!0,readOnly:!0,className:"h-5 w-5 text-blue-600 focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"payment-card",className:"ml-3 flex items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Credit / Debit Card"}),e.jsxs("div",{className:"ml-3 flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Visa"}),e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Mastercard"}),e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Amex"})]})]})]})})}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("span",{className:"font-medium",children:"Secure payment powered by industry-standard encryption"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Card Details"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cardholder-name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cardholder Name"}),e.jsx("input",{type:"text",id:"cardholder-name",value:f,onChange:D=>{g(D.target.value),F(null)},placeholder:"Name as it appears on card",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"card-number",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Card Number"}),e.jsx("input",{type:"text",id:"card-number",value:E,onChange:D=>{const le=D.target.value.replace(/\D/g,"");T(le.slice(0,16)),F(null)},placeholder:"1234 5678 9012 3456",maxLength:16,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 font-mono"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"card-expiry",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expiry Date"}),e.jsx("input",{type:"text",id:"card-expiry",value:C,onChange:D=>{let le=D.target.value.replace(/\D/g,"");le.length>=2&&(le=le.slice(0,2)+"/"+le.slice(2,4)),R(le),F(null)},placeholder:"MM/YY",maxLength:5,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"card-cvc",className:"block text-sm font-semibold text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",id:"card-cvc",value:H,onChange:D=>{const le=D.target.value.replace(/\D/g,"");I(le.slice(0,4)),F(null)},placeholder:"123",maxLength:4,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 font-mono"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Billing Address"}),b.fulfillment_method==="delivery"&&e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:D=>_(D.target.checked),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-3 text-base font-medium text-gray-700",children:"Same as delivery address"})]})}),!j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-address-line1",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address Line 1"}),e.jsx("input",{type:"text",id:"billing-address-line1",value:S.address_line1,onChange:D=>{O(le=>({...le,address_line1:D.target.value})),F(null)},placeholder:"Street address",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"billing-address-line2",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address Line 2 ",e.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.jsx("input",{type:"text",id:"billing-address-line2",value:S.address_line2,onChange:D=>O(le=>({...le,address_line2:D.target.value})),placeholder:"Apartment, suite, etc.",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-city",className:"block text-sm font-semibold text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",id:"billing-city",value:S.city,onChange:D=>{O(le=>({...le,city:D.target.value})),F(null)},placeholder:"City",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-postal-code",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Postal Code"}),e.jsx("input",{type:"text",id:"billing-postal-code",value:S.postal_code,onChange:D=>{O(le=>({...le,postal_code:D.target.value})),F(null)},placeholder:"Postal code",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]})]})]})]}),B&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-red-800",children:"Payment Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:B})]})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 lg:p-8 sticky top-24",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),e.jsxs("div",{className:"space-y-4 mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Customer"}),e.jsx("p",{className:"text-base text-gray-900",children:b.customer_name}),e.jsx("p",{className:"text-sm text-gray-600",children:b.customer_email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Fulfillment"}),e.jsx("p",{className:"text-base text-gray-900 capitalize",children:b.fulfillment_method}),b.fulfillment_method==="delivery"&&b.delivery_address_line1&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[b.delivery_address_line1,b.delivery_address_line2&&`, ${b.delivery_address_line2}`,e.jsx("br",{}),b.delivery_city,", ",b.delivery_postal_code]})]})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Items (",s.length,")"]}),e.jsx("div",{className:"space-y-3",children:s.map(D=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[D.quantity,"x"]}),e.jsx("span",{className:"text-gray-900",children:D.product_name})]}),e.jsxs("span",{className:"text-gray-900 font-semibold",children:["",Number(D.subtotal||0).toFixed(2)]})]},D.product_id))})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Have a promo code?"}),a.promo_code?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:a.promo_code})]}),e.jsx("button",{onClick:ne,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Remove"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:w,onChange:D=>{M(D.target.value.toUpperCase()),ae(null)},placeholder:"Enter code",className:"flex-1 px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-200 text-sm uppercase",disabled:W}),e.jsx("button",{onClick:J,disabled:W||!w.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:W?e.jsx("span",{className:"flex items-center",children:e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):"Apply"})]}),U&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:U})]})]}),e.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-base text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["",Number(n.subtotal||0).toFixed(2)]})]}),n.delivery_fee>0&&e.jsxs("div",{className:"flex justify-between text-base text-gray-700",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{className:"font-medium",children:["",Number(n.delivery_fee||0).toFixed(2)]})]}),n.discount>0&&e.jsxs("div",{className:"flex justify-between text-base text-green-700",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"font-medium",children:["-",Number(n.discount||0).toFixed(2)]})]}),a.loyalty_points_used>0&&e.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[e.jsxs("span",{children:["Loyalty Points (",a.loyalty_points_used," pts)"]}),e.jsxs("span",{className:"font-medium",children:["-",Number(a.loyalty_points_used/100||0).toFixed(2)]})]}),a.promo_code&&a.promo_code_discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-700",children:[e.jsxs("span",{children:["Promo Code (",a.promo_code,")"]}),e.jsxs("span",{className:"font-medium",children:["-",Number(a.promo_code_discount||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",Number(n.total||0).toFixed(2)]})]}),e.jsx("button",{onClick:oe,disabled:P||!f||!E||!C||!H,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 px-6 rounded-lg font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-blue-100","data-testid":"place-order-button","aria-label":`Place order for total of ${Number(n.total||0).toFixed(2)}`,children:P?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Payment..."]}):Number(n.total||0)===0?"Place Order (Free)":`Place Order & Pay ${Number(n.total||0).toFixed(2)}`}),e.jsx("button",{onClick:()=>t("/checkout"),disabled:P,className:"w-full mt-3 bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-6 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to Details"}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{children:"Your payment is secure and encrypted"})]})})]})})]})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading checkout..."})]})})})},nC=async t=>{const r=await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${t}`),{items:n,...a}=r.data;return{order:a,items:n||[]}},aC=()=>{const{order_id:t}=ma(),s=it(),r=z(y=>y.authentication_state.current_user),n=z(y=>y.authentication_state.authentication_status.is_authenticated),a=z(y=>y.clear_cart),[l,i]=h.useState(!1),[o,c]=h.useState(!1),{data:d,isLoading:m,error:u}=ve({queryKey:["order-confirmation",t],queryFn:()=>nC(t),enabled:!!t,retry:1,staleTime:6e4,select:y=>({order:{...y.order,subtotal:Number(y.order.subtotal||0),delivery_fee:Number(y.order.delivery_fee||0),discount_amount:Number(y.order.discount_amount||0),tax_amount:Number(y.order.tax_amount||0),total_amount:Number(y.order.total_amount||0),loyalty_points_used:Number(y.order.loyalty_points_used||0),loyalty_points_earned:Number(y.order.loyalty_points_earned||0)},items:y.items.map(f=>({...f,price_at_purchase:Number(f.price_at_purchase||0),quantity:Number(f.quantity||0),subtotal:Number(f.subtotal||0)}))})}),p=d==null?void 0:d.order,v=(d==null?void 0:d.items)||[];h.useEffect(()=>{t||s("/",{replace:!0})},[t,s]),h.useEffect(()=>{if(p&&(a(),i(!0),r&&p.user_id===r.user_id)){const y=new Date(r.created_at),f=new Date(p.created_at);Math.abs(f.getTime()-y.getTime())<6e4&&c(!0)}},[p,a,r]),h.useEffect(()=>{u&&s("/",{replace:!0})},[u,s]);const b=y=>new Date(y).toLocaleString("en-IE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=y=>new Date(y).toLocaleTimeString("en-IE",{hour:"2-digit",minute:"2-digit"});return m?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 text-lg font-medium",children:"Loading your order confirmation..."})]})})}):p?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[l&&e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-6 animate-bounce",children:e.jsx(ut,{className:"w-16 h-16 text-green-600"})}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:"Order Confirmed!"}),e.jsxs("p",{className:"text-xl text-gray-700 mb-2",children:["Thank you, ",p.customer_name,"!"]}),e.jsx("p",{className:"text-gray-600",children:"Your order has been successfully placed and confirmed."}),e.jsxs("div",{className:"mt-6 inline-block bg-white rounded-xl shadow-lg px-8 py-4 border-2 border-blue-500",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["#",p.order_number]})]})]}),o&&e.jsx("div",{className:"mb-6 bg-green-50 border-2 border-green-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ut,{className:"w-6 h-6 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-1",children:"Welcome to Kake!"}),e.jsxs("p",{className:"text-green-700",children:["Your account has been created successfully. You can now log in with ",p.customer_email," to track orders and earn loyalty points."]})]})]})}),e.jsx("div",{className:"mb-8 bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:e.jsxs("p",{className:"text-blue-800",children:["Confirmation has been sent to ",e.jsx("strong",{children:p.customer_email})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden mb-8",children:[e.jsxs("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Order Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Nr,{className:"w-5 h-5 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:b(p.created_at)})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(tv,{className:"w-5 h-5 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsxs("p",{className:"text-base font-medium text-gray-900",children:[p.payment_method==="card"?"Card":p.payment_method," ending in ",p.card_last_four||"****"]})]})]})]})]}),e.jsxs("div",{className:"p-6 lg:p-8 border-b border-gray-200 bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:p.fulfillment_method==="delivery"?"Delivery Information":"Collection Information"}),p.fulfillment_method==="delivery"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(gt,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Delivery Address"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:p.delivery_address_line1}),p.delivery_address_line2&&e.jsx("p",{className:"text-base text-gray-700",children:p.delivery_address_line2}),e.jsxs("p",{className:"text-base text-gray-700",children:[p.delivery_city,", ",p.delivery_postal_code]}),p.delivery_instructions&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Instructions:"})," ",p.delivery_instructions]})]})]}),p.estimated_ready_time&&e.jsxs("div",{className:"bg-blue-100 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["Estimated Delivery Time: ",x(p.estimated_ready_time)]}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"We'll notify you when your order is out for delivery."})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Te,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pickup Location"}),e.jsx("p",{className:"text-base font-medium text-gray-900",children:p.location_name})]})]}),p.estimated_ready_time&&e.jsxs("div",{className:"bg-green-100 border border-green-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["Estimated Ready Time: ",x(p.estimated_ready_time)]}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"We'll notify you when your order is ready for pickup."})]}),p.collection_code&&e.jsxs("div",{className:"bg-white border-2 border-blue-500 rounded-xl p-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Collection Code"}),e.jsx("p",{className:"text-4xl font-bold text-blue-600 tracking-wider mb-3",children:p.collection_code}),e.jsx("p",{className:"text-sm text-gray-600",children:"Show this code when picking up your order"})]})]}),p.special_instructions&&e.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("span",{className:"font-medium",children:"Special Instructions:"})," ",p.special_instructions]})})]}),e.jsxs("div",{className:"p-6 lg:p-8 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-4",children:v.map(y=>e.jsxs("div",{className:"flex justify-between items-start py-3 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-base font-medium text-gray-900",children:y.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",y.quantity]}),y.product_specific_notes&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 italic",children:["Note: ",y.product_specific_notes]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("p",{className:"text-base font-medium text-gray-900",children:["",y.subtotal.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["",y.price_at_purchase.toFixed(2)," each"]})]})]},y.item_id))})]}),e.jsxs("div",{className:"p-6 lg:p-8 bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Price Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-base text-gray-700",children:"Subtotal"}),e.jsxs("p",{className:"text-base font-medium text-gray-900",children:["",p.subtotal.toFixed(2)]})]}),p.delivery_fee>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-base text-gray-700",children:"Delivery Fee"}),e.jsxs("p",{className:"text-base font-medium text-gray-900",children:["",p.delivery_fee.toFixed(2)]})]}),p.delivery_fee===0&&p.fulfillment_method==="delivery"&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-base text-green-700 font-medium",children:"Delivery Fee"}),e.jsx("p",{className:"text-base font-medium text-green-700",children:"FREE"})]}),p.discount_amount>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-base text-green-700",children:["Discount",p.promo_code&&e.jsxs("span",{className:"ml-2 text-sm font-medium",children:["(",p.promo_code,")"]})]}),e.jsxs("p",{className:"text-base font-medium text-green-700",children:["-",p.discount_amount.toFixed(2)]})]}),p.loyalty_points_used>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-base text-purple-700",children:["Loyalty Points Used (",p.loyalty_points_used," points)"]}),e.jsx("p",{className:"text-base font-medium text-purple-700",children:"Included in discount"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-gray-300",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:"Total"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",p.total_amount.toFixed(2)]})]})]})]}),p.loyalty_points_earned>0&&n&&e.jsx("div",{className:"p-6 lg:p-8 border-t border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(u6,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["You Earned ",p.loyalty_points_earned," Loyalty Points!"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Points will be added to your account when your order is completed"})]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 lg:p-8 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What Happens Next?"}),e.jsx("div",{className:"space-y-4",children:p.fulfillment_method==="collection"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),e.jsx("p",{className:"text-gray-700 pt-1",children:"We'll start preparing your order right away"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),e.jsxs("p",{className:"text-gray-700 pt-1",children:["You'll receive a notification when your order is ready for pickup at ",p.location_name]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),e.jsxs("p",{className:"text-gray-700 pt-1",children:["Show your collection code ",e.jsx("strong",{children:p.collection_code})," when picking up"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),e.jsx("p",{className:"text-gray-700 pt-1",children:"We'll start preparing your order right away"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),e.jsx("p",{className:"text-gray-700 pt-1",children:"You'll receive a notification when your order is out for delivery"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),e.jsxs("p",{className:"text-gray-700 pt-1",children:["Your order will be delivered to ",p.delivery_address_line1]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(re,{to:`/orders/${p.order_id}`,className:"inline-flex items-center justify-center px-8 py-4 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Te,{className:"w-5 h-5 mr-2"}),"Track Your Order"]}),e.jsxs(re,{to:"/",className:"inline-flex items-center justify-center px-8 py-4 bg-gray-100 text-gray-900 rounded-xl font-semibold hover:bg-gray-200 border border-gray-300 transition-all duration-200",children:["Continue Shopping",e.jsx(Zb,{className:"w-5 h-5 ml-2"})]})]}),o&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx(re,{to:"/account",className:"text-blue-600 hover:text-blue-700 font-medium text-sm underline",children:"Set up your profile to save addresses and track orders "})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help with your order?"," ",e.jsx("a",{href:`mailto:${p.customer_email}?subject=Order%20${p.order_number}%20Support`,className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Contact us"})]})})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Order not found"}),e.jsx(re,{to:"/",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:"Return to Home"})]})})})},lC=()=>{const[t,s]=nt(),r=it(),n=yt(),a=z(L=>L.authentication_state.current_user),l=z(L=>L.authentication_state.auth_token),i=z(L=>L.show_toast),o=z(L=>L.show_confirmation),c=z(L=>L.hide_confirmation),d=z(L=>L.add_to_cart),m=z(L=>L.set_cart_location),u=z(L=>L.update_user_profile),p=t.get("tab")||"overview",[v,b]=h.useState({order_status:null,date_from:null,date_to:null,location_name:null}),[x,y]=h.useState({transaction_type:null,date_from:null,date_to:null}),[f,g]=h.useState(!1),[j,_]=h.useState({first_name:(a==null?void 0:a.first_name)||"",last_name:(a==null?void 0:a.last_name)||"",phone_number:(a==null?void 0:a.phone_number)||"",marketing_opt_in:(a==null?void 0:a.marketing_opt_in)||!1}),[S,O]=h.useState(!1),[E,T]=h.useState({current_password:"",new_password:"",confirm_password:""}),[C,R]=h.useState(!1),[H,I]=h.useState(null),[ee,P]=h.useState({address_label:"",address_line1:"",address_line2:"",city:"",postal_code:"",delivery_phone:"",delivery_instructions:"",is_default:!1}),B=ie.create({baseURL:"https://123build-an-online-web-application.launchpulse.ai/api",headers:{"Content-Type":"application/json",...l&&{Authorization:`Bearer ${l}`}}}),{data:F,isLoading:w}=ve({queryKey:["recent-orders",a==null?void 0:a.user_id],queryFn:async()=>(await B.get("/orders",{params:{user_id:a==null?void 0:a.user_id,limit:5,sort_by:"created_at",sort_order:"desc"}})).data,enabled:p==="overview"&&!!(a!=null&&a.user_id),staleTime:6e4}),M=h.useMemo(()=>((F==null?void 0:F.data)||[]).map(L=>({...L,subtotal:Number(L.subtotal||0),delivery_fee:Number(L.delivery_fee||0),discount_amount:Number(L.discount_amount||0),tax_amount:Number(L.tax_amount||0),total_amount:Number(L.total_amount||0),loyalty_points_used:Number(L.loyalty_points_used||0),loyalty_points_earned:Number(L.loyalty_points_earned||0)})),[F]),{data:W,isLoading:G}=ve({queryKey:["all-orders",a==null?void 0:a.user_id,v],queryFn:async()=>(await B.get("/orders",{params:{user_id:a==null?void 0:a.user_id,order_status:v.order_status||void 0,date_from:v.date_from||void 0,date_to:v.date_to||void 0,location_name:v.location_name||void 0,limit:20,sort_by:"created_at",sort_order:"desc"}})).data,enabled:p==="orders"&&!!(a!=null&&a.user_id),staleTime:3e4}),U=h.useMemo(()=>((W==null?void 0:W.data)||[]).map(L=>({...L,subtotal:Number(L.subtotal||0),delivery_fee:Number(L.delivery_fee||0),discount_amount:Number(L.discount_amount||0),tax_amount:Number(L.tax_amount||0),total_amount:Number(L.total_amount||0),loyalty_points_used:Number(L.loyalty_points_used||0),loyalty_points_earned:Number(L.loyalty_points_earned||0)})),[W]),{data:ae,isLoading:Y}=ve({queryKey:["loyalty-transactions",a==null?void 0:a.user_id,x],queryFn:async()=>(await B.get("/loyalty-points/transactions",{params:{transaction_type:x.transaction_type||void 0,date_from:x.date_from||void 0,date_to:x.date_to||void 0,limit:50,sort_by:"created_at",sort_order:"desc"}})).data,enabled:p==="loyalty_points"&&!!(a!=null&&a.user_id),staleTime:6e4}),N=h.useMemo(()=>((ae==null?void 0:ae.data)||[]).map(L=>({...L,points_change:Number(L.points_change||0),balance_after:Number(L.balance_after||0)})),[ae]),{data:V,isLoading:J,refetch:ne}=ve({queryKey:["addresses",a==null?void 0:a.user_id],queryFn:async()=>{var ye;const L=await B.get("/addresses");return Array.isArray(L.data)?L.data:((ye=L.data)==null?void 0:ye.data)||[]},enabled:p==="addresses"&&!!(a!=null&&a.user_id),staleTime:6e4}),K=V||[],{data:oe,isLoading:D}=ve({queryKey:["customer-feedback",a==null?void 0:a.user_id],queryFn:async()=>(await B.get("/feedback/customer",{params:{limit:20,sort_by:"created_at",sort_order:"desc"}})).data,enabled:p==="feedback"&&!!(a!=null&&a.user_id),staleTime:6e4}),le=h.useMemo(()=>((oe==null?void 0:oe.data)||[]).map(L=>({...L,overall_rating:Number(L.overall_rating||0),product_rating:Number(L.product_rating||0),fulfillment_rating:Number(L.fulfillment_rating||0)})),[oe]),ue=we({mutationFn:async L=>(await B.put("/users/me",L)).data,onSuccess:L=>{u(L),g(!1),i("success","Profile updated successfully"),n.invalidateQueries({queryKey:["recent-orders"]}),n.invalidateQueries({queryKey:["all-orders"]})},onError:L=>{var ye,Fe;i("error",((Fe=(ye=L.response)==null?void 0:ye.data)==null?void 0:Fe.message)||"Failed to update profile")}}),q=we({mutationFn:async L=>(await B.post("/users/me/change-password",L)).data,onSuccess:()=>{O(!1),T({current_password:"",new_password:"",confirm_password:""}),i("success","Password changed successfully")},onError:L=>{var ye,Fe;i("error",((Fe=(ye=L.response)==null?void 0:ye.data)==null?void 0:Fe.message)||"Failed to change password")}}),A=we({mutationFn:async L=>(await B.post("/addresses",{...L,user_id:a==null?void 0:a.user_id})).data,onSuccess:()=>{R(!1),ot(),i("success","Address added successfully"),ne()},onError:L=>{var ye,Fe;i("error",((Fe=(ye=L.response)==null?void 0:ye.data)==null?void 0:Fe.message)||"Failed to add address")}}),se=we({mutationFn:async({address_id:L,data:ye})=>(await B.put(`/addresses/${L}`,ye)).data,onSuccess:()=>{I(null),ot(),i("success","Address updated successfully"),ne()},onError:L=>{var ye,Fe;i("error",((Fe=(ye=L.response)==null?void 0:ye.data)==null?void 0:Fe.message)||"Failed to update address")}}),k=we({mutationFn:async L=>(await B.delete(`/addresses/${L}`)).data,onSuccess:()=>{i("success","Address deleted successfully"),ne()},onError:L=>{var ye,Fe;i("error",((Fe=(ye=L.response)==null?void 0:ye.data)==null?void 0:Fe.message)||"Failed to delete address")}}),me=L=>{s({tab:L})},ge=L=>{L.preventDefault(),ue.mutate(j)},je=L=>{if(L.preventDefault(),E.new_password!==E.confirm_password){i("error","Passwords do not match");return}if(E.new_password.length<8){i("error","Password must be at least 8 characters");return}q.mutate({current_password:E.current_password,new_password:E.new_password})},Ke=L=>{L.preventDefault(),H?se.mutate({address_id:H,data:ee}):A.mutate(ee)},_t=L=>{o({title:"Delete Address",message:"Are you sure you want to delete this address?",confirm_text:"Delete",cancel_text:"Cancel",on_confirm:()=>{k.mutate(L),c()},on_cancel:()=>{c()},danger_action:!0})},is=L=>{se.mutate({address_id:L,data:{is_default:!0}})},Pt=async L=>{var ye,Fe;try{const En=(await B.get(`/orders/${L}`)).data;En.items&&Array.isArray(En.items)&&(m(En.location_name),En.items.forEach(Ar=>{d({product_id:Ar.product_id,product_name:Ar.product_name,price:Number(Ar.price_at_purchase||0),quantity:Number(Ar.quantity||0),subtotal:Number(Ar.price_at_purchase||0)*Number(Ar.quantity||0),primary_image_url:""})}),i("success","Items added to cart!"),r(`/location/${En.location_name}/menu`))}catch(Al){i("error",((Fe=(ye=Al.response)==null?void 0:ye.data)==null?void 0:Fe.message)||"Failed to reorder")}},xe=L=>{I(L.address_id),P({address_label:L.address_label||"",address_line1:L.address_line1,address_line2:L.address_line2||"",city:L.city,postal_code:L.postal_code,delivery_phone:L.delivery_phone||"",delivery_instructions:L.delivery_instructions||"",is_default:L.is_default}),R(!0)},ot=()=>{P({address_label:"",address_line1:"",address_line2:"",city:"",postal_code:"",delivery_phone:"",delivery_instructions:"",is_default:!1}),I(null)},ys=L=>new Date(L).toLocaleDateString("en-IE",{year:"numeric",month:"long",day:"numeric"}),Rr=L=>`${L.toFixed(2)}`,bs=L=>{const Fe={pending_payment:{label:"Pending Payment",color:"bg-gray-100 text-gray-800"},paid_awaiting_confirmation:{label:"Awaiting Confirmation",color:"bg-blue-50 text-blue-700"},payment_confirmed:{label:"Confirmed",color:"bg-blue-100 text-blue-800"},accepted_in_preparation:{label:"In Preparation",color:"bg-yellow-100 text-yellow-800"},preparing:{label:"Preparing",color:"bg-yellow-100 text-yellow-800"},ready_for_collection:{label:"Ready",color:"bg-green-100 text-green-800"},out_for_delivery:{label:"Out for Delivery",color:"bg-purple-100 text-purple-800"},collected:{label:"Collected",color:"bg-green-100 text-green-800"},delivered:{label:"Delivered",color:"bg-green-100 text-green-800"},completed:{label:"Completed",color:"bg-green-100 text-green-800"},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800"}}[L]||{label:L,color:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Fe.color}`,children:Fe.label})},tr=L=>Array.from({length:5},(ye,Fe)=>e.jsx(Es,{className:`h-4 w-4 ${Fe<L?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Fe)),Z=[{id:"overview",label:"Overview",icon:$m},{id:"profile",label:"Profile",icon:ul},{id:"orders",label:"Orders",icon:Te},{id:"loyalty_points",label:"Loyalty Points",icon:Es},{id:"addresses",label:"Addresses",icon:gt},{id:"feedback",label:"Feedback",icon:Ps}];return a?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Account"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",a.first_name,"!"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Loyalty Points"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Number(a.loyalty_points_balance||0).toLocaleString()})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[e.jsx("div",{className:"hidden lg:block lg:col-span-3",children:e.jsx("nav",{className:"space-y-1",children:Z.map(L=>{const ye=L.icon;return e.jsxs("button",{onClick:()=>me(L.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${p===L.id?"bg-purple-50 text-purple-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(ye,{className:"h-5 w-5 mr-3"}),L.label]},L.id)})})}),e.jsx("div",{className:"lg:hidden mb-6",children:e.jsx("select",{value:p,onChange:L=>me(L.target.value),className:"block w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100",children:Z.map(L=>e.jsx("option",{value:L.id,children:L.label},L.id))})}),e.jsxs("div",{className:"lg:col-span-9",children:[p==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-lg p-3",children:e.jsx(Te,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(W==null?void 0:W.total)||0})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-lg p-3",children:e.jsx(Es,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Loyalty Points"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Number(a.loyalty_points_balance||0).toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-lg p-3",children:e.jsx(dl,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Points Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Rr(Number(a.loyalty_points_balance||0)/100)})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Orders"}),e.jsx("button",{onClick:()=>me("orders"),className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:"View all"})]})}),w?e.jsx("div",{className:"p-6 space-y-4",children:[1,2,3].map(L=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"})},L))}):M.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No orders yet"}),e.jsxs(re,{to:"/",className:"mt-4 inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:["Start Shopping",e.jsx(xr,{className:"h-4 w-4 ml-1"})]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:M.map(L=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:L.order_number}),bs(L.order_status)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L.location_name,"  ",ys(L.created_at)]}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:Rr(L.total_amount)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(re,{to:`/orders/${L.order_id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs("button",{onClick:()=>Pt(L.order_id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Reorder"]})]})]})},L.order_id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(re,{to:"/favorites",className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all text-left",children:[e.jsx(gr,{className:"h-8 w-8 text-purple-600 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"My Favorites"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View saved products"})]}),e.jsxs("button",{onClick:()=>me("addresses"),className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all text-left",children:[e.jsx(gt,{className:"h-8 w-8 text-purple-600 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Manage Addresses"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[K.length," saved address",K.length!==1?"es":""]})]}),e.jsxs("button",{onClick:()=>me("loyalty_points"),className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all text-left",children:[e.jsx(Es,{className:"h-8 w-8 text-purple-600 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Loyalty Points"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[Number(a.loyalty_points_balance||0).toLocaleString()," points available"]})]})]})]}),p==="profile"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"})}),f?e.jsxs("form",{onSubmit:ge,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",id:"first_name",value:j.first_name,onChange:L=>_({...j,first_name:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",id:"last_name",value:j.last_name,onChange:L=>_({...j,last_name:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone_number",value:j.phone_number,onChange:L=>_({...j,phone_number:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:j.marketing_opt_in,onChange:L=>_({...j,marketing_opt_in:L.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Receive marketing emails"})]})}),e.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:ue.isPending,className:"flex-1 inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-all disabled:opacity-50",children:ue.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Bt,{className:"h-5 w-5 mr-2"}),"Save Changes"]})}),e.jsxs("button",{type:"button",onClick:()=>g(!1),className:"flex-1 inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Ee,{className:"h-5 w-5 mr-2"}),"Cancel"]})]})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("p",{className:"text-base text-gray-900",children:a.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("p",{className:"text-base text-gray-900",children:a.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-base text-gray-900",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("p",{className:"text-base text-gray-900",children:a.phone_number})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.marketing_opt_in,disabled:!0,className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Receive marketing emails"})]})}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsxs("button",{onClick:()=>{_({first_name:a.first_name,last_name:a.last_name,phone_number:a.phone_number,marketing_opt_in:a.marketing_opt_in}),g(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:[e.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsxs("button",{onClick:()=>O(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(pp,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})]})]}),p==="orders"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order History"})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:v.order_status||"",onChange:L=>b({...v,order_status:L.target.value||null}),className:"rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"payment_confirmed",children:"Confirmed"}),e.jsx("option",{value:"paid_awaiting_confirmation",children:"Awaiting Confirmation"}),e.jsx("option",{value:"accepted_in_preparation",children:"In Preparation"}),e.jsx("option",{value:"ready_for_collection",children:"Ready"}),e.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("select",{value:v.location_name||"",onChange:L=>b({...v,location_name:L.target.value||null}),className:"rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100",children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"Blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"Tallaght",children:"Tallaght"}),e.jsx("option",{value:"Glasnevin",children:"Glasnevin"})]}),e.jsx("input",{type:"date",value:v.date_from||"",onChange:L=>b({...v,date_from:L.target.value||null}),placeholder:"From Date",className:"rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"}),e.jsx("input",{type:"date",value:v.date_to||"",onChange:L=>b({...v,date_to:L.target.value||null}),placeholder:"To Date",className:"rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"})]})}),G?e.jsx("div",{className:"p-6 space-y-4",children:[1,2,3,4].map(L=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"})},L))}):U.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No orders found"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:U.map(L=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:L.order_number}),bs(L.order_status)]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[L.location_name,"  ",L.fulfillment_method==="delivery"?"Delivery":"Collection"]}),e.jsx("p",{className:"text-sm text-gray-600",children:ys(L.created_at)}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-2",children:Rr(L.total_amount)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(re,{to:`/orders/${L.order_id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"View Details"]}),!L.feedback_submitted&&L.order_status==="completed"&&e.jsxs(re,{to:`/feedback/order/${L.order_id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Leave Feedback"]}),e.jsxs("button",{onClick:()=>Pt(L.order_id),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Reorder"]})]})]})},L.order_id))})]}),p==="loyalty_points"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-800 rounded-xl shadow-lg p-8 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-200 text-sm font-medium mb-2",children:"Your Balance"}),e.jsx("p",{className:"text-5xl font-bold",children:Number(a.loyalty_points_balance||0).toLocaleString()}),e.jsxs("p",{className:"text-purple-200 text-sm mt-2",children:["Worth ",Rr(Number(a.loyalty_points_balance||0)/100)]})]}),e.jsx(Es,{className:"h-16 w-16 text-purple-300"})]}),e.jsx("div",{className:"bg-purple-700/50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-purple-100",children:"Earn 10 points for every 1 spent  Redeem 100 points for 1 off"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Points History"})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"transaction_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Type"}),e.jsxs("select",{id:"transaction_type",value:x.transaction_type||"",onChange:L=>y({...x,transaction_type:L.target.value||null}),className:"w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"earned",children:"Earned"}),e.jsx("option",{value:"redeemed",children:"Redeemed"}),e.jsx("option",{value:"manual_adjustment",children:"Manual Adjustment"}),e.jsx("option",{value:"expired",children:"Expired"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"loyalty_date_from",className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",id:"loyalty_date_from",value:x.date_from||"",onChange:L=>y({...x,date_from:L.target.value||null}),className:"w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"loyalty_date_to",className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",id:"loyalty_date_to",value:x.date_to||"",onChange:L=>y({...x,date_to:L.target.value||null}),className:"w-full rounded-lg border-gray-300 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"})]})]}),(x.transaction_type||x.date_from||x.date_to)&&e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>y({transaction_type:null,date_from:null,date_to:null}),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-purple-700 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(Ee,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})})]}),Y?e.jsx("div",{className:"p-6 space-y-4",children:[1,2,3].map(L=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})},L))}):N.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Es,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No transactions found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:x.transaction_type||x.date_from||x.date_to?"Try adjusting your filters":"Start ordering to earn points!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-gray-200",children:N.map(L=>e.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.description}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${L.transaction_type==="earned"?"bg-green-100 text-green-800":L.transaction_type==="redeemed"?"bg-blue-100 text-blue-800":L.transaction_type==="expired"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.transaction_type.replace("_"," ")})]}),e.jsx("p",{className:"text-xs text-gray-600",children:ys(L.created_at)})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-lg font-bold ${L.points_change>0?"text-green-600":"text-red-600"}`,children:[L.points_change>0?"+":"",L.points_change]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Balance: ",L.balance_after]})]})]},L.transaction_id))}),(ae==null?void 0:ae.total)!==void 0&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Showing ",N.length," of ",ae.total," transaction",ae.total!==1?"s":""]})})]})]})]}),p==="addresses"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Saved Addresses"}),e.jsxs("button",{onClick:()=>{ot(),R(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Add Address"]})]}),C&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:H?"Edit Address":"New Address"}),e.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_label",className:"block text-sm font-medium text-gray-700 mb-2",children:"Label (optional)"}),e.jsx("input",{type:"text",id:"address_label",value:ee.address_label,onChange:L=>P({...ee,address_label:L.target.value}),placeholder:"e.g., Home, Work",className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_line1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 1 *"}),e.jsx("input",{type:"text",id:"address_line1",value:ee.address_line1,onChange:L=>P({...ee,address_line1:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address_line2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 2"}),e.jsx("input",{type:"text",id:"address_line2",value:ee.address_line2,onChange:L=>P({...ee,address_line2:L.target.value}),className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",id:"city",value:ee.city,onChange:L=>P({...ee,city:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),e.jsx("input",{type:"text",id:"postal_code",value:ee.postal_code,onChange:L=>P({...ee,postal_code:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Phone"}),e.jsx("input",{type:"tel",id:"delivery_phone",value:ee.delivery_phone,onChange:L=>P({...ee,delivery_phone:L.target.value}),className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_instructions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions"}),e.jsx("textarea",{id:"delivery_instructions",value:ee.delivery_instructions,onChange:L=>P({...ee,delivery_instructions:L.target.value}),rows:3,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:ee.is_default,onChange:L=>P({...ee,is_default:L.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Set as default address"})]})}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:A.isPending||se.isPending,className:"flex-1 inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-all disabled:opacity-50",children:A.isPending||se.isPending?"Saving...":H?"Update Address":"Add Address"}),e.jsx("button",{type:"button",onClick:()=>{R(!1),ot()},className:"flex-1 inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),J?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(L=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"})},L))}):K.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx(x6,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No saved addresses"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:K.map(L=>e.jsxs("div",{className:`bg-white rounded-xl shadow-lg border p-6 ${L.is_default?"border-purple-300 ring-2 ring-purple-100":"border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[L.address_label&&e.jsx("p",{className:"text-sm font-semibold text-purple-600 mb-1",children:L.address_label}),L.is_default&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mb-2",children:[e.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Default"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>xe(L),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Edit address",children:e.jsx(Pi,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>_t(L.address_id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors","aria-label":"Delete address",children:e.jsx(cl,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("p",{children:L.address_line1}),L.address_line2&&e.jsx("p",{children:L.address_line2}),e.jsxs("p",{children:[L.city,", ",L.postal_code]}),L.delivery_phone&&e.jsxs("p",{className:"text-gray-600",children:["Phone: ",L.delivery_phone]}),L.delivery_instructions&&e.jsx("p",{className:"text-gray-600 mt-2 italic",children:L.delivery_instructions})]}),!L.is_default&&e.jsx("button",{onClick:()=>is(L.address_id),className:"mt-4 w-full text-sm text-purple-600 hover:text-purple-700 font-medium",children:"Set as Default"})]},L.address_id))})]}),p==="feedback"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Feedback"})}),D?e.jsx("div",{className:"p-6 space-y-4",children:[1,2].map(L=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"})},L))}):le.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Ps,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No feedback submitted yet"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:le.map(L=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Order ",L.order_number]}),e.jsx("p",{className:"text-xs text-gray-600",children:ys(L.created_at)})]}),e.jsx("div",{className:"flex items-center space-x-1",children:tr(L.overall_rating)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"Product:"}),e.jsx("div",{className:"flex items-center space-x-1",children:tr(L.product_rating)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"Service:"}),e.jsx("div",{className:"flex items-center space-x-1",children:tr(L.fulfillment_rating)})]})]}),L.overall_comment&&e.jsx("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700",children:L.overall_comment})})]})]},L.feedback_id))})]})]})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),e.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ee,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:je,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",id:"current_password",value:E.current_password,onChange:L=>T({...E,current_password:L.target.value}),required:!0,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",id:"new_password",value:E.new_password,onChange:L=>T({...E,new_password:L.target.value}),required:!0,minLength:8,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirm_password",value:E.confirm_password,onChange:L=>T({...E,confirm_password:L.target.value}),required:!0,minLength:8,className:"block w-full rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 px-4 py-3"})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:q.isPending,className:"flex-1 inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-all disabled:opacity-50",children:q.isPending?"Updating...":"Update Password"}),e.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex-1 inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your account"}),e.jsx(re,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})})},iC=async(t,s,r)=>{const n={headers:{},params:{}};s?n.headers.Authorization=`Bearer ${s}`:r&&(n.params.token=r);const a=await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${t}`,n),l={...a.data,fulfillment_method:a.data.fulfillment_method,subtotal:Number(a.data.subtotal||0),delivery_fee:Number(a.data.delivery_fee||0),discount_amount:Number(a.data.discount_amount||0),tax_amount:Number(a.data.tax_amount||0),total_amount:Number(a.data.total_amount||0),loyalty_points_earned:Number(a.data.loyalty_points_earned||0),loyalty_points_used:Number(a.data.loyalty_points_used||0)},i=a.data.items.map(c=>({...c,price_at_purchase:Number(c.price_at_purchase||0),quantity:Number(c.quantity||0),subtotal:Number(c.subtotal||0)})),o=a.data.status_history||[];return{order_details:l,order_items:i,status_history:o}},oC=async(t,s,r)=>{const n=await ie.post(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${t}/cancel`,{reason:r},{headers:{Authorization:`Bearer ${s}`}});return{...n.data,fulfillment_method:n.data.fulfillment_method,subtotal:Number(n.data.subtotal||0),delivery_fee:Number(n.data.delivery_fee||0),discount_amount:Number(n.data.discount_amount||0),tax_amount:Number(n.data.tax_amount||0),total_amount:Number(n.data.total_amount||0),loyalty_points_earned:Number(n.data.loyalty_points_earned||0),loyalty_points_used:Number(n.data.loyalty_points_used||0)}},If=t=>({pending_payment:"gray",payment_confirmed:"yellow",preparing:"blue",ready_for_collection:"green",out_for_delivery:"blue",collected:"green",delivered:"green",completed:"green",failed_delivery:"orange",cancelled:"red",refunded:"orange"})[t]||"gray",Zd=t=>({pending_payment:"Pending Payment",payment_confirmed:"Payment Confirmed",preparing:"Preparing Your Order",ready_for_collection:"Ready for Pickup",out_for_delivery:"Out for Delivery",collected:"Collected",delivered:"Delivered",completed:"Completed",failed_delivery:"Delivery Failed",cancelled:"Cancelled",refunded:"Refunded"})[t]||t,$f=t=>new Date(t).toLocaleString("en-IE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),cC=t=>new Date(t).toLocaleTimeString("en-IE",{hour:"2-digit",minute:"2-digit"}),dC=t=>{const s=new Date,n=new Date(t).getTime()-s.getTime();if(n<=0)return"Any moment now";const a=Math.ceil(n/6e4);if(a<60)return`${a} minutes`;const l=Math.floor(a/60),i=a%60;return i===0?`${l} hour${l>1?"s":""}`:`${l}h ${i}m`},uC=t=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200">
      <rect width="200" height="200" fill="white"/>
      <text x="100" y="100" font-size="24" text-anchor="middle" fill="black">${t}</text>
    </svg>`)}`,mC=()=>{var F,w;const{order_id:t}=ma(),[s]=nt(),r=s.get("token"),n=z(M=>M.authentication_state.current_user),a=z(M=>M.authentication_state.auth_token),l=z(M=>M.websocket_state.socket),i=z(M=>M.websocket_state.is_connected),o=z(M=>M.join_order_room),c=z(M=>M.leave_order_room),d=z(M=>M.show_toast),[m,u]=h.useState(!0),[p,v]=h.useState(""),[b,x]=h.useState(!1),{data:y,isLoading:f,error:g,refetch:j}=ve({queryKey:["order",t,r],queryFn:()=>iC(t||"",a,r),enabled:!!t,staleTime:3e4,refetchInterval:m?3e4:!1,refetchIntervalInBackground:!1,select:M=>({...M,can_cancel_order:M.order_details.order_status==="pending_payment"||M.order_details.order_status==="payment_confirmed"})}),_=y==null?void 0:y.order_details,S=(y==null?void 0:y.order_items)||[],O=(y==null?void 0:y.status_history)||[],E=(y==null?void 0:y.can_cancel_order)||!1,T=we({mutationFn:M=>{if(!a)throw new Error("Must be logged in to cancel order");return oC(t||"",a,M)},onSuccess:()=>{d("success","Order cancelled successfully"),x(!1),v(""),j()},onError:M=>{var G,U;const W=((U=(G=M.response)==null?void 0:G.data)==null?void 0:U.message)||"Failed to cancel order";d("error",W)}});h.useEffect(()=>{if(t&&l&&i){o(t);const M=W=>{W.order_id===t&&(d("info",`Order status updated: ${Zd(W.new_status)}`),j())};return l.on("order_status_changed",M),()=>{l.off("order_status_changed",M),c(t)}}},[t,l,i,o,c,j,d]),h.useEffect(()=>{_&&["completed","collected","delivered","cancelled","refunded"].includes(_.order_status)&&u(!1)},[_==null?void 0:_.order_status]);const C=()=>{x(!0)},R=()=>{if(!p.trim()){d("error","Please provide a reason for cancellation");return}T.mutate(p)},H=()=>{x(!1),v("")},I=()=>{j(),d("info","Refreshing order status...")};if(f)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading order details..."})]})]})})})});if(g){const W=((w=(F=g.response)==null?void 0:F.data)==null?void 0:w.message)||"Order not found";return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6",children:e.jsx(He,{className:"h-10 w-10 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unable to Load Order"}),e.jsx("p",{className:"text-gray-600 mb-6",children:W}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:I,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"}),e.jsx(re,{to:"/",className:"px-6 py-3 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Back to Home"})]})]})})})})})}if(!_)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gray-100 mb-6",children:e.jsx(Te,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the order you're looking for."}),e.jsx(re,{to:"/",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Back to Home"})]})})})})});const ee=If(_.order_status),P=Zd(_.order_status),Q={gray:"bg-gray-100 text-gray-800 border-gray-300",yellow:"bg-yellow-100 text-yellow-800 border-yellow-300",blue:"bg-blue-100 text-blue-800 border-blue-300",green:"bg-green-100 text-green-800 border-green-300",orange:"bg-orange-100 text-orange-800 border-orange-300",red:"bg-red-100 text-red-800 border-red-300"},B=Q[ee]||Q.gray;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:py-12",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Order ",_.order_number]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Placed ",$f(_.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:I,disabled:f,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors disabled:opacity-50","aria-label":"Refresh order status",children:e.jsx(ts,{className:`w-5 h-5 ${f?"animate-spin":""}`})}),e.jsx("div",{className:`px-4 py-2 rounded-lg border-2 font-semibold ${B}`,children:P})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:`w-2 h-2 rounded-full ${m?"bg-green-500 animate-pulse":"bg-gray-400"}`})}),e.jsx("span",{className:"text-sm text-gray-700",children:m?"Auto-refreshing every 30 seconds":"Auto-refresh paused"})]}),e.jsx("button",{onClick:()=>u(!m),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:m?"Disable":"Enable"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Progress"}),e.jsx("div",{className:"space-y-4",role:"list","aria-label":"Order status timeline",children:O.map((M,W)=>{const G=W===O.length-1,U=If(M.new_status);return e.jsxs("div",{className:"flex gap-4",role:"listitem",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center
                        ${G?"bg-blue-600 ring-4 ring-blue-100":U==="green"?"bg-green-500":"bg-gray-300"}
                      `,children:e.jsx(ut,{className:`w-6 h-6 ${G||U==="green"?"text-white":"text-gray-600"}`})}),W<O.length-1&&e.jsx("div",{className:"w-0.5 h-full min-h-[40px] bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-8",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-4 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:Zd(M.new_status)}),e.jsx("span",{className:"text-sm text-gray-500",children:cC(M.changed_at)})]}),M.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.notes}),M.changed_by_name&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Updated by ",M.changed_by_name]})]})]},M.history_id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[_.fulfillment_method==="delivery"?e.jsx(na,{className:"w-5 h-5 text-blue-600 mt-0.5"}):e.jsx(Te,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fulfillment Method"}),e.jsx("p",{className:"text-gray-900 font-medium",children:_.fulfillment_method==="delivery"?"Delivery":"Collection"})]})]}),_.fulfillment_method==="delivery"?e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(gt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Delivery Address"}),e.jsx("p",{className:"text-gray-900",children:_.delivery_address_line1}),_.delivery_address_line2&&e.jsx("p",{className:"text-gray-900",children:_.delivery_address_line2}),e.jsxs("p",{className:"text-gray-900",children:[_.delivery_city,", ",_.delivery_postal_code]}),_.delivery_instructions&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Instructions:"})," ",_.delivery_instructions]})]})]}):e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(gt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pickup Location"}),e.jsx("p",{className:"text-gray-900 font-medium",children:_.location_name})]})]}),_.estimated_ready_time&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:_.fulfillment_method==="delivery"?"Estimated Delivery":"Estimated Ready Time"}),e.jsx("p",{className:"text-gray-900 font-medium",children:$f(_.estimated_ready_time)}),e.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:dC(_.estimated_ready_time)})]})]}),_.special_instructions&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Lt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Special Instructions"}),e.jsx("p",{className:"text-gray-900",children:_.special_instructions})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Customer Contact"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(kr,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`tel:${_.customer_phone}`,className:"text-blue-600 hover:text-blue-700",children:_.customer_phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(wr,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`mailto:${_.customer_email}`,className:"text-blue-600 hover:text-blue-700",children:_.customer_email})]})]})]})]})]}),_.fulfillment_method==="collection"&&_.collection_code&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl shadow-lg p-6 lg:p-8 border-2 border-green-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-600 mb-4",children:e.jsx(j6,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Your Collection Code"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Show this code when collecting your order"}),e.jsx("div",{className:"bg-white rounded-lg p-6 mb-4 border-2 border-green-300",children:e.jsx("p",{className:"text-4xl font-bold text-green-700 tracking-wider",children:_.collection_code})}),e.jsx("img",{src:uC(_.collection_code),alt:`QR code for collection: ${_.collection_code}`,className:"mx-auto w-48 h-48 bg-white p-2 rounded-lg border border-gray-200"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Items"}),e.jsx("div",{className:"space-y-4 mb-6",children:S.map(M=>e.jsxs("div",{className:"flex items-start gap-4 py-4 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:M.product_name}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",M.quantity,"  ",Number(M.price_at_purchase||0).toFixed(2)]}),M.product_specific_notes&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Note: ",M.product_specific_notes]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-semibold text-gray-900",children:["",Number(M.subtotal||0).toFixed(2)]})})]},M.item_id))}),e.jsxs("div",{className:"border-t-2 border-gray-200 pt-6 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["",Number(_.subtotal||0).toFixed(2)]})]}),Number(_.delivery_fee||0)>0&&e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{children:["",Number(_.delivery_fee||0).toFixed(2)]})]}),Number(_.discount_amount||0)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",Number(_.discount_amount||0).toFixed(2)]})]}),Number(_.tax_amount||0)>0&&e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["",Number(_.tax_amount||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-2 border-t border-gray-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["",Number(_.total_amount||0).toFixed(2)]})]}),Number(_.loyalty_points_earned||0)>0&&e.jsxs("div",{className:"flex justify-between text-sm text-purple-600 bg-purple-50 px-3 py-2 rounded-lg",children:[e.jsx("span",{children:"Loyalty Points Earned"}),e.jsxs("span",{className:"font-semibold",children:["+",Number(_.loyalty_points_earned||0).toFixed(0)," points"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E&&e.jsx("button",{onClick:C,disabled:T.isPending,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:T.isPending?"Cancelling...":"Cancel Order"}),e.jsx(re,{to:"/",className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium text-center",children:"Back to Home"}),n&&e.jsx(re,{to:"/account?tab=orders",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-center",children:"View All Orders"})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Need Help?"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("a",{href:`tel:${_.customer_phone}`,className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-600",children:e.jsx(kr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Call Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:_.customer_phone})]})]}),e.jsxs("a",{href:`mailto:${_.customer_email}`,className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-600",children:e.jsx(wr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:_.customer_email})]})]})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:H,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",onClick:M=>M.stopPropagation(),role:"dialog","aria-labelledby":"cancel-modal-title","aria-describedby":"cancel-modal-description",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{id:"cancel-modal-title",className:"text-xl font-bold text-gray-900",children:"Cancel Order?"}),e.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:e.jsx(Ee,{className:"w-6 h-6"})})]}),e.jsxs("p",{id:"cancel-modal-description",className:"text-gray-600 mb-4",children:["Are you sure you want to cancel order ",_.order_number,"? This action cannot be undone."]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:"cancel-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for cancellation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"cancel-reason",value:p,onChange:M=>v(M.target.value),rows:3,required:!0,placeholder:"Please tell us why you're cancelling...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:H,disabled:T.isPending,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"Keep Order"}),e.jsx("button",{onClick:R,disabled:T.isPending||!p.trim(),className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:T.isPending?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Cancelling..."]}):"Cancel Order"})]})]})})]})},hC=["Fresh","Delicious","Great Value","Fast Service","Friendly Staff","Perfect Packaging"],pC=["Late","Wrong Item","Poor Quality","Cold","Missing Items","Damaged"],xC=async(t,s,r)=>{const n="https://123build-an-online-web-application.launchpulse.ai",a={params:s?{token:s}:void 0};r&&(a.headers={Authorization:`Bearer ${r}`});const i=(await ie.get(`${n}/api/orders/${t}`,a)).data;if(!["completed","delivered","collected"].includes(i.order_status))throw new Error("Order must be completed to submit feedback");if(i.feedback_submitted===!0)throw new Error("Feedback already submitted for this order");return i},fC=async(t,s)=>{const r="https://123build-an-online-web-application.launchpulse.ai",n={};return s&&(n.headers={Authorization:`Bearer ${s}`}),(await ie.post(`${r}/api/feedback/customer`,t,n)).data},eu=({rating:t,onRatingChange:s,label:r,required:n=!1})=>{const[a,l]=h.useState(0);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900",children:[r,n&&e.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(i=>e.jsx("button",{type:"button",onClick:()=>s(i),onMouseEnter:()=>l(i),onMouseLeave:()=>l(0),className:"focus:outline-none focus:ring-2 focus:ring-blue-500 rounded transition-transform hover:scale-110",children:e.jsx(Es,{className:`w-8 h-8 transition-colors ${i<=(a||t)?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300"}`})},i)),t>0&&e.jsxs("span",{className:"ml-2 text-sm text-gray-600 font-medium",children:[t," / 5"]})]})]})},qf=({tag:t,selected:s,onToggle:r})=>e.jsx("button",{type:"button",onClick:()=>r(t),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${s?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,children:t}),gC=()=>{var w,M;const t=it(),{order_id:s}=ma(),[r]=nt(),n=r.get("token"),a=z(W=>W.authentication_state.current_user),l=z(W=>W.authentication_state.auth_token),i=z(W=>W.show_toast),[o,c]=h.useState(0),[d,m]=h.useState(0),[u,p]=h.useState(0),[v,b]=h.useState(""),[x,y]=h.useState(""),[f,g]=h.useState(""),[j,_]=h.useState([]),[S,O]=h.useState(!1),[E,T]=h.useState(!1),[C]=h.useState(25),{data:R,isLoading:H,error:I}=ve({queryKey:["order-feedback",s,n],queryFn:()=>xC(s,n,l),enabled:!!s,retry:1,staleTime:0}),ee=we({mutationFn:W=>fC(W,l),onSuccess:()=>{T(!0),i("success",`Feedback submitted! You earned +${C} loyalty points`),setTimeout(()=>{t(a?"/account?tab=feedback":`/orders/${s}`)},3e3)},onError:W=>{var U,ae;const G=((ae=(U=W.response)==null?void 0:U.data)==null?void 0:ae.message)||W.message||"Failed to submit feedback. Please try again.";i("error",G)}}),P=W=>{if(W.preventDefault(),o===0||d===0||u===0){i("error","Please provide all three ratings");return}const G={order_id:s,user_id:(a==null?void 0:a.user_id)||null,overall_rating:o,product_rating:d,fulfillment_rating:u,product_comment:v.trim()||null,fulfillment_comment:x.trim()||null,overall_comment:f.trim()||null,quick_tags:j.length>0?j.join(","):null,allow_contact:S};ee.mutate(G)},Q=W=>{_(G=>G.includes(W)?G.filter(U=>U!==W):[...G,W])};if(h.useEffect(()=>{if(I){const W=I.message||"Failed to load order";W.includes("already submitted")?(i("info","Feedback already submitted for this order"),setTimeout(()=>{t(a?"/account?tab=feedback":"/")},2e3)):W.includes("must be completed")?(i("error","Can only submit feedback for completed orders"),setTimeout(()=>{t("/")},2e3)):(i("error","Order not found"),setTimeout(()=>{t("/")},2e3))}},[I,t,a,i]),H)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qn,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading order details..."})]})});if(I||!R)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full",children:[e.jsx(He,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Unable to Load Order"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:(I==null?void 0:I.message)||"Order not found or invalid"}),e.jsx(re,{to:"/",className:"block w-full bg-blue-600 text-white text-center py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Return Home"})]})});if(E)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 py-12 px-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"mb-6 animate-bounce",children:e.jsx(ut,{className:"w-20 h-20 text-green-600 mx-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Thank You!"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Your feedback has been submitted successfully"}),a&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-blue-900 font-semibold text-lg",children:["+",C," Loyalty Points Earned!"]}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Thank you for taking the time to share your feedback"})]}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting you back in a moment..."})]})});const B=o>0&&d>0&&u>0,F=ee.isPending;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(re,{to:a?"/account?tab=orders":`/orders/${s}`,className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium mb-4 transition-colors",children:[e.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Back to Order"]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Share Your Experience"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Help us improve by sharing your feedback"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Order ",R.order_number]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[R.location_name,"  ",R.fulfillment_method==="delivery"?"Delivery":"Collection"]}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Completed: ",new Date(R.completed_at||R.created_at).toLocaleDateString("en-IE",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",Number(R.total_amount||0).toFixed(2)]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[((w=R.items)==null?void 0:w.length)||0," item",((M=R.items)==null?void 0:M.length)!==1?"s":""]})]})]})}),e.jsxs("form",{onSubmit:P,className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-200 pb-3",children:"Rate Your Experience"}),e.jsx(eu,{rating:o,onRatingChange:c,label:"Overall Experience",required:!0}),e.jsx(eu,{rating:d,onRatingChange:m,label:"Product Quality",required:!0}),e.jsx(eu,{rating:u,onRatingChange:p,label:R.fulfillment_method==="delivery"?"Delivery Service":"Collection Service",required:!0})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-200 pb-3",children:["Tell Us More",e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(Optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"product_comment",className:"block text-sm font-medium text-gray-900 mb-2",children:"How were the products?"}),e.jsx("textarea",{id:"product_comment",value:v,onChange:W=>b(W.target.value),maxLength:1e3,rows:3,placeholder:"Tell us about the taste, freshness, presentation...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[v.length," / 1000"]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"fulfillment_comment",className:"block text-sm font-medium text-gray-900 mb-2",children:["How was the ",R.fulfillment_method==="delivery"?"delivery":"collection"," experience?"]}),e.jsx("textarea",{id:"fulfillment_comment",value:x,onChange:W=>y(W.target.value),maxLength:1e3,rows:3,placeholder:R.fulfillment_method==="delivery"?"Tell us about the delivery time, driver, packaging...":"Tell us about the pickup process, wait time, staff...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[x.length," / 1000"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"overall_comment",className:"block text-sm font-medium text-gray-900 mb-2",children:"Any other comments?"}),e.jsx("textarea",{id:"overall_comment",value:f,onChange:W=>g(W.target.value),maxLength:1e3,rows:4,placeholder:"Share any additional thoughts about your experience...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[f.length," / 1000"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-200 pb-3",children:["Quick Feedback Tags",e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(Optional)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"What did you love?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:hC.map(W=>e.jsx(qf,{tag:W,selected:j.includes(W),onToggle:Q},W))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"What could be improved?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:pC.map(W=>e.jsx(qf,{tag:W,selected:j.includes(W),onToggle:Q},W))})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:W=>O(W.target.checked),className:"mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Allow us to contact you about your feedback"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"We may reach out to better understand your experience and resolve any issues"})]})]})}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[!B&&e.jsx("p",{className:"text-sm text-amber-600 mb-4 text-center",children:"Please provide all three ratings to submit your feedback"}),e.jsx("button",{type:"submit",disabled:!B||F,className:"w-full bg-blue-600 text-white py-4 rounded-lg font-semibold text-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl disabled:hover:shadow-lg",children:F?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Qn,{className:"w-5 h-5 animate-spin mr-2"}),"Submitting Feedback..."]}):"Submit Feedback"}),a&&e.jsxs("p",{className:"text-center text-sm text-green-700 font-medium mt-4",children:[" You'll earn +",C," loyalty points for your feedback!"]})]})]})]})})})},yC=()=>{const t=it(),s=yt(),r=z(f=>f.authentication_state.current_user),n=z(f=>f.authentication_state.auth_token),a=z(f=>f.authentication_state.authentication_status.is_authenticated),l=z(f=>f.show_toast),i=z(f=>f.add_to_cart),o=z(f=>f.cart_state.selected_location),d=ie.create({baseURL:"https://123build-an-online-web-application.launchpulse.ai/api",headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}}),{data:m=[],isLoading:u,refetch:p}=ve({queryKey:["favorites",r==null?void 0:r.user_id],queryFn:async()=>(await d.get("/favorites")).data,enabled:!!(r!=null&&r.user_id)&&a}),v=we({mutationFn:async f=>{await d.delete(`/favorites/${f}`)},onSuccess:()=>{s.invalidateQueries({queryKey:["favorites",r==null?void 0:r.user_id]}),l("info","Removed from favorites")},onError:f=>{var g,j;l("error",((j=(g=f.response)==null?void 0:g.data)==null?void 0:j.message)||"Failed to remove from favorites")}}),b=f=>{v.mutate(f)},x=f=>{if(!o){l("info","Please select a location first"),t("/");return}i({product_id:f.product_id,product_name:f.product_name,price:Number(f.product_price),quantity:1,subtotal:Number(f.product_price),primary_image_url:f.product_image_url}),l("success","Added to cart!")},y=f=>`${f.toFixed(2)}`;return!a||!r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(gr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Log In"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to view your favorites"}),e.jsx(re,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Go to Login"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Favorites"}),e.jsxs("p",{className:"text-gray-600",children:[m.length," ",m.length===1?"item":"items"," saved"]})]}),u?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(f=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]})},f))}):m.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx(gr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Favorites Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start adding products to your favorites to see them here"}),e.jsxs(re,{to:"/",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:[e.jsx(Te,{className:"h-5 w-5 mr-2"}),"Browse Products"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:f.product_image_url,alt:f.product_name,className:"w-full h-full object-cover",onError:g=>{g.target.src="https://images.unsplash.com/photo-1555507036-ab1f4038808a"}}),e.jsx("button",{onClick:()=>b(f.favorite_id),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-lg hover:bg-red-50 transition-all group","aria-label":"Remove from favorites",children:e.jsx(gr,{className:"h-5 w-5 fill-red-500 text-red-500 group-hover:fill-white group-hover:text-red-600"})}),f.availability_status!=="in_stock"&&e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:f.product_name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:f.product_category})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:y(Number(f.product_price))})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>x(f),disabled:f.availability_status!=="in_stock",className:`flex-1 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg transition-colors ${f.availability_status==="in_stock"?"text-white bg-purple-600 hover:bg-purple-700":"text-gray-400 bg-gray-100 cursor-not-allowed"}`,children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),e.jsx(re,{to:`/location/${o||"london-flagship"}/product/${f.product_id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"View"})]})]})]},f.favorite_id))})]})})},bC=async(t,s)=>{const r=new URLSearchParams;return t.location_name&&r.append("location_name",t.location_name),t.order_status&&r.append("order_status",t.order_status),t.date_from&&r.append("date_from",t.date_from),t.date_to&&r.append("date_to",t.date_to),t.search&&r.append("search",t.search),t.fulfillment_method&&r.append("fulfillment_method",t.fulfillment_method),t.limit&&r.append("limit",t.limit.toString()),t.sort_by&&r.append("sort_by",t.sort_by),t.sort_order&&r.append("sort_order",t.sort_order),(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/orders?${r.toString()}`,{headers:{Authorization:`Bearer ${s}`}})).data},vC=async(t,s)=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,jC=async(t,s,r)=>(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${t}/status`,s,{headers:{Authorization:`Bearer ${r}`}})).data,_C=t=>{if(!t)return!1;const s=new Date(t),r=new Date;return s.getDate()===r.getDate()&&s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear()},zf=t=>{const s=Date.now(),r=new Date(t.created_at).getTime(),n=(s-r)/(1e3*60);return t.order_status==="payment_confirmed"&&n>15||t.order_status==="preparing"&&n>30},NC=t=>new Date(t).toLocaleTimeString("en-IE",{hour:"2-digit",minute:"2-digit",hour12:!1}),tu=t=>new Date(t).toLocaleString("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),Bf=t=>({payment_confirmed:"bg-yellow-100 text-yellow-800 border-yellow-200",preparing:"bg-blue-100 text-blue-800 border-blue-200",ready_for_collection:"bg-green-100 text-green-800 border-green-200",out_for_delivery:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-gray-100 text-gray-800 border-gray-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[t]||"bg-gray-100 text-gray-800 border-gray-200",Bl=t=>({payment_confirmed:"Awaiting Confirmation",preparing:"In Preparation",ready_for_collection:"Ready for Pickup",out_for_delivery:"Out for Delivery",completed:"Completed",cancelled:"Cancelled"})[t]||t,wC=()=>{var J,ne;const[t,s]=nt(),r=yt(),n=z(K=>K.authentication_state.current_user),a=z(K=>K.authentication_state.auth_token),l=z(K=>K.show_toast),[i,o]=h.useState(null),[c,d]=h.useState(!1),[m,u]=h.useState(""),[p,v]=h.useState(""),b=t.get("status")||null,x=t.get("location")||null,y=t.get("date")||"today",f=t.get("fulfillment")||null,g=t.get("search")||"",j=h.useMemo(()=>{if(n&&"assigned_locations"in n&&Array.isArray(n.assigned_locations)){const K=n.assigned_locations;return K.length>0?K:["London Flagship"]}return["London Flagship"]},[n]),_=x||j[0],{dateFrom:S,dateTo:O}=h.useMemo(()=>{const K=new Date;let oe,D=K.toISOString();if(y==="today")oe=new Date(K.getFullYear(),K.getMonth(),K.getDate()).toISOString();else if(y==="yesterday"){const le=new Date(K.getTime()-864e5);oe=new Date(le.getFullYear(),le.getMonth(),le.getDate()).toISOString(),D=new Date(le.getFullYear(),le.getMonth(),le.getDate(),23,59,59).toISOString()}else y==="last_7_days"?oe=new Date(K.getTime()-7*24*60*60*1e3).toISOString():oe=new Date(K.getFullYear(),K.getMonth(),K.getDate()).toISOString();return{dateFrom:oe,dateTo:D}},[y]),{data:E,isLoading:T,error:C,refetch:R}=ve({queryKey:["staff-orders",_,b,S,O,g,f],queryFn:()=>bC({location_name:_,order_status:b&&b!=="ready_out"?b:void 0,date_from:S,date_to:O,search:g||void 0,fulfillment_method:f||void 0,limit:50,sort_by:"created_at",sort_order:"asc"},a||""),enabled:!!a&&!!_,refetchInterval:3e4,staleTime:0}),H=(E==null?void 0:E.data)||[],I=h.useMemo(()=>({awaiting_confirmation:H.filter(K=>K.order_status==="payment_confirmed").length,in_preparation:H.filter(K=>K.order_status==="preparing").length,ready_collection:H.filter(K=>K.order_status==="ready_for_collection").length,out_for_delivery:H.filter(K=>K.order_status==="out_for_delivery").length,completed_today:H.filter(K=>K.order_status==="completed"&&_C(K.completed_at)).length}),[H]),ee=h.useMemo(()=>H.filter(zf).length,[H]),{data:P,isLoading:Q}=ve({queryKey:["order-detail",i],queryFn:()=>vC(i,a||""),enabled:!!i&&!!a}),B=we({mutationFn:({order_id:K,payload:oe})=>jC(K,oe,a||""),onSuccess:K=>{r.invalidateQueries({queryKey:["staff-orders"]}),r.invalidateQueries({queryKey:["order-detail",K.order_id]}),l("success",`Order status updated to ${Bl(K.order_status)}`),v(""),u("")},onError:K=>{var oe,D;l("error",((D=(oe=K.response)==null?void 0:oe.data)==null?void 0:D.message)||"Failed to update order status")}}),F=(K,oe)=>{const D=new URLSearchParams(t);oe?D.set(K,oe):D.delete(K),s(D)},w=K=>{o(K),d(!0)},M=()=>{d(!1),o(null),v(""),u("")},W=()=>{!i||!p||B.mutate({order_id:i,payload:{order_status:p,notes:m||void 0}})},G=()=>{window.print()},U=(K,oe)=>{B.mutate({order_id:K,payload:{order_status:oe}})},ae=K=>({payment_confirmed:["preparing","cancelled"],preparing:["ready_for_collection","out_for_delivery","cancelled"],ready_for_collection:["completed"],out_for_delivery:["completed","failed_delivery"]})[K]||[],Y=b==="payment_confirmed"?"awaiting_confirmation":b==="preparing"?"in_preparation":b==="ready_out"?"ready_out":b==="completed"?"completed_today":b||"awaiting_confirmation",N=[{id:"awaiting_confirmation",label:"Awaiting Confirmation",count:I.awaiting_confirmation,status_filter:"payment_confirmed"},{id:"in_preparation",label:"In Preparation",count:I.in_preparation,status_filter:"preparing"},{id:"ready_out",label:"Ready/Out",count:I.ready_collection+I.out_for_delivery,status_filter:"ready_out"},{id:"completed_today",label:"Completed Today",count:I.completed_today,status_filter:"completed"}],V=h.useMemo(()=>{if(Y==="ready_out"||b==="ready_out")return H.filter(oe=>oe.order_status==="ready_for_collection"||oe.order_status==="out_for_delivery");const K=N.find(oe=>oe.id===Y);return K!=null&&K.status_filter&&K.status_filter!=="ready_out"?H.filter(oe=>oe.order_status===K.status_filter):H},[H,Y,b]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Management"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[_," - ",y==="today"?"Today":y==="yesterday"?"Yesterday":"Last 7 Days"]})]}),e.jsxs("button",{onClick:()=>R(),disabled:T,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(ts,{size:16,className:T?"animate-spin":""}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[j.length>1&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("select",{value:_,onChange:K=>F("location",K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:j.map(K=>e.jsx("option",{value:K,children:K},K))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsxs("select",{value:y,onChange:K=>F("date",K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"yesterday",children:"Yesterday"}),e.jsx("option",{value:"last_7_days",children:"Last 7 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fulfillment"}),e.jsxs("select",{value:f||"all",onChange:K=>F("fulfillment",K.target.value==="all"?null:K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"collection",children:"Collection"}),e.jsx("option",{value:"delivery",children:"Delivery"})]})]}),e.jsxs("div",{className:"flex-1 min-w-[250px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:g,onChange:K=>F("search",K.target.value||null),placeholder:"Order number or customer name...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(kl,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-700 text-sm font-medium",children:"Awaiting"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-900 mt-1",children:I.awaiting_confirmation})]}),e.jsx(Le,{size:32,className:"text-yellow-600"})]})}),e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 text-sm font-medium",children:"Preparing"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:I.in_preparation})]}),e.jsx(Te,{size:32,className:"text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 text-sm font-medium",children:"Ready"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 mt-1",children:I.ready_collection})]}),e.jsx(Lf,{size:32,className:"text-green-600"})]})}),e.jsx("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-700 text-sm font-medium",children:"Out"}),e.jsx("p",{className:"text-3xl font-bold text-indigo-900 mt-1",children:I.out_for_delivery})]}),e.jsx(na,{size:32,className:"text-indigo-600"})]})}),e.jsx("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:I.completed_today})]}),e.jsx(ut,{size:32,className:"text-gray-600"})]})})]}),ee>0&&e.jsxs("div",{className:"mt-6 bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[e.jsx(st,{size:24,className:"text-red-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-red-900 font-semibold",children:[ee," late ",ee===1?"order":"orders"," requiring attention"]}),e.jsx("p",{className:"text-red-700 text-sm",children:"Orders exceeding expected preparation time"})]})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px overflow-x-auto",children:N.map(K=>{const oe=Y===K.id||K.id==="ready_out"&&b==="ready_out";return e.jsx("button",{onClick:()=>F("status",K.status_filter),className:`
                        whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm transition-colors
                        ${oe?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,children:e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:K.label}),K.count>0&&e.jsx("span",{className:`
                            inline-flex items-center justify-center px-2 py-1 text-xs font-bold rounded-full
                            ${oe?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-700"}
                          `,children:K.count})]})},K.id)})})}),e.jsx("div",{className:"p-6",children:T?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(K=>e.jsx("div",{className:"animate-pulse bg-gray-100 h-32 rounded-lg"},K))}):C?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(st,{size:48,className:"mx-auto text-red-500 mb-4"}),e.jsx("p",{className:"text-gray-900 font-semibold mb-2",children:"Failed to load orders"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Please try refreshing the page"}),e.jsx("button",{onClick:()=>R(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):V.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-900 font-semibold mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-600 text-sm",children:g?"Try adjusting your search or filters":"New orders will appear here"})]}):e.jsx("div",{className:"space-y-4",children:V.map(K=>{const oe=zf(K);return e.jsx("div",{className:`
                          bg-white border-2 rounded-xl p-6 transition-all hover:shadow-md cursor-pointer
                          ${oe?"border-red-300 bg-red-50":"border-gray-200"}
                        `,onClick:()=>w(K.order_id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:K.order_number}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${Bf(K.order_status)}`,children:Bl(K.order_status)}),oe&&e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800 border border-red-200 flex items-center space-x-1",children:[e.jsx(st,{size:12}),e.jsx("span",{children:"LATE"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Customer:"}),e.jsx("span",{children:K.customer_name})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[e.jsx(kr,{size:14}),e.jsx("span",{children:K.customer_phone})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsx("span",{className:`
                                px-3 py-1 rounded-lg font-medium
                                ${K.fulfillment_method==="delivery"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}
                              `,children:K.fulfillment_method==="delivery"?e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(na,{size:14}),e.jsx("span",{children:"Delivery"})]}):e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Lf,{size:14}),e.jsx("span",{children:"Collection"})]})}),e.jsxs("span",{className:"text-gray-600",children:["",Number(K.total_amount||0).toFixed(2)]}),e.jsx("span",{className:"text-gray-600",children:NC(K.created_at)})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[K.order_status==="payment_confirmed"&&e.jsx("button",{onClick:D=>{D.stopPropagation(),U(K.order_id,"preparing")},disabled:B.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:"Accept"}),K.order_status==="preparing"&&K.fulfillment_method==="collection"&&e.jsx("button",{onClick:D=>{D.stopPropagation(),U(K.order_id,"ready_for_collection")},disabled:B.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50",children:"Mark Ready"}),K.order_status==="preparing"&&K.fulfillment_method==="delivery"&&e.jsx("button",{onClick:D=>{D.stopPropagation(),U(K.order_id,"out_for_delivery")},disabled:B.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:"Out for Delivery"}),(K.order_status==="ready_for_collection"||K.order_status==="out_for_delivery")&&e.jsx("button",{onClick:D=>{D.stopPropagation(),U(K.order_id,"completed")},disabled:B.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50",children:"Complete"}),e.jsx("button",{onClick:D=>{D.stopPropagation(),w(K.order_id)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Details"})]})]})},K.order_id)})})})]})}),c&&i&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:M}),e.jsx("div",{className:"relative inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:Q?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading order details..."})]}):P?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:P.order_number}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:tu(P.created_at)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:G,className:"p-2 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors",title:"Print Order",children:e.jsx(v6,{size:20,className:"text-white"})}),e.jsx("button",{onClick:M,className:"p-2 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors",children:e.jsx(Ee,{size:20,className:"text-white"})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold border-2 ${Bf(P.order_status)} bg-white`,children:Bl(P.order_status)})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(100vh-300px)] overflow-y-auto",children:[e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Customer Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(wr,{size:18,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.customer_email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(kr,{size:18,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),e.jsx("a",{href:`tel:${P.customer_phone}`,className:"text-sm font-medium text-blue-600 hover:underline",children:P.customer_phone})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:P.fulfillment_method==="delivery"?"Delivery Details":"Collection Details"}),P.fulfillment_method==="delivery"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(gt,{size:18,className:"text-gray-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.delivery_address_line1}),P.delivery_address_line2&&e.jsx("p",{className:"text-sm text-gray-700",children:P.delivery_address_line2}),e.jsxs("p",{className:"text-sm text-gray-700",children:[P.delivery_city,", ",P.delivery_postal_code]})]})]}),P.delivery_instructions&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-800 mb-1",children:"Delivery Instructions"}),e.jsx("p",{className:"text-sm text-yellow-900",children:P.delivery_instructions})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Customer will collect from ",P.location_name]}),P.collection_code&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-green-800 mb-2",children:"Collection Code"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 tracking-wider",children:P.collection_code})]})]}),P.special_instructions&&e.jsxs("div",{className:"mt-4 bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-orange-800 mb-1",children:"Special Instructions"}),e.jsx("p",{className:"text-sm text-orange-900",children:P.special_instructions})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Item"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Qty"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Subtotal"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(J=P.items)==null?void 0:J.map(K=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:K.product_name}),K.product_specific_notes&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:K.product_specific_notes})]})}),e.jsx("td",{className:"px-6 py-4 text-center text-gray-900 font-medium",children:K.quantity}),e.jsxs("td",{className:"px-6 py-4 text-right text-gray-900",children:["",Number(K.price_at_purchase||0).toFixed(2)]}),e.jsxs("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:["",Number(K.subtotal||0).toFixed(2)]})]},K.item_id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right font-semibold text-gray-700",children:"Total"}),e.jsxs("td",{className:"px-6 py-3 text-right font-bold text-gray-900 text-lg",children:["",Number(P.total_amount||0).toFixed(2)]})]})})]})})]}),P.status_history&&P.status_history.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Status History"}),e.jsx("div",{className:"space-y-3",children:P.status_history.map((K,oe)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`
                                  w-3 h-3 rounded-full mt-1.5 flex-shrink-0
                                  ${oe===P.status_history.length-1?"bg-blue-600":"bg-gray-300"}
                                `}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:Bl(K.new_status)}),e.jsx("p",{className:"text-xs text-gray-600",children:tu(K.changed_at)})]}),K.changed_by_name&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["By: ",K.changed_by_name]}),K.notes&&e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:K.notes})]})]},K.history_id))})]}),ae(P.order_status).length>0&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Update Order Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),e.jsxs("select",{value:p,onChange:K=>v(K.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select new status..."}),ae(P.order_status).map(K=>e.jsx("option",{value:K,children:Bl(K)},K))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:m,onChange:K=>u(K.target.value),rows:3,placeholder:"Add notes about this status change...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]}),e.jsx("button",{onClick:W,disabled:!p||B.isPending,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:B.isPending?e.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Updating..."})]}):"Update Status"})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:e.jsx("button",{onClick:M,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Close"})})]}):e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Order not found"})})})]})}),P&&e.jsx("div",{className:"hidden print:block print:p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Kake"}),e.jsx("p",{className:"text-xl font-semibold mt-2",children:P.location_name}),e.jsx("p",{className:"text-lg mt-1",children:"ORDER TICKET"})]}),e.jsxs("div",{className:"border-t-2 border-b-2 border-black py-4 mb-6",children:[e.jsx("p",{className:"text-2xl font-bold text-center",children:P.order_number}),e.jsx("p",{className:"text-center mt-1",children:tu(P.created_at)})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"font-bold mb-2",children:["Customer: ",P.customer_name]}),e.jsxs("p",{children:["Phone: ",P.customer_phone]}),e.jsx("p",{className:"mt-2 font-semibold",children:P.fulfillment_method==="delivery"?"DELIVERY":"COLLECTION"})]}),P.fulfillment_method==="delivery"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"font-bold mb-2",children:"Delivery Address:"}),e.jsx("p",{children:P.delivery_address_line1}),P.delivery_address_line2&&e.jsx("p",{children:P.delivery_address_line2}),e.jsxs("p",{children:[P.delivery_city,", ",P.delivery_postal_code]}),P.delivery_instructions&&e.jsxs("p",{className:"mt-2 italic",children:["Instructions: ",P.delivery_instructions]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"font-bold mb-3 text-lg",children:"ITEMS:"}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-black",children:[e.jsx("th",{className:"text-left pb-2",children:"Item"}),e.jsx("th",{className:"text-center pb-2",children:"Qty"})]})}),e.jsx("tbody",{children:(ne=P.items)==null?void 0:ne.map(K=>e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsxs("td",{className:"py-2",children:[e.jsx("p",{className:"font-medium",children:K.product_name}),K.product_specific_notes&&e.jsxs("p",{className:"text-sm italic",children:["Note: ",K.product_specific_notes]})]}),e.jsx("td",{className:"text-center py-2 font-bold",children:K.quantity})]},K.item_id))})]})]}),P.special_instructions&&e.jsxs("div",{className:"mb-6 border-2 border-black p-4",children:[e.jsx("p",{className:"font-bold mb-2",children:"SPECIAL INSTRUCTIONS:"}),e.jsx("p",{className:"text-lg",children:P.special_instructions})]}),e.jsx("div",{className:"text-center mt-8 pt-6 border-t-2 border-black",children:e.jsx("p",{className:"text-sm",children:"Thank you for choosing Kake!"})})]})})]})})},kC=()=>{const t=z(Q=>Q.authentication_state.current_user),s=z(Q=>Q.authentication_state.auth_token),r=z(Q=>Q.show_toast),[n,a]=nt(),l=n.get("status")||null,i=n.get("alert_type")||null,[o,c]=h.useState({location_name:"",item_name:"",alert_type:"low_stock",current_quantity:"",notes:"",priority:"medium"}),[d,m]=h.useState({}),[u,p]=h.useState(l),[v,b]=h.useState(i),x=yt(),y=async(Q,B)=>{const F={limit:50,sort_by:"created_at",sort_order:"desc"};return Q&&(F.status=Q),B&&(F.alert_type=B),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/inventory/alerts",{params:F,headers:{Authorization:`Bearer ${s}`}})).data},f=async Q=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/inventory/alerts",Q,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,{data:g,isLoading:j,error:_,refetch:S}=ve({queryKey:["inventoryAlerts",u,v],queryFn:()=>y(u,v),staleTime:3e4,refetchOnWindowFocus:!0,select:Q=>({alerts:Q.data.map(B=>({...B,current_quantity:B.current_quantity!==null?Number(B.current_quantity):null})),total:Q.total})}),O=we({mutationFn:f,onSuccess:Q=>{c({location_name:"",item_name:"",alert_type:"low_stock",current_quantity:"",notes:"",priority:"medium"}),m({}),r("success",`Alert ${Q.reference_number} submitted successfully!`,5e3),x.invalidateQueries({queryKey:["inventoryAlerts"]}),S()},onError:Q=>{var F,w;const B=((w=(F=Q.response)==null?void 0:F.data)==null?void 0:w.message)||"Failed to submit alert";r("error",B)}});h.useEffect(()=>{p(l),b(i)},[l,i]),h.useEffect(()=>{let Q="medium";o.alert_type==="out_of_stock"||o.alert_type==="quality_issue"?Q="high":(o.alert_type==="expiring_soon"||o.alert_type==="low_stock")&&(Q="medium"),c(B=>({...B,priority:Q}))},[o.alert_type]);const E=(Q,B)=>{c(F=>({...F,[Q]:B})),d[Q]&&m(F=>{const w={...F};return delete w[Q],w})},T=()=>{const Q={};return(!o.location_name||o.location_name.trim()==="")&&(Q.location_name="Location is required"),(!o.item_name||o.item_name.trim()==="")&&(Q.item_name="Item name is required"),o.item_name&&o.item_name.trim().length>255&&(Q.item_name="Item name too long (max 255 characters)"),o.current_quantity&&isNaN(Number(o.current_quantity))&&(Q.current_quantity="Quantity must be a valid number"),o.current_quantity&&Number(o.current_quantity)<0&&(Q.current_quantity="Quantity cannot be negative"),o.notes&&o.notes.length>1e3&&(Q.notes="Notes too long (max 1000 characters)"),m(Q),Object.keys(Q).length===0},C=async Q=>{if(Q.preventDefault(),!T()){r("error","Please fix form errors before submitting");return}if(!t){r("error","Authentication required");return}const B={submitted_by_user_id:t.user_id,location_name:o.location_name,item_name:o.item_name.trim(),alert_type:o.alert_type,current_quantity:o.current_quantity?Number(o.current_quantity):null,notes:o.notes.trim()||null,priority:o.priority};O.mutate(B)},R=(Q,B)=>{const F=new URLSearchParams(n);B?F.set(Q,B):F.delete(Q),a(F)},H=Q=>{const B={low_stock:{icon:e.jsx(st,{className:"size-4"}),color:"bg-yellow-100 text-yellow-800 border-yellow-300",label:"Running Low"},out_of_stock:{icon:e.jsx(Ut,{className:"size-4"}),color:"bg-red-100 text-red-800 border-red-300",label:"Out of Stock"},quality_issue:{icon:e.jsx(He,{className:"size-4"}),color:"bg-orange-100 text-orange-800 border-orange-300",label:"Quality Issue"},expiring_soon:{icon:e.jsx(Le,{className:"size-4"}),color:"bg-purple-100 text-purple-800 border-purple-300",label:"Expiring Soon"}},F=B[Q]||B.low_stock;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${F.color}`,children:[F.icon,F.label]})},I=Q=>{const B={pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",label:"Pending"},acknowledged:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"Acknowledged"},in_progress:{color:"bg-purple-100 text-purple-800 border-purple-300",label:"In Progress"},resolved:{color:"bg-green-100 text-green-800 border-green-300",label:"Resolved"}},F=B[Q]||B.pending;return e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium border ${F.color}`,children:F.label})},ee=Q=>{const B={low:{color:"bg-gray-100 text-gray-700",label:"Low"},medium:{color:"bg-blue-100 text-blue-700",label:"Medium"},high:{color:"bg-orange-100 text-orange-700",label:"High"},urgent:{color:"bg-red-100 text-red-700",label:"Urgent"}},F=B[Q]||B.medium;return e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-semibold ${F.color}`,children:F.label})},P=Q=>new Date(Q).toLocaleString("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Alerts"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Report inventory issues and track resolution status"})]}),e.jsx(re,{to:"/staff/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:" Back to Dashboard"})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden sticky top-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 px-6 py-4 border-b border-purple-200",children:e.jsxs("h2",{className:"text-xl font-bold text-purple-900 flex items-center gap-2",children:[e.jsx(Te,{className:"size-6"}),"Submit New Alert"]})}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"location_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"location_name",value:o.location_name,onChange:Q=>E("location_name",Q.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${d.location_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"} transition-all duration-200`,required:!0,children:[e.jsx("option",{value:"",children:"Select Location"}),e.jsx("option",{value:"Blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"Tallaght",children:"Tallaght"}),e.jsx("option",{value:"Glasnevin",children:"Glasnevin"})]}),d.location_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.location_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"item_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Item Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"item_name",value:o.item_name,onChange:Q=>E("item_name",Q.target.value),placeholder:"e.g., All-Purpose Flour",className:`w-full px-4 py-3 rounded-lg border-2 ${d.item_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"} transition-all duration-200`,maxLength:255,required:!0}),d.item_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.item_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"alert_type",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Alert Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"alert_type",value:o.alert_type,onChange:Q=>E("alert_type",Q.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-200",required:!0,children:[e.jsx("option",{value:"low_stock",children:"Running Low"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"quality_issue",children:"Quality Issue"}),e.jsx("option",{value:"expiring_soon",children:"Expiring Soon"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Priority is automatically set based on alert type"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_quantity",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Current Quantity (Optional)"}),e.jsx("input",{type:"number",id:"current_quantity",value:o.current_quantity,onChange:Q=>E("current_quantity",Q.target.value),placeholder:"Enter quantity if known",min:"0",className:`w-full px-4 py-3 rounded-lg border-2 ${d.current_quantity?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"} transition-all duration-200`}),d.current_quantity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.current_quantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Priority (Auto-calculated)"}),e.jsx("div",{className:"px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50",children:ee(o.priority)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Additional Notes"}),e.jsx("textarea",{id:"notes",value:o.notes,onChange:Q=>E("notes",Q.target.value),placeholder:"Any additional details about the issue...",rows:4,maxLength:1e3,className:`w-full px-4 py-3 rounded-lg border-2 ${d.notes?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100"} transition-all duration-200 resize-none`}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 text-right",children:[o.notes.length,"/1000 characters"]}),d.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.notes})]}),e.jsx("button",{type:"submit",disabled:O.isPending,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:O.isPending?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Alert..."]}):"Submit Alert"})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 px-6 py-4 border-b border-blue-200",children:e.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"My Submitted Alerts"})}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status_filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),e.jsxs("select",{id:"status_filter",value:u||"",onChange:Q=>R("status",Q.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type_filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),e.jsxs("select",{id:"type_filter",value:v||"",onChange:Q=>R("alert_type",Q.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"low_stock",children:"Running Low"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"quality_issue",children:"Quality Issue"}),e.jsx("option",{value:"expiring_soon",children:"Expiring Soon"})]})]})]}),(u||v)&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Active filters:"}),u&&e.jsxs("button",{onClick:()=>R("status",null),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium hover:bg-blue-200",children:["Status: ",u,e.jsx(Ut,{className:"size-3"})]}),v&&e.jsxs("button",{onClick:()=>R("alert_type",null),className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium hover:bg-purple-200",children:["Type: ",v,e.jsx(Ut,{className:"size-3"})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:j?e.jsx("div",{className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-3 text-gray-600",children:[e.jsxs("svg",{className:"animate-spin h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Loading alerts..."})]})}):_?e.jsx("div",{className:"px-6 py-12",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx(He,{className:"size-8 text-red-600 mx-auto mb-2"}),e.jsx("p",{className:"text-red-700 font-medium",children:"Failed to load alerts"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:_.message||"Please try again"}),e.jsx("button",{onClick:()=>S(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors",children:"Retry"})]})}):!g||g.alerts.length===0?e.jsx("div",{className:"px-6 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Te,{className:"size-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Alerts Found"}),e.jsx("p",{className:"text-gray-600 text-sm",children:u||v?"No alerts match your current filters":"You haven't submitted any inventory alerts yet"})]})}):e.jsx("div",{className:"max-h-[calc(100vh-300px)] overflow-y-auto",children:g.alerts.map(Q=>e.jsxs("div",{className:"px-6 py-5 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Q.item_name}),ee(Q.priority)]}),e.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-1",children:["Ref: ",Q.reference_number]}),e.jsx("p",{className:"text-sm text-gray-500",children:Q.location_name})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[I(Q.status),H(Q.alert_type)]})]}),Q.current_quantity!==null&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2 mb-3",children:e.jsxs("p",{className:"text-sm text-yellow-800 font-medium",children:["Current Quantity: ",e.jsx("span",{className:"font-bold",children:Q.current_quantity})]})}),Q.notes&&e.jsx("div",{className:"bg-gray-50 rounded-lg px-3 py-2 mb-3",children:e.jsx("p",{className:"text-sm text-gray-700",children:Q.notes})}),Q.resolution_notes&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg px-3 py-2 mb-3",children:[e.jsx("p",{className:"text-xs text-green-700 font-semibold mb-1",children:"Resolution Notes:"}),e.jsx("p",{className:"text-sm text-green-800",children:Q.resolution_notes})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Submitted ",P(Q.created_at)]}),Q.resolved_at&&e.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[e.jsx(ut,{className:"size-3"}),"Resolved ",P(Q.resolved_at)]})]})]},Q.alert_id))})}),g&&g.alerts.length>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-semibold",children:g.alerts.length})," of"," ",e.jsx("span",{className:"font-semibold",children:g.total})," alerts"]})})]})})]})})]})})},su=()=>{const{course_id:t,lesson_id:s}=ma(),[r,n]=nt(),a=it(),l=yt();z(A=>A.authentication_state.current_user);const i=z(A=>A.authentication_state.auth_token),o=z(A=>A.show_toast),c=r.get("category")||null,d=r.get("status")||null,m=r.get("required_only")==="true",[u,p]=h.useState(""),[v,b]=h.useState(!1),[x,y]=h.useState(""),f=async()=>{const A={status:"published",limit:100};return c&&(A.category=c),m&&(A.is_required=!0),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/training/courses",{params:A,headers:{Authorization:`Bearer ${i}`}})).data.data||[]},g=async A=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses/${A}`,{headers:{Authorization:`Bearer ${i}`}})).data,j=async A=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses/${A}/progress`,{headers:{Authorization:`Bearer ${i}`}})).data,_=async A=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses/${A}/lessons/completions`,{headers:{Authorization:`Bearer ${i}`}})).data,S=async()=>(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/training/progress",{headers:{Authorization:`Bearer ${i}`}})).data,O=async A=>(await ie.post(`https://123build-an-online-web-application.launchpulse.ai/api/training/lessons/${A.lesson_id}/complete`,{personal_notes:A.personal_notes},{headers:{Authorization:`Bearer ${i}`}})).data,{data:E=[],isLoading:T,error:C}=ve({queryKey:["training_courses",c,m],queryFn:f,enabled:!t,staleTime:5*60*1e3}),{data:R=[]}=ve({queryKey:["training_progress"],queryFn:S,enabled:!t,staleTime:2*60*1e3}),{data:H,isLoading:I,error:ee}=ve({queryKey:["training_course",t],queryFn:()=>g(t),enabled:!!t,staleTime:5*60*1e3}),{data:P}=ve({queryKey:["course_progress",t],queryFn:()=>j(t),enabled:!!t,staleTime:1*60*1e3}),{data:Q=[]}=ve({queryKey:["lesson_completions",t],queryFn:()=>_(t),enabled:!!t,staleTime:1*60*1e3}),B=we({mutationFn:O,onSuccess:A=>{l.invalidateQueries({queryKey:["course_progress",t]}),l.invalidateQueries({queryKey:["lesson_completions",t]}),l.invalidateQueries({queryKey:["training_progress"]}),l.invalidateQueries({queryKey:["training_course",t]}),o("success","Lesson marked as complete!"),A.progress_percentage===100&&o("success"," Course completed! Congratulations!",5e3)},onError:A=>{var se,k;o("error",((k=(se=A.response)==null?void 0:se.data)==null?void 0:k.message)||"Failed to mark lesson complete")}}),F=(H==null?void 0:H.lessons)||[],w=F.find(A=>A.lesson_id===s)||null,M=w?F.findIndex(A=>A.lesson_id===s):-1,W=M>0,G=M>=0&&M<F.length-1,U=W?F[M-1]:null,ae=G?F[M+1]:null,Y=h.useCallback(A=>R.find(se=>se.course_id===A)||{progress_id:null,status:"not_started",progress_percentage:0,started_at:null,completed_at:null},[R]),N=h.useCallback(A=>Q.some(se=>se.lesson_id===A&&se.is_completed),[Q]),V=Q.filter(A=>A.is_completed).length,J=E.filter(A=>{if(x){const se=x.toLowerCase(),k=A.course_title.toLowerCase().includes(se),me=A.short_description.toLowerCase().includes(se);if(!k&&!me)return!1}return!(d&&Y(A.course_id).status!==d)}),ne=(A,se)=>{const k=new URLSearchParams(r);se&&se!==""?k.set(A,String(se)):k.delete(A),n(k)},K=()=>{s&&B.mutate({lesson_id:s,personal_notes:u})},oe=()=>{U&&t&&a(`/staff/courses/${t}/lesson/${U.lesson_id}`)},D=()=>{ae&&t&&a(`/staff/courses/${t}/lesson/${ae.lesson_id}`)};h.useEffect(()=>{if(!s||!u)return;const A=setTimeout(()=>{b(!0),setTimeout(()=>b(!1),2e3)},2e3);return()=>clearTimeout(A)},[u,s]);const le=A=>{if(!A)return"Duration not set";if(A<60)return`${A} min`;const se=Math.floor(A/60),k=A%60;return k>0?`${se}h ${k}m`:`${se}h`},ue=A=>({safety:"bg-red-100 text-red-800",customer_service:"bg-blue-100 text-blue-800",baking:"bg-amber-100 text-amber-800",equipment:"bg-gray-100 text-gray-800",management:"bg-purple-100 text-purple-800"})[A]||"bg-gray-100 text-gray-800",q=A=>A===0?"bg-gray-200":A<100?"bg-blue-500":"bg-green-500";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!t&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Staff Training"}),e.jsx("p",{className:"text-gray-600",children:"Develop your skills and stay compliant with our training courses"})]}),e.jsxs(re,{to:"/staff/dashboard",className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Jl,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:x,onChange:A=>y(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{children:e.jsxs("select",{value:c||"",onChange:A=>ne("category",A.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"safety",children:"Safety"}),e.jsx("option",{value:"customer_service",children:"Customer Service"}),e.jsx("option",{value:"baking",children:"Baking"}),e.jsx("option",{value:"equipment",children:"Equipment"}),e.jsx("option",{value:"management",children:"Management"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d||"",onChange:A=>ne("status",A.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Courses"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"required_only",checked:m,onChange:A=>ne("required_only",A.target.checked||null),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"required_only",className:"text-sm font-medium text-gray-700",children:"Show required courses only"})]})]})]}),T&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),C&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 flex items-start gap-3",children:[e.jsx(He,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Failed to load courses"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Please refresh the page or contact support if the issue persists."})]})]}),!T&&!C&&J.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(Da,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or search query"}),e.jsx("button",{onClick:()=>{y(""),n({})},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Clear Filters"})]}),!T&&!C&&J.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.map(A=>{const se=Y(A.course_id),k=Number(se.progress_percentage||0);return e.jsxs(re,{to:`/staff/courses/${A.course_id}`,className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg hover:border-blue-300 transition-all duration-200 group",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-hidden",children:[e.jsx("img",{src:A.cover_image_url,alt:A.course_title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:me=>{me.target.src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=500"}}),A.is_required&&e.jsxs("div",{className:"absolute top-3 right-3 bg-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(Es,{className:"w-3 h-3 fill-current"}),"Required"]}),k===100&&e.jsxs("div",{className:"absolute top-3 left-3 bg-green-600 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(ra,{className:"w-3 h-3"}),"Completed"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 ${ue(A.category)}`,children:A.category.replace("_"," ")}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:A.course_title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:A.short_description}),A.estimated_duration_minutes&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:le(A.estimated_duration_minutes)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:k===0?"Not Started":`${k}% Complete`}),k>0&&k<100&&e.jsx("span",{className:"text-xs text-gray-500",children:"In Progress"})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${q(k)} transition-all duration-300`,style:{width:`${k}%`}})})]}),e.jsx("div",{className:"pt-2",children:e.jsx("span",{className:"text-blue-600 font-medium text-sm group-hover:underline",children:k===0?"Start Course ":k===100?"Review Course ":"Continue Learning "})})]})]},A.course_id)})})]}),t&&!s&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(re,{to:"/staff/training",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(Jl,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Back to Courses"})]})}),I&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),ee&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Course not found"}),e.jsx("p",{className:"text-red-700 text-sm",children:"The course you're looking for doesn't exist or has been removed."})]}),H&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[e.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("img",{src:H.cover_image_url,alt:H.course_title,className:"w-full h-full object-cover",onError:A=>{A.target.src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800"}}),H.is_required&&e.jsxs("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4 fill-current"}),"Required Course"]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 ${ue(H.category)}`,children:H.category.replace("_"," ")}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:H.course_title}),H.estimated_duration_minutes&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[e.jsx(Le,{className:"w-5 h-5"}),e.jsx("span",{children:le(H.estimated_duration_minutes)})]})]}),P&&e.jsx("div",{className:"ml-6",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center min-w-[120px]",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[Number(P.progress_percentage||0),"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Complete"})]})})]}),H.long_description&&e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:H.long_description}),P&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[V," of ",F.length," lessons completed"]})]}),e.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${q(Number(P.progress_percentage||0))} transition-all duration-300`,style:{width:`${P.progress_percentage||0}%`}})})]}),Number((P==null?void 0:P.progress_percentage)||0)===100&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[e.jsx(ra,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Course Completed!"}),e.jsx("p",{className:"text-green-700 text-sm",children:"You've successfully completed all lessons in this course."})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(r6,{className:"w-6 h-6"}),"Course Lessons"]}),F.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Lt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{children:"No lessons available yet"})]}):e.jsx("div",{className:"space-y-3",children:F.sort((A,se)=>A.lesson_order-se.lesson_order).map(A=>{const se=N(A.lesson_id);return e.jsxs(re,{to:`/staff/courses/${t}/lesson/${A.lesson_id}`,className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-semibold",children:A.lesson_order}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:A.lesson_title}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 capitalize flex items-center gap-1",children:[A.lesson_type==="video"&&e.jsx(b6,{className:"w-3 h-3"}),A.lesson_type==="document"&&e.jsx(Lt,{className:"w-3 h-3"}),A.lesson_type]}),A.duration_minutes&&e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),A.duration_minutes," min"]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:se?e.jsx(Jt,{className:"w-6 h-6 text-green-600"}):e.jsx(Tf,{className:"w-6 h-6 text-gray-300"})})]},A.lesson_id)})})]})]})]}),t&&s&&e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[I&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),ee&&e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Lesson not found"}),e.jsx("p",{className:"text-red-700 text-sm",children:"The lesson you're looking for doesn't exist."})]})}),H&&w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(re,{to:`/staff/courses/${t}`,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Jl,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Back to Course"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:H.course_title}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Lesson ",w.lesson_order,": ",w.lesson_title]})]})]}),P&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Course Progress: ",e.jsxs("span",{className:"font-semibold text-blue-600",children:[Number(P.progress_percentage||0),"%"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold mb-2 bg-blue-100 text-blue-800 capitalize",children:w.lesson_type}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:w.lesson_title}),w.duration_minutes&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[w.duration_minutes," minutes"]})]})]})}),w.additional_notes&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Note:"})," ",w.additional_notes]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[w.lesson_type==="video"&&w.content_url&&e.jsx("div",{className:"aspect-video bg-black",children:e.jsx("iframe",{src:w.content_url,title:w.lesson_title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),w.lesson_type==="document"&&w.content_url&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(Lt,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Training Document"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"View or download the course materials"}),e.jsx("a",{href:w.content_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Open Document"})]})}),w.content_text&&e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:w.content_text})})}),!w.content_url&&!w.content_text&&e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:"Content for this lesson is not yet available."})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Notes"}),v&&e.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1 animate-fade-in",children:[e.jsx(Jt,{className:"w-3 h-3"}),"Saved"]})]}),e.jsx("textarea",{value:u,onChange:A=>p(A.target.value),placeholder:"Take notes as you learn... Your notes are automatically saved.",className:"w-full h-40 px-4 py-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("input",{type:"checkbox",id:"mark_complete",checked:B.isSuccess,onChange:K,disabled:B.isPending,className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"mark_complete",className:"font-semibold text-gray-900 cursor-pointer",children:"I have completed this lesson"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Mark this lesson as complete to update your progress and unlock the next lesson."})]})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[W?e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-6 py-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:[e.jsx(Jl,{className:"w-4 h-4"}),"Previous Lesson"]}):e.jsx("div",{}),G&&e.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium ml-auto",children:["Next Lesson",e.jsx(Zb,{className:"w-4 h-4"})]}),!G&&Number((P==null?void 0:P.progress_percentage)||0)===100&&e.jsxs(re,{to:"/staff/training",className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium ml-auto",children:[e.jsx(Jt,{className:"w-5 h-5"}),"Back to Courses"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-24",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Outline"}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:F.sort((A,se)=>A.lesson_order-se.lesson_order).map(A=>{const se=A.lesson_id===s,k=N(A.lesson_id);return e.jsx(re,{to:`/staff/courses/${t}/lesson/${A.lesson_id}`,className:`block p-3 rounded-lg transition-colors ${se?"bg-blue-100 border-2 border-blue-500":"border border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:k?e.jsx(Jt,{className:"w-5 h-5 text-green-600"}):e.jsx(Tf,{className:`w-5 h-5 ${se?"text-blue-600":"text-gray-300"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:`text-sm font-medium ${se?"text-blue-900":"text-gray-900"}`,children:[A.lesson_order,". ",A.lesson_title]}),A.duration_minutes&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A.duration_minutes," min"]})]})]})},A.lesson_id)})})]})})]})})]})]})]})})},CC=async(t,s)=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/feedback/staff",t,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,SC=async(t,s,r)=>{const n=new URLSearchParams({submitted_by_user_id:t,limit:"20",offset:"0",sort_by:"created_at",sort_order:"desc"});return s.status!=="all"&&n.append("status",s.status),s.feedback_type!=="all"&&n.append("feedback_type",s.feedback_type),(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/staff?${n.toString()}`,{headers:{Authorization:`Bearer ${r}`}})).data},EC=async(t,s)=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/staff/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,Uf=()=>{const t=kn(),s=it(),[r,n]=nt(),a=yt(),l=z(F=>F.authentication_state.current_user),i=z(F=>F.authentication_state.auth_token),o=z(F=>F.show_toast),c=t.pathname.includes("/my-feedback"),[d,m]=h.useState({location_name:"",feedback_type:"suggestion",title:"",description:"",priority:"medium",attachment_urls:[],is_anonymous:!1}),[u,p]=h.useState({}),[v,b]=h.useState({status:r.get("status")||"all",feedback_type:r.get("feedback_type")||"all"}),[x,y]=h.useState(null),f=we({mutationFn:F=>{if(!i)throw new Error("No auth token");return CC(F,i)},onSuccess:F=>{m({location_name:"",feedback_type:"suggestion",title:"",description:"",priority:"medium",attachment_urls:[],is_anonymous:!1}),p({}),a.invalidateQueries({queryKey:["staff-feedback"]}),o("success",`Feedback submitted! Reference: ${F.reference_number}`),s("/staff/feedback/my-feedback")},onError:F=>{var M,W;const w=((W=(M=F.response)==null?void 0:M.data)==null?void 0:W.message)||"Failed to submit feedback";o("error",w)}}),{data:g,isLoading:j,refetch:_}=ve({queryKey:["staff-feedback",l==null?void 0:l.user_id,v],queryFn:()=>{if(!(l!=null&&l.user_id)||!i)throw new Error("Missing user or token");return SC(l.user_id,v,i)},enabled:!!(l!=null&&l.user_id)&&!!i&&c,staleTime:6e4,refetchOnWindowFocus:!1}),S=(g==null?void 0:g.data)||[],{data:O,isLoading:E}=ve({queryKey:["staff-feedback-detail",x],queryFn:()=>{if(!x||!i)throw new Error("Missing feedback ID or token");return EC(x,i)},enabled:!!x&&!!i,staleTime:6e4});h.useEffect(()=>{d.feedback_type==="safety_concern"&&d.priority!=="urgent"&&m(F=>({...F,priority:"urgent"}))},[d.feedback_type,d.priority]),h.useEffect(()=>{const F=r.get("status")||"all",w=r.get("feedback_type")||"all";b({status:F,feedback_type:w})},[r]);const T=()=>{const F={};return d.location_name||(F.location_name="Location is required"),!d.title||d.title.trim().length<1?F.title="Title is required":d.title.length>255&&(F.title="Title must be 255 characters or less"),!d.description||d.description.trim().length<1?F.description="Description is required":d.description.length>2e3&&(F.description="Description must be 2000 characters or less"),p(F),Object.keys(F).length===0},C=async F=>{if(F.preventDefault(),!T()){o("error","Please fix the form errors");return}if(!(l!=null&&l.user_id)){o("error","User not authenticated");return}const w={submitted_by_user_id:l.user_id,location_name:d.location_name,feedback_type:d.feedback_type,title:d.title,description:d.description,priority:d.priority,attachment_urls:d.attachment_urls.length>0?d.attachment_urls.join(","):null,is_anonymous:d.is_anonymous};f.mutate(w)},R=(F,w)=>{const M=new URLSearchParams(r);w==="all"?M.delete(F):M.set(F,w),n(M)},H=F=>{y(F)},I=()=>{y(null)},ee=F=>{switch(F){case"suggestion":return e.jsx(Ff,{className:"w-5 h-5"});case"complaint":return e.jsx(He,{className:"w-5 h-5"});case"safety_concern":return e.jsx(st,{className:"w-5 h-5"});case"equipment_issue":return e.jsx(Mf,{className:"w-5 h-5"});case"process_improvement":return e.jsx(dl,{className:"w-5 h-5"});default:return e.jsx(Lt,{className:"w-5 h-5"})}},P=F=>{switch(F){case"pending_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"under_review":return"bg-blue-100 text-blue-800 border-blue-200";case"in_progress":return"bg-purple-100 text-purple-800 border-purple-200";case"resolved":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Q=F=>{switch(F){case"low":return"bg-gray-100 text-gray-700";case"medium":return"bg-blue-100 text-blue-700";case"high":return"bg-orange-100 text-orange-700";case"urgent":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},B=F=>new Date(F).toLocaleDateString("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Internal Staff Feedback"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Share suggestions, concerns, and feedback confidentially"})]}),e.jsx(re,{to:"/staff/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Back to Dashboard"})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex -mb-px space-x-8","aria-label":"Tabs",children:[e.jsx(re,{to:"/staff/feedback/submit",className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":"border-blue-500 text-blue-600"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vo,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Feedback"})]})}),e.jsx(re,{to:"/staff/feedback/my-feedback",className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Lt,{className:"w-5 h-5"}),e.jsx("span",{children:"My Feedback"}),S.length>0&&e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded-full",children:S.length})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(wl,{className:"w-5 h-5"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("button",{onClick:()=>_(),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1",children:[e.jsx(ts,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{id:"status-filter",value:v.status,onChange:F=>R("status",F.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback Type"}),e.jsxs("select",{id:"type-filter",value:v.feedback_type,onChange:F=>R("feedback_type",F.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"suggestion",children:"Suggestion"}),e.jsx("option",{value:"complaint",children:"Complaint"}),e.jsx("option",{value:"safety_concern",children:"Safety Concern"}),e.jsx("option",{value:"equipment_issue",children:"Equipment Issue"}),e.jsx("option",{value:"process_improvement",children:"Process Improvement"})]})]})]})]}),j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ts,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Loading feedback..."})]})}):S.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-12 text-center",children:[e.jsx(Lt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No feedback found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:v.status!=="all"||v.feedback_type!=="all"?"Try adjusting your filters":"You haven't submitted any feedback yet"}),v.status==="all"&&v.feedback_type==="all"&&e.jsxs(re,{to:"/staff/feedback/submit",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(Vo,{className:"w-5 h-5 mr-2"}),"Submit Your First Feedback"]})]}):e.jsx("div",{className:"space-y-4",children:S.map(F=>e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:ee(F.feedback_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.title}),F.is_anonymous&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:[e.jsx(Ho,{className:"w-3 h-3 mr-1"}),"Anonymous"]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:F.description})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${P(F.status)}`,children:F.status.replace(/_/g," ")}),e.jsx("span",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${Q(F.priority)}`,children:F.priority})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:B(F.created_at)})]}),e.jsx("span",{className:"font-medium text-gray-700",children:F.reference_number}),e.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:F.location_name})]}),e.jsxs("button",{onClick:()=>H(F.feedback_id),className:"inline-flex items-center px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg font-medium text-sm transition-colors duration-200",children:[e.jsx(Fs,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]},F.feedback_id))})]}):e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-6 py-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ho,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Confidential Feedback"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your feedback helps us improve. You can submit anonymously if preferred. Safety concerns are automatically flagged as urgent."})]})]})}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"location_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Location ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{id:"location_name",value:d.location_name,onChange:F=>{m(w=>({...w,location_name:F.target.value})),p(w=>({...w,location_name:""}))},className:`w-full px-4 py-3 rounded-lg border-2 focus:outline-none focus:ring-4 transition-all duration-200 ${u.location_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,children:[e.jsx("option",{value:"",children:"Select a location"}),e.jsx("option",{value:"Blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"Tallaght",children:"Tallaght"}),e.jsx("option",{value:"Glasnevin",children:"Glasnevin"})]}),u.location_name&&e.jsx("p",{className:"text-red-600 text-sm mt-2",children:u.location_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"feedback_type",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Feedback Type ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{value:"suggestion",label:"Suggestion",icon:Ff,color:"blue"},{value:"complaint",label:"Complaint",icon:He,color:"orange"},{value:"safety_concern",label:"Safety Concern",icon:st,color:"red"},{value:"equipment_issue",label:"Equipment Issue",icon:Mf,color:"purple"},{value:"process_improvement",label:"Process Improvement",icon:dl,color:"green"}].map(F=>{const w=F.icon,M=d.feedback_type===F.value;return e.jsxs("button",{type:"button",onClick:()=>m(W=>({...W,feedback_type:F.value})),className:`flex items-center space-x-3 px-4 py-3 rounded-lg border-2 transition-all duration-200 ${M?`border-${F.color}-500 bg-${F.color}-50 text-${F.color}-900`:"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[e.jsx(w,{className:`w-5 h-5 ${M?`text-${F.color}-600`:"text-gray-400"}`}),e.jsx("span",{className:"font-medium text-sm",children:F.label})]},F.value)})})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Title ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{id:"title",type:"text",value:d.title,onChange:F=>{m(w=>({...w,title:F.target.value})),p(w=>({...w,title:""}))},placeholder:"Brief summary of your feedback",className:`w-full px-4 py-3 rounded-lg border-2 focus:outline-none focus:ring-4 transition-all duration-200 ${u.title?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,maxLength:255}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.title&&e.jsx("p",{className:"text-red-600 text-sm",children:u.title}),e.jsxs("p",{className:"text-gray-500 text-xs ml-auto",children:[d.title.length,"/255 characters"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Description ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{id:"description",value:d.description,onChange:F=>{m(w=>({...w,description:F.target.value})),p(w=>({...w,description:""}))},placeholder:"Provide detailed information about your feedback",rows:6,className:`w-full px-4 py-3 rounded-lg border-2 focus:outline-none focus:ring-4 transition-all duration-200 ${u.description?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,maxLength:2e3}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.description&&e.jsx("p",{className:"text-red-600 text-sm",children:u.description}),e.jsxs("p",{className:"text-gray-500 text-xs ml-auto",children:[d.description.length,"/2000 characters"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Priority Level"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}].map(F=>{const w=d.priority===F.value,M=d.feedback_type==="safety_concern"&&F.value!=="urgent";return e.jsx("button",{type:"button",disabled:M,onClick:()=>m(W=>({...W,priority:F.value})),className:`px-4 py-2 rounded-lg border-2 font-medium text-sm transition-all duration-200 ${M?"opacity-50 cursor-not-allowed border-gray-200 bg-gray-50 text-gray-400":w?`${Q(F.value)} border-current`:"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:F.label},F.value)})}),d.feedback_type==="safety_concern"&&e.jsxs("p",{className:"text-sm text-orange-600 mt-2 flex items-center space-x-2",children:[e.jsx(st,{className:"w-4 h-4"}),e.jsx("span",{children:"Safety concerns are automatically set to Urgent priority"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Attachments (Optional)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center bg-gray-50",children:[e.jsx(av,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"File upload functionality coming soon"}),e.jsx("p",{className:"text-xs text-gray-500",children:"For now, please include file URLs in the description if needed"})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.is_anonymous,onChange:F=>m(w=>({...w,is_anonymous:F.target.checked})),className:"mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-4 focus:ring-blue-100"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 block",children:"Submit Anonymously"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your identity will be hidden from admin view, but an audit trail is preserved for system integrity. This ensures confidentiality while maintaining accountability."})]})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{m({location_name:"",feedback_type:"suggestion",title:"",description:"",priority:"medium",attachment_urls:[],is_anonymous:!1}),p({})},className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200",children:"Clear Form"}),e.jsx("button",{type:"submit",disabled:f.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center space-x-2",children:f.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vo,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Feedback"})]})})]})]})]})})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Feedback Details"}),e.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:E?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ts,{className:"w-8 h-8 text-blue-600 animate-spin"})}):O?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:ee(O.feedback_type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:O.title}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:O.reference_number}),O.is_anonymous&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:[e.jsx(Ho,{className:"w-3 h-3 mr-1"}),"Anonymous"]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${P(O.status)}`,children:O.status.replace(/_/g," ")}),e.jsx("span",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${Q(O.priority)}`,children:O.priority})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Location"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:O.location_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Type"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:O.feedback_type.replace(/_/g," ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Submitted"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:B(O.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:B(O.updated_at)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:O.description})})]}),O.resolution_notes&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[e.jsx(ut,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Resolution Notes"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:O.resolution_notes}),O.resolved_at&&e.jsxs("p",{className:"text-sm text-green-700 mt-2",children:["Resolved on ",B(O.resolved_at)]})]})]}),O.assigned_to_user_id&&e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"font-semibold",children:"Assigned to:"})," Admin Team Member"]})})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Failed to load feedback details"})})}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end",children:e.jsx("button",{onClick:I,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors duration-200",children:"Close"})})]})})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Please log in to access staff feedback"}),e.jsx(re,{to:"/login",className:"text-blue-600 hover:text-blue-700 mt-2 inline-block",children:"Go to Login"})]})})})},PC=async(t,s,r,n,a)=>{const l={date_range:s};return s==="custom"&&r&&n&&(l.start_date=r,l.end_date=n),a!=="all"&&(l.location=a),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/analytics/dashboard",{params:l,headers:{Authorization:`Bearer ${t}`}})).data},RC=async(t,s,r,n,a,l)=>{const i={report_type:s,format:l};return r&&(i.date_from=r),n&&(i.date_to=n),a!=="all"&&(i.location=a),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/analytics/reports",{params:i,headers:{Authorization:`Bearer ${t}`},responseType:"blob"})).data},AC=()=>{const t=z(C=>C.authentication_state.auth_token),s=z(C=>C.authentication_state.current_user),r=z(C=>C.show_toast),n=z(C=>C.show_loading),a=z(C=>C.hide_loading),[l,i]=nt(),o=l.get("date_range")||"this_week",c=l.get("start_date")||null,d=l.get("end_date")||null,m=l.get("location")||"all",{data:u,isLoading:p,error:v,refetch:b}=ve({queryKey:["dashboard-metrics",o,c,d,m],queryFn:()=>PC(t,o,c,d,m),enabled:!!t,staleTime:6e4,refetchInterval:6e4}),x=h.useMemo(()=>(u==null?void 0:u.orders_by_status)||{},[u]),y=h.useMemo(()=>(u==null?void 0:u.orders_by_location)||{},[u]),f=h.useMemo(()=>(u==null?void 0:u.top_products)||[],[u]),g=h.useMemo(()=>({late_orders_count:x.paid_awaiting_confirmation||0,inventory_alerts_pending:0,staff_feedback_pending:0}),[x]),j=C=>{const R=new URLSearchParams(l);R.set("date_range",C),C!=="custom"&&(R.delete("start_date"),R.delete("end_date")),i(R)},_=C=>{const R=new URLSearchParams(l);R.set("location",C),i(R)},S=async C=>{if(t)try{n("Generating report...");const R=await RC(t,"daily_sales",c,d,m,C),H=window.URL.createObjectURL(R),I=document.createElement("a");I.href=H,I.download=`dashboard-report-${o}.${C}`,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(H),a(),r("success","Report downloaded successfully")}catch(R){a(),r("error","Failed to download report"),console.error("Export error:",R)}},O=()=>{b(),r("info","Dashboard refreshed")},E=C=>new Intl.NumberFormat("en-IE",{style:"currency",currency:"EUR"}).format(C),T=C=>new Intl.NumberFormat("en-IE").format(C);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Analytics"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",s==null?void 0:s.first_name,". Here's what's happening with your business."]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:O,disabled:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(ts,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:()=>S("csv"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[e.jsx(kc,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs("button",{onClick:()=>S("pdf"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all",children:[e.jsx(kc,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{id:"date-range",value:o,onChange:C=>j(C.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-lg",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this_week",children:"This Week"}),e.jsx("option",{value:"this_month",children:"This Month"}),e.jsx("option",{value:"last_month",children:"Last Month"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsxs("select",{id:"location",value:m,onChange:C=>_(C.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-lg",children:[e.jsx("option",{value:"all",children:"All Locations"}),e.jsx("option",{value:"blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"tallaght",children:"Tallaght"}),e.jsx("option",{value:"glasnevin",children:"Glasnevin"})]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(st,{className:"h-5 w-5 text-red-400"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load dashboard metrics. Please try again."}),e.jsx("button",{onClick:()=>b(),className:"mt-2 text-sm font-medium text-red-700 hover:text-red-600",children:"Retry"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all hover:shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Orders"}),p?e.jsx("div",{className:"mt-2 h-8 w-16 bg-gray-200 rounded animate-pulse"}):e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:T((u==null?void 0:u.today_orders_count)||0)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(ol,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all hover:shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Revenue"}),p?e.jsx("div",{className:"mt-2 h-8 w-24 bg-gray-200 rounded animate-pulse"}):e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:E((u==null?void 0:u.today_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(hp,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all hover:shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),p?e.jsx("div",{className:"mt-2 h-8 w-16 bg-gray-200 rounded animate-pulse"}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:T((u==null?void 0:u.this_week_orders_count)||0)}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:E((u==null?void 0:u.this_week_revenue)||0)})]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Nr,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all hover:shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Orders"}),p?e.jsx("div",{className:"mt-2 h-8 w-16 bg-gray-200 rounded animate-pulse"}):e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:T((u==null?void 0:u.active_orders_count)||0)}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"In progress"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(Le,{className:"h-6 w-6 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Orders by Status"}),p?e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(C=>e.jsx("div",{className:"h-12 bg-gray-200 rounded animate-pulse"},C))}):e.jsxs("div",{className:"space-y-3",children:[Object.entries(x).map(([C,R])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${C==="paid_awaiting_confirmation"?"bg-yellow-500":C==="accepted_in_preparation"?"bg-blue-500":C==="ready_for_collection"?"bg-green-500":C==="out_for_delivery"?"bg-purple-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:C.replace(/_/g," ")})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:R})]},C)),Object.keys(x).length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No active orders"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Orders by Location"}),p?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(C=>e.jsx("div",{className:"h-12 bg-gray-200 rounded animate-pulse"},C))}):e.jsxs("div",{className:"space-y-3",children:[Object.entries(y).map(([C,R])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:C}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:R}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${R/((u==null?void 0:u.today_orders_count)||1)*100}%`}})})]})]},C)),Object.keys(y).length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No location data"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Selling Products"}),e.jsx(Te,{className:"h-5 w-5 text-gray-400"})]}),p?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(C=>e.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},C))}):e.jsxs("div",{className:"space-y-3",children:[f.slice(0,5).map((C,R)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-white rounded-lg border border-gray-100 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-full font-bold",children:R+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:C.product_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[T(C.quantity_sold)," sold"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-lg font-bold text-gray-900",children:E(C.revenue)})})]},R)),f.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No product sales data"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operational Alerts"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(re,{to:"/admin/orders?status=paid_awaiting_confirmation",className:"p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg hover:bg-yellow-100 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Late Orders"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900 mt-1",children:g.late_orders_count})]}),e.jsx(Le,{className:"h-8 w-8 text-yellow-600"})]})}),e.jsx(re,{to:"/admin/inventory/alerts?status=pending",className:"p-4 bg-red-50 border-l-4 border-red-400 rounded-lg hover:bg-red-100 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Inventory Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-red-900 mt-1",children:g.inventory_alerts_pending})]}),e.jsx(st,{className:"h-8 w-8 text-red-600"})]})}),e.jsx(re,{to:"/admin/staff-feedback?status=pending",className:"p-4 bg-blue-50 border-l-4 border-blue-400 rounded-lg hover:bg-blue-100 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Staff Feedback"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:g.staff_feedback_pending})]}),e.jsx(ml,{className:"h-8 w-8 text-blue-600"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(re,{to:"/admin/orders",className:"flex flex-col items-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg hover:from-blue-100 hover:to-blue-200 transition-all",children:[e.jsx(ol,{className:"h-8 w-8 text-blue-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Manage Orders"})]}),e.jsxs(re,{to:"/admin/products",className:"flex flex-col items-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg hover:from-green-100 hover:to-green-200 transition-all",children:[e.jsx(Te,{className:"h-8 w-8 text-green-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Products"})]}),e.jsxs(re,{to:"/admin/users",className:"flex flex-col items-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg hover:from-purple-100 hover:to-purple-200 transition-all",children:[e.jsx(ml,{className:"h-8 w-8 text-purple-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Users"})]}),e.jsxs(re,{to:"/admin/reports",className:"flex flex-col items-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg hover:from-orange-100 hover:to-orange-200 transition-all",children:[e.jsx(sn,{className:"h-8 w-8 text-orange-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Reports"})]})]})]})]})]})})},TC=async t=>{const{token:s,...r}=t;return(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/orders",{params:r,headers:{Authorization:`Bearer ${s}`}})).data},FC=async(t,s)=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,OC=async t=>{const{token:s,order_id:r,...n}=t;return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/orders/${r}/status`,n,{headers:{Authorization:`Bearer ${s}`}})).data},LC=async t=>{const{token:s,...r}=t;return(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/analytics/reports",{params:r,headers:{Authorization:`Bearer ${s}`},responseType:"blob"})).data},sr=t=>`${(typeof t=="string"?parseFloat(t):t).toFixed(2)}`,ru=t=>new Date(t).toLocaleDateString("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Vf=t=>({pending_payment:"bg-gray-100 text-gray-800",payment_confirmed:"bg-yellow-100 text-yellow-800",preparing:"bg-blue-100 text-blue-800",ready_for_collection:"bg-green-100 text-green-800",out_for_delivery:"bg-blue-100 text-blue-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800",delivered:"bg-green-100 text-green-800",collected:"bg-green-100 text-green-800",refunded:"bg-orange-100 text-orange-800"})[t]||"bg-gray-100 text-gray-800",Hf=t=>({pending_payment:e.jsx(Le,{className:"w-4 h-4"}),payment_confirmed:e.jsx(ut,{className:"w-4 h-4"}),preparing:e.jsx(Te,{className:"w-4 h-4"}),ready_for_collection:e.jsx(ut,{className:"w-4 h-4"}),out_for_delivery:e.jsx(na,{className:"w-4 h-4"}),delivered:e.jsx(ut,{className:"w-4 h-4"}),collected:e.jsx(ut,{className:"w-4 h-4"}),completed:e.jsx(ut,{className:"w-4 h-4"}),cancelled:e.jsx(Ut,{className:"w-4 h-4"}),refunded:e.jsx(rv,{className:"w-4 h-4"})})[t]||e.jsx(He,{className:"w-4 h-4"}),MC=()=>{const[t,s]=nt(),r=yt(),n=z(A=>A.authentication_state.auth_token),a=z(A=>A.show_toast),l=z(A=>A.show_confirmation),i=z(A=>A.hide_confirmation),o=t.get("tab")||"all",c=t.get("status")||"",d=t.get("location")||"",m=t.get("date_from")||"",u=t.get("date_to")||"",p=t.get("fulfillment")||"",v=t.get("search")||"",b=t.get("sort_by")||"created_at",x=parseInt(t.get("page")||"1"),[y,f]=h.useState(null),[g,j]=h.useState(!1),[_,S]=h.useState(!1),[O,E]=h.useState("full"),[T,C]=h.useState(""),[R,H]=h.useState(""),[I,ee]=h.useState(!1),[P,Q]=h.useState(v),B=20;h.useEffect(()=>{const A=setTimeout(()=>{if(P!==v){const se=new URLSearchParams(t);P?se.set("search",P):se.delete("search"),se.set("page","1"),s(se)}},500);return()=>clearTimeout(A)},[P]);const F=h.useMemo(()=>({query:v||void 0,location_name:d||void 0,order_status:c||void 0,fulfillment_method:p||void 0,date_from:m||void 0,date_to:u||void 0,limit:B,offset:(x-1)*B,sort_by:b,sort_order:"desc",token:n||""}),[v,d,c,p,m,u,x,b,n]),{data:w,isLoading:M,error:W}=ve({queryKey:["admin-orders",F],queryFn:()=>TC(F),enabled:!!n,staleTime:3e4,select:A=>({...A,data:A.data.map(se=>({...se,subtotal:Number(se.subtotal||0),delivery_fee:Number(se.delivery_fee||0),discount_amount:Number(se.discount_amount||0),tax_amount:Number(se.tax_amount||0),total_amount:Number(se.total_amount||0),loyalty_points_used:Number(se.loyalty_points_used||0),loyalty_points_earned:Number(se.loyalty_points_earned||0),guest_count:se.guest_count?Number(se.guest_count):null}))})}),{data:G,isLoading:U}=ve({queryKey:["order-detail",y],queryFn:()=>FC(y,n),enabled:!!y&&!!n,staleTime:1e4,select:A=>({...A,collection_code:A.collection_code,subtotal:Number(A.subtotal||0),delivery_fee:Number(A.delivery_fee||0),discount_amount:Number(A.discount_amount||0),tax_amount:Number(A.tax_amount||0),total_amount:Number(A.total_amount||0),loyalty_points_used:Number(A.loyalty_points_used||0),loyalty_points_earned:Number(A.loyalty_points_earned||0),items:A.items.map(se=>({...se,price_at_purchase:Number(se.price_at_purchase||0),quantity:Number(se.quantity||0),subtotal:Number(se.subtotal||0)}))})}),ae=we({mutationFn:A=>OC(A),onSuccess:()=>{r.invalidateQueries({queryKey:["admin-orders"]}),r.invalidateQueries({queryKey:["order-detail",y]}),a("success","Order status updated successfully")},onError:A=>{var se,k;a("error",((k=(se=A.response)==null?void 0:se.data)==null?void 0:k.message)||"Failed to update order status")}}),Y=we({mutationFn:A=>LC(A),onSuccess:A=>{const se=window.URL.createObjectURL(A),k=document.createElement("a");k.href=se,k.download=`orders_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(se),document.body.removeChild(k),a("success","Orders exported successfully")},onError:A=>{var se,k;a("error",((k=(se=A.response)==null?void 0:se.data)==null?void 0:k.message)||"Failed to export orders")}}),N=(A,se)=>{const k=new URLSearchParams(t);se?k.set(A,se):k.delete(A),k.set("page","1"),s(k)},V=()=>{s({tab:o}),Q("")},J=A=>{const se=new URLSearchParams(t);se.set("page",A.toString()),s(se)},ne=A=>{f(A),j(!0)},K=()=>{j(!1),setTimeout(()=>f(null),300)},oe=(A,se)=>{!y||!n||l({title:"Update Order Status",message:`Are you sure you want to change the status to "${A}"?`,confirm_text:"Update Status",cancel_text:"Cancel",on_confirm:()=>{ae.mutate({order_id:y,order_status:A,notes:se,token:n}),i()},on_cancel:()=>{i()},danger_action:!1})},D=()=>{G&&(C(G.total_amount.toString()),E("full"),H(""),S(!0))},le=()=>{a("warning","Refund endpoint not yet implemented"),S(!1)},ue=()=>{n&&Y.mutate({report_type:"orders_export",format:"csv",location:d||void 0,date_from:m||void 0,date_to:u||void 0,token:n})},q=w?Math.ceil(w.total/B):0;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and track all orders across locations"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:ue,disabled:Y.isPending,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:Y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kc,{className:"w-4 h-4 mr-2"}),"Export CSV"]})}),e.jsxs("button",{onClick:()=>r.invalidateQueries({queryKey:["admin-orders"]}),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4",children:[e.jsx("div",{className:"flex-1 max-w-2xl",children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:P,onChange:A=>Q(A.target.value),placeholder:"Search by order number, customer name, phone, or email...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>ee(!I),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium transition-all duration-200 ${I||c||d||m||p?"border-blue-500 text-blue-700 bg-blue-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:[e.jsx(wl,{className:"w-4 h-4 mr-2"}),"Filters",(c||d||m||p)&&e.jsx("span",{className:"ml-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),(v||c||d||m||p)&&e.jsxs("button",{onClick:V,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Ee,{className:"w-4 h-4 mr-1"}),"Clear"]})]})]}),I&&e.jsxs("div",{className:"pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:c,onChange:A=>N("status",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending_payment",children:"Pending Payment"}),e.jsx("option",{value:"payment_confirmed",children:"Payment Confirmed"}),e.jsx("option",{value:"preparing",children:"Preparing"}),e.jsx("option",{value:"ready_for_collection",children:"Ready for Collection"}),e.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"refunded",children:"Refunded"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("select",{value:d,onChange:A=>N("location",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"Blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"Tallaght",children:"Tallaght"}),e.jsx("option",{value:"Glasnevin",children:"Glasnevin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fulfillment Method"}),e.jsxs("select",{value:p,onChange:A=>N("fulfillment",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Methods"}),e.jsx("option",{value:"delivery",children:"Delivery"}),e.jsx("option",{value:"collection",children:"Collection"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:m,onChange:A=>N("date_from",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:u,onChange:A=>N("date_to",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})]}),w&&e.jsxs("div",{className:"mb-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Showing ",w.data.length," of ",w.total," orders"]}),w.total>B&&e.jsxs("span",{children:["Page ",x," of ",q]})]}),M?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(ts,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading orders..."})]})}):W?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(He,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Failed to load orders"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please try refreshing the page"})]})}):!w||w.data.length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(Te,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or search criteria"})]})}):e.jsx("div",{className:"space-y-4",children:w.data.map(A=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:A.order_number}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${Vf(A.order_status)}`,children:[Hf(A.order_status),A.order_status.replace(/_/g," ")]}),A.order_type==="corporate"&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-100 text-purple-800",children:"Corporate"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ul,{className:"w-4 h-4"}),e.jsx("span",{children:A.customer_name})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wr,{className:"w-4 h-4"}),e.jsx("span",{children:A.customer_email})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kr,{className:"w-4 h-4"}),e.jsx("span",{children:A.customer_phone})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-900",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-400"}),A.location_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Fulfillment"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-900",children:[A.fulfillment_method==="delivery"?e.jsx(na,{className:"w-4 h-4 text-gray-400"}):e.jsx(Te,{className:"w-4 h-4 text-gray-400"}),A.fulfillment_method==="delivery"?"Delivery":"Collection"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Date"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-900",children:[e.jsx(Nr,{className:"w-4 h-4 text-gray-400"}),ru(A.created_at)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Amount"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-bold text-gray-900",children:[e.jsx(hp,{className:"w-4 h-4 text-green-600"}),sr(A.total_amount)]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tv,{className:"w-3 h-3"}),"Payment: ",A.payment_status,A.card_last_four&&` ( ${A.card_last_four})`]}),A.promo_code&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Lt,{className:"w-3 h-3"}),"Promo: ",A.promo_code]})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>ne(A.order_id),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[e.jsx(Fs,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})},A.order_id))}),w&&w.total>B&&e.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white rounded-xl shadow-sm border border-gray-200 px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(x-1)*B+1," to"," ",Math.min(x*B,w.total)," of"," ",w.total," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>J(x-1),disabled:x===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,q)},(A,se)=>{let k;return q<=5||x<=3?k=se+1:x>=q-2?k=q-4+se:k=x-2+se,e.jsx("button",{onClick:()=>J(k),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${x===k?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:k},k)})}),e.jsx("button",{onClick:()=>J(x+1),disabled:x===q,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Next"})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:K}),e.jsx("div",{className:"absolute inset-y-0 right-0 max-w-full flex",children:e.jsx("div",{className:"w-screen max-w-3xl",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Details"}),e.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:U?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ts,{className:"w-8 h-8 text-blue-500 animate-spin"})}):G?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:G.order_number}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",ru(G.created_at)]})]}),e.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium ${Vf(G.order_status)}`,children:[Hf(G.order_status),G.order_status.replace(/_/g," ").toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:D,disabled:G.payment_status==="refunded",className:"inline-flex items-center px-4 py-2 border border-orange-300 rounded-lg text-sm font-medium text-orange-700 bg-orange-50 hover:bg-orange-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[e.jsx(rv,{className:"w-4 h-4 mr-2"}),"Issue Refund"]}),e.jsxs("select",{value:"",onChange:A=>{A.target.value&&oe(A.target.value)},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[e.jsx("option",{value:"",children:"Update Status..."}),e.jsx("option",{value:"payment_confirmed",children:"Payment Confirmed"}),e.jsx("option",{value:"preparing",children:"Preparing"}),e.jsx("option",{value:"ready_for_collection",children:"Ready for Collection"}),e.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.customer_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.customer_email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.customer_phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.location_name})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fulfillment Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[G.fulfillment_method==="delivery"?e.jsx(na,{className:"w-5 h-5 text-blue-600"}):e.jsx(Te,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:G.fulfillment_method==="delivery"?"Delivery":"Collection"})]}),G.fulfillment_method==="delivery"&&G.delivery_address_line1&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Delivery Address"}),e.jsx("p",{className:"text-sm text-gray-900",children:G.delivery_address_line1}),G.delivery_address_line2&&e.jsx("p",{className:"text-sm text-gray-900",children:G.delivery_address_line2}),e.jsxs("p",{className:"text-sm text-gray-900",children:[G.delivery_city,", ",G.delivery_postal_code]}),G.delivery_instructions&&e.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Instructions: ",G.delivery_instructions]})]}),G.collection_code&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Collection Code"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:G.collection_code})]}),G.special_instructions&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Special Instructions"}),e.jsx("p",{className:"text-sm text-gray-900",children:G.special_instructions})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:G.items.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:A.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[sr(A.price_at_purchase),"  ",A.quantity]}),A.product_specific_notes&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Note: ",A.product_specific_notes]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-bold text-gray-900",children:sr(A.subtotal)})})]},A.item_id))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"font-medium text-gray-900",children:sr(G.subtotal)})]}),G.delivery_fee>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsx("span",{className:"font-medium text-gray-900",children:sr(G.delivery_fee)})]}),G.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Discount"}),e.jsxs("span",{className:"font-medium text-green-600",children:["-",sr(G.discount_amount)]})]}),G.tax_amount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax"}),e.jsx("span",{className:"font-medium text-gray-900",children:sr(G.tax_amount)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-gray-900",children:"Total"}),e.jsx("span",{className:"text-gray-900",children:sr(G.total_amount)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:G.payment_method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Status"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:G.payment_status})]}),G.card_last_four&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Card"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[" ",G.card_last_four]})]}),G.payment_transaction_id&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Transaction ID"}),e.jsx("p",{className:"text-sm font-mono text-gray-900",children:G.payment_transaction_id})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status History"}),e.jsx("div",{className:"space-y-4",children:G.status_history.map((A,se)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${se===G.status_history.length-1?"bg-blue-600":"bg-gray-300"}`}),se<G.status_history.length-1&&e.jsx("div",{className:"w-0.5 h-full bg-gray-300 my-1"})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:A.new_status.replace(/_/g," ").toUpperCase()}),e.jsx("p",{className:"text-xs text-gray-500",children:ru(A.changed_at)})]}),A.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.notes}),A.changed_by_name&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By: ",A.changed_by_name]})]})]},A.history_id))})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-500",children:"Failed to load order details"})})})]})})})]})}),_&&G&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>S(!1)}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsxs("div",{className:"bg-white px-6 pt-5 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Process Refund"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Type"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"full",checked:O==="full",onChange:A=>{E(A.target.value),C(G.total_amount.toString())},className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Full Refund"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"partial",checked:O==="partial",onChange:A=>{E(A.target.value),C("")},className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Partial Refund"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",step:"0.01",value:T,onChange:A=>C(A.target.value),disabled:O==="full",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Reason *"}),e.jsx("textarea",{value:R,onChange:A=>H(A.target.value),rows:4,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100",placeholder:"Enter reason for refund..."})]}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(He,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Warning"}),e.jsxs("p",{children:["This action will process a refund of ",sr(T||0)," to the customer's original payment method. This cannot be undone."]})]})]})})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),e.jsx("button",{onClick:le,disabled:!R||!T||parseFloat(T)<=0,className:"px-4 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Process Refund"})]})]})]})})]})})},DC=()=>{const[t,s]=nt(),r=yt(),n=z(k=>k.authentication_state.auth_token),a=z(k=>k.location_state.available_locations),l=z(k=>k.show_toast),i=z(k=>k.show_confirmation),o=z(k=>k.hide_confirmation),c={location:t.get("location")||null,availability:t.get("availability")||"all",category:t.get("category")||null,search:t.get("search")||"",sort_by:t.get("sort_by")||"created_at",sort_order:t.get("sort_order")||"desc"},[d,m]=h.useState(c),[u,p]=h.useState(!1),[v,b]=h.useState("create"),[x,y]=h.useState({product_id:null,product_name:"",short_description:"",long_description:"",category:"pastries",price:0,compare_at_price:null,primary_image_url:"",additional_images:[],availability_status:"in_stock",stock_quantity:null,low_stock_threshold:null,dietary_tags:[],custom_tags:[],is_featured:!1,available_for_corporate:!0,available_from_date:null,available_until_date:null,location_assignments:[]}),[f,g]=h.useState({}),[j,_]=h.useState([]),[S,O]=h.useState({uploading:!1,progress:0,uploaded_urls:[]});h.useEffect(()=>{const k={};d.location&&(k.location=d.location),d.availability!=="all"&&(k.availability=d.availability),d.category&&(k.category=d.category),d.search&&(k.search=d.search),k.sort_by=d.sort_by,k.sort_order=d.sort_order,s(k)},[d,s]);const E=async()=>{const k={limit:100,offset:0,sort_by:d.sort_by,sort_order:d.sort_order,is_archived:"false"};return d.search&&(k.query=d.search),d.category&&(k.category=d.category),d.availability!=="all"&&(k.availability_status=d.availability),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/products",{params:k,headers:{Authorization:`Bearer ${n}`}})).data},T=async k=>{const me={product_name:k.product_name,short_description:k.short_description,long_description:k.long_description||null,category:k.category,price:k.price,compare_at_price:k.compare_at_price,primary_image_url:k.primary_image_url,additional_images:k.additional_images.length>0?JSON.stringify(k.additional_images):null,availability_status:k.availability_status,stock_quantity:k.stock_quantity,low_stock_threshold:k.low_stock_threshold,dietary_tags:k.dietary_tags.length>0?JSON.stringify(k.dietary_tags):null,custom_tags:k.custom_tags.length>0?JSON.stringify(k.custom_tags):null,is_featured:k.is_featured,available_for_corporate:k.available_for_corporate,available_from_date:k.available_from_date,available_until_date:k.available_until_date,location_assignments:k.location_assignments};return(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/products",me,{headers:{Authorization:`Bearer ${n}`}})).data},C=async k=>{const me={product_id:k.product_id,product_name:k.product_name,short_description:k.short_description,long_description:k.long_description||null,category:k.category,price:k.price,compare_at_price:k.compare_at_price,primary_image_url:k.primary_image_url,additional_images:k.additional_images.length>0?JSON.stringify(k.additional_images):null,availability_status:k.availability_status,stock_quantity:k.stock_quantity,low_stock_threshold:k.low_stock_threshold,dietary_tags:k.dietary_tags.length>0?JSON.stringify(k.dietary_tags):null,custom_tags:k.custom_tags.length>0?JSON.stringify(k.custom_tags):null,is_featured:k.is_featured,available_for_corporate:k.available_for_corporate,available_from_date:k.available_from_date,available_until_date:k.available_until_date};return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/products/${k.product_id}`,me,{headers:{Authorization:`Bearer ${n}`}})).data},R=async k=>(await ie.delete(`https://123build-an-online-web-application.launchpulse.ai/api/products/${k}`,{headers:{Authorization:`Bearer ${n}`}})).data,{data:H,isLoading:I,error:ee}=ve({queryKey:["products",d],queryFn:E,staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:k=>{var me;return{products:((me=k.data)==null?void 0:me.map(ge=>({...ge,price:Number(ge.price||0),compare_at_price:ge.compare_at_price?Number(ge.compare_at_price):null,stock_quantity:ge.stock_quantity?Number(ge.stock_quantity):null,low_stock_threshold:ge.low_stock_threshold?Number(ge.low_stock_threshold):null})))||[],total:k.total||0}}}),P=we({mutationFn:T,onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),p(!1),F(),l("success","Product created successfully")},onError:k=>{var ge,je;const me=((je=(ge=k.response)==null?void 0:ge.data)==null?void 0:je.message)||"Failed to create product";l("error",me)}}),Q=we({mutationFn:C,onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),p(!1),F(),l("success","Product updated successfully")},onError:k=>{var ge,je;const me=((je=(ge=k.response)==null?void 0:ge.data)==null?void 0:je.message)||"Failed to update product";l("error",me)}}),B=we({mutationFn:R,onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),l("success","Product archived successfully")},onError:k=>{var ge,je;const me=((je=(ge=k.response)==null?void 0:ge.data)==null?void 0:je.message)||"Failed to delete product";l("error",me)}}),F=()=>{y({product_id:null,product_name:"",short_description:"",long_description:"",category:"pastries",price:0,compare_at_price:null,primary_image_url:"",additional_images:[],availability_status:"in_stock",stock_quantity:null,low_stock_threshold:null,dietary_tags:[],custom_tags:[],is_featured:!1,available_for_corporate:!0,available_from_date:null,available_until_date:null,location_assignments:[]}),g({})},w=()=>{F(),b("create"),p(!0)},M=k=>{y({product_id:k.product_id,product_name:k.product_name,short_description:k.short_description,long_description:k.long_description||"",category:k.category,price:k.price,compare_at_price:k.compare_at_price,primary_image_url:k.primary_image_url,additional_images:k.additional_images?JSON.parse(k.additional_images):[],availability_status:k.availability_status,stock_quantity:k.stock_quantity,low_stock_threshold:k.low_stock_threshold,dietary_tags:k.dietary_tags?(()=>{try{return JSON.parse(k.dietary_tags)}catch{return k.dietary_tags.split(",")}})():[],custom_tags:k.custom_tags?(()=>{try{return JSON.parse(k.custom_tags)}catch{return k.custom_tags.split(",")}})():[],is_featured:k.is_featured,available_for_corporate:k.available_for_corporate,available_from_date:k.available_from_date,available_until_date:k.available_until_date,location_assignments:[]}),b("edit"),p(!0)},W=()=>{const k={};return x.product_name.trim()?x.product_name.length>255&&(k.product_name="Product name must be 255 characters or less"):k.product_name="Product name is required",x.short_description.trim()?x.short_description.length>500&&(k.short_description="Short description must be 500 characters or less"):k.short_description="Short description is required",x.long_description&&x.long_description.length>2e3&&(k.long_description="Long description must be 2000 characters or less"),(!x.price||x.price<=0)&&(k.price="Price must be greater than 0"),x.compare_at_price&&x.compare_at_price<=x.price&&(k.compare_at_price="Compare at price must be greater than regular price"),x.primary_image_url.trim()||(k.primary_image_url="Product image is required"),v==="create"&&x.location_assignments.length===0&&(k.location_assignments="Please assign at least one location"),g(k),Object.keys(k).length===0},G=(k,me)=>{m(ge=>({...ge,[k]:me}))},U=(k,me)=>{y(ge=>({...ge,[k]:me})),f[k]&&g(ge=>{const je={...ge};return delete je[k],je})},ae=(k,me=!0)=>{var Ke;const ge=(Ke=k.target.files)==null?void 0:Ke[0];if(!ge)return;const je=new FileReader;je.onloadstart=()=>{O(_t=>({..._t,uploading:!0,progress:0}))},je.onprogress=_t=>{if(_t.lengthComputable){const is=Math.round(_t.loaded/_t.total*100);O(Pt=>({...Pt,progress:is}))}},je.onload=()=>{const _t=je.result;me?U("primary_image_url",_t):U("additional_images",[...x.additional_images,_t]),O({uploading:!1,progress:0,uploaded_urls:[]}),l("success","Image uploaded successfully")},je.onerror=()=>{O({uploading:!1,progress:0,uploaded_urls:[]}),l("error","Failed to upload image")},je.readAsDataURL(ge)},Y=k=>{U("additional_images",x.additional_images.filter((me,ge)=>ge!==k))},N=async k=>{if(k.preventDefault(),!W()){l("error","Please fix validation errors");return}v==="create"?P.mutate(x):Q.mutate(x)},V=k=>{i({title:"Delete Product",message:`Are you sure you want to archive "${k.product_name}"? This product will no longer appear in menus but order history will be preserved.`,confirm_text:"Archive Product",cancel_text:"Cancel",danger_action:!0,on_confirm:()=>{B.mutate(k.product_id),o()},on_cancel:()=>{o()}})},J=k=>{_(me=>me.includes(k)?me.filter(ge=>ge!==k):[...me,k])},ne=()=>{j.length===(H==null?void 0:H.products.length)?_([]):_((H==null?void 0:H.products.map(k=>k.product_id))||[])},K=k=>{l("info","Bulk update endpoint not yet implemented")},oe=k=>{k&&!x.dietary_tags.includes(k)&&U("dietary_tags",[...x.dietary_tags,k])},D=k=>{U("dietary_tags",x.dietary_tags.filter(me=>me!==k))},le=k=>{x.location_assignments.includes(k)?U("location_assignments",x.location_assignments.filter(me=>me!==k)):U("location_assignments",[...x.location_assignments,k])},ue=h.useMemo(()=>(H==null?void 0:H.products)||[],[H]),q=h.useMemo(()=>(H==null?void 0:H.total)||0,[H]),A=h.useMemo(()=>(d.location,ue),[ue,d.location]),se=["vegetarian","vegan","gluten_free","dairy_free","sugar_free","organic"];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Catalog"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your products, pricing, and availability"})]}),e.jsxs("button",{onClick:w,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(es,{className:"w-5 h-5 mr-2"}),"Add New Product"]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:d.search,onChange:k=>G("search",k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d.category||"",onChange:k=>G("category",k.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"pastries",children:"Pastries"}),e.jsx("option",{value:"breads",children:"Breads"}),e.jsx("option",{value:"cakes",children:"Cakes"}),e.jsx("option",{value:"corporate",children:"Corporate"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d.availability,onChange:k=>G("availability",k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"in_stock",children:"In Stock"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:`${d.sort_by}_${d.sort_order}`,onChange:k=>{const[me,ge]=k.target.value.split("_");m(je=>({...je,sort_by:me,sort_order:ge}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[e.jsx("option",{value:"created_at_desc",children:"Newest First"}),e.jsx("option",{value:"created_at_asc",children:"Oldest First"}),e.jsx("option",{value:"product_name_asc",children:"Name A-Z"}),e.jsx("option",{value:"product_name_desc",children:"Name Z-A"}),e.jsx("option",{value:"price_asc",children:"Price Low-High"}),e.jsx("option",{value:"price_desc",children:"Price High-Low"})]}),e.jsx(Wi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"font-medium",children:[q," products"]}),(d.search||d.category||d.availability!=="all")&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("button",{onClick:()=>{m({location:null,availability:"all",category:null,search:"",sort_by:"created_at",sort_order:"desc"})},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Clear filters"})]})]}),j.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[j.length," selected"]}),e.jsx("button",{onClick:()=>K(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium transition-colors",children:"Mark In Stock"}),e.jsx("button",{onClick:()=>K(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm font-medium transition-colors",children:"Mark Out of Stock"}),e.jsx("button",{onClick:()=>_([]),className:"p-2 text-gray-600 hover:text-gray-900",children:e.jsx(Ee,{className:"w-5 h-5"})})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:I?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):ee?e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-8 text-center",children:[e.jsx(He,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Failed to Load Products"}),e.jsx("p",{className:"text-red-700",children:"Please try refreshing the page"})]}):A.length===0?e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-12 text-center",children:[e.jsx(Te,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d.search||d.category?"Try adjusting your filters or search terms":"Get started by adding your first product"}),e.jsxs("button",{onClick:w,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:[e.jsx(es,{className:"w-5 h-5 mr-2"}),"Add Your First Product"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",checked:j.length===A.length&&A.length>0,onChange:ne,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Select All"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(k=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[k.primary_image_url?e.jsx("img",{src:k.primary_image_url,alt:k.product_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(h6,{className:"w-16 h-16 text-gray-300"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("input",{type:"checkbox",checked:j.includes(k.product_id),onChange:()=>J(k.product_id),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 bg-white/90"})}),e.jsx("div",{className:"absolute top-3 right-3",children:k.availability_status==="in_stock"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(ut,{className:"w-3 h-3 mr-1"}),"In Stock"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Out of Stock"]})}),k.is_featured&&e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(Es,{className:"w-3 h-3 mr-1 fill-current"}),"Featured"]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 leading-tight",children:k.product_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:k.short_description})]})}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:k.category}),k.available_for_corporate&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-purple-100 text-purple-800",children:"Corporate"})]}),k.dietary_tags&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(()=>{try{return JSON.parse(k.dietary_tags)}catch{return k.dietary_tags.split(",")}})().map((me,ge)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(zm,{className:"w-3 h-3 mr-1"}),me]},ge))}),e.jsxs("div",{className:"mt-4 flex items-baseline space-x-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",Number(k.price||0).toFixed(2)]}),k.compare_at_price&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",Number(k.compare_at_price).toFixed(2)]})]}),k.stock_quantity!==null&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Stock: ",k.stock_quantity," units",k.low_stock_threshold&&k.stock_quantity<=k.low_stock_threshold&&e.jsx("span",{className:"ml-2 text-orange-600 font-medium",children:"(Low Stock)"})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>M(k),className:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsx("button",{onClick:()=>V(k),className:"inline-flex items-center justify-center px-4 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors",children:e.jsx(cl,{className:"w-4 h-4"})})]})]})]},k.product_id))})]})}),u&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>p(!1)}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:v==="create"?"Add New Product":"Edit Product"}),e.jsx("button",{onClick:()=>p(!1),className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6"})})]})}),e.jsxs("form",{onSubmit:N,className:"px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:x.product_name,onChange:k=>U("product_name",k.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${f.product_name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Classic Croissant"}),f.product_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.product_name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Short Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:x.short_description,onChange:k=>U("short_description",k.target.value),rows:2,maxLength:500,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${f.short_description?"border-red-500":"border-gray-300"}`,placeholder:"Brief product description for listings"}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[f.short_description&&e.jsx("p",{className:"text-sm text-red-600",children:f.short_description}),e.jsxs("span",{className:"text-xs text-gray-500",children:[x.short_description.length,"/500"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Long Description"}),e.jsx("textarea",{value:x.long_description,onChange:k=>U("long_description",k.target.value),rows:4,maxLength:2e3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Detailed product description for product detail page"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[x.long_description.length,"/2000"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x.category,onChange:k=>U("category",k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"pastries",children:"Pastries"}),e.jsx("option",{value:"breads",children:"Breads"}),e.jsx("option",{value:"cakes",children:"Cakes"}),e.jsx("option",{value:"corporate",children:"Corporate"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Availability ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x.availability_status,onChange:k=>U("availability_status",k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"in_stock",children:"In Stock"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:x.price,onChange:k=>U("price",parseFloat(k.target.value)||0),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${f.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),f.price&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compare at Price ()"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:x.compare_at_price||"",onChange:k=>U("compare_at_price",k.target.value?parseFloat(k.target.value):null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Show as discounted if higher than price"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Images"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Primary Image ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[x.primary_image_url&&e.jsxs("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border-2 border-gray-200",children:[e.jsx("img",{src:x.primary_image_url,alt:"Primary",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>U("primary_image_url",""),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:e.jsx(Ee,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:k=>ae(k,!0),className:"hidden",id:"primary-image-upload"}),e.jsxs("label",{htmlFor:"primary-image-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx(av,{className:"w-4 h-4 mr-2"}),S.uploading?`Uploading... ${S.progress}%`:"Upload Image"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG up to 5MB"})]})]}),f.primary_image_url&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:f.primary_image_url})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Images"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[x.additional_images.map((k,me)=>e.jsxs("div",{className:"relative w-full aspect-square rounded-lg overflow-hidden border-2 border-gray-200",children:[e.jsx("img",{src:k,alt:`Additional ${me+1}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>Y(me),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:e.jsx(Ee,{className:"w-3 h-3"})})]},me)),x.additional_images.length<4&&e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:k=>ae(k,!1),className:"hidden",id:"additional-image-upload"}),e.jsx("label",{htmlFor:"additional-image-upload",className:"flex items-center justify-center w-full aspect-square border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 cursor-pointer transition-colors",children:e.jsx(es,{className:"w-8 h-8 text-gray-400"})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stock Management"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),e.jsx("input",{type:"number",min:"0",value:x.stock_quantity||"",onChange:k=>U("stock_quantity",k.target.value?parseInt(k.target.value):null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank for unlimited"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Stock Threshold"}),e.jsx("input",{type:"number",min:"0",value:x.low_stock_threshold||"",onChange:k=>U("low_stock_threshold",k.target.value?parseInt(k.target.value):null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Alert when stock is low"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dietary Tags"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:se.map(k=>e.jsx("button",{type:"button",onClick:()=>x.dietary_tags.includes(k)?D(k):oe(k),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${x.dietary_tags.includes(k)?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:k.replace("_"," ")},k))}),x.dietary_tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Selected:"}),x.dietary_tags.map(k=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800",children:[k,e.jsx("button",{type:"button",onClick:()=>D(k),className:"ml-1.5 hover:text-green-900",children:e.jsx(Ee,{className:"w-3 h-3"})})]},k))]})]})]}),v==="create"&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Location Assignment ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"space-y-2",children:a.map(k=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:x.location_assignments.includes(k.location_name),onChange:()=>le(k.location_name),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:k.location_name}),e.jsx("span",{className:"ml-auto text-xs text-gray-500",children:k.city})]},k.location_id))}),f.location_assignments&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:f.location_assignments})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.is_featured,onChange:k=>U("is_featured",k.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"Featured Product"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.available_for_corporate,onChange:k=>U("available_for_corporate",k.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"Available for Corporate Orders"})]})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-6 py-2.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:P.isPending||Q.isPending,className:"px-6 py-2.5 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P.isPending||Q.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v==="create"?"Creating...":"Updating..."]}):v==="create"?"Create Product":"Update Product"})]})]})]})]})})]})})},IC=async(t,s)=>{const r={limit:20,offset:0};return t.search&&(r.query=t.search),t.user_type&&t.user_type!=="all"&&(r.user_type=t.user_type),t.status&&t.status!=="all"&&(r.account_status=t.status),t.sort_by&&(r.sort_by=t.sort_by),t.sort_order&&(r.sort_order=t.sort_order),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${s}`},params:r})).data},$C=async(t,s)=>{const r={email:t.email,password:t.password,first_name:t.first_name,last_name:t.last_name,phone_number:t.phone_number,user_type:t.user_type,marketing_opt_in:t.marketing_opt_in};return(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/users",r,{headers:{Authorization:`Bearer ${s}`}})).data},qC=async(t,s)=>{if(!t.user_id)throw new Error("User ID required for update");const r={user_id:t.user_id,email:t.email,first_name:t.first_name,last_name:t.last_name,phone_number:t.phone_number,user_type:t.user_type,account_status:t.account_status,marketing_opt_in:t.marketing_opt_in};return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/users/${t.user_id}`,r,{headers:{Authorization:`Bearer ${s}`}})).data},zC=async(t,s)=>{const r={user_id:t,account_status:"suspended"};return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/users/${t}`,r,{headers:{Authorization:`Bearer ${s}`}})).data},BC=()=>{const[t,s]=nt(),r=yt(),n=z(N=>N.authentication_state.auth_token),a=z(N=>N.authentication_state.current_user),l=z(N=>N.show_toast),[i,o]=h.useState({user_type:t.get("user_type")||"all",status:t.get("status")||"active",search:t.get("search")||"",date_from:t.get("date_from")||null,date_to:t.get("date_to")||null,sort_by:t.get("sort_by")||"created_at",sort_order:t.get("sort_order")||"desc"}),[c,d]=h.useState(!1),[m,u]=h.useState("create"),[p,v]=h.useState({user_id:null,email:"",password:"",first_name:"",last_name:"",phone_number:"",user_type:"customer",account_status:"active",marketing_opt_in:!1}),[b,x]=h.useState({}),[y,f]=h.useState({open:!1,user_id:null}),[g,j]=h.useState({open:!1,user_id:null});h.useEffect(()=>{const N=new URLSearchParams;i.user_type!=="all"&&N.set("user_type",i.user_type),i.status!=="active"&&N.set("status",i.status),i.search&&N.set("search",i.search),i.date_from&&N.set("date_from",i.date_from),i.date_to&&N.set("date_to",i.date_to),i.sort_by!=="created_at"&&N.set("sort_by",i.sort_by),i.sort_order!=="desc"&&N.set("sort_order",i.sort_order),s(N,{replace:!0})},[i,s]);const{data:_,isLoading:S,error:O}=ve({queryKey:["admin-users",i],queryFn:()=>IC(i,n||""),enabled:!!n,staleTime:6e4}),E=(_==null?void 0:_.data)||[],T=(_==null?void 0:_.total)||0,C=we({mutationFn:N=>$C(N,n||""),onSuccess:N=>{r.invalidateQueries({queryKey:["admin-users"]}),d(!1),I(),l("success",`User ${N.first_name} ${N.last_name} created successfully`)},onError:N=>{var J,ne;const V=((ne=(J=N.response)==null?void 0:J.data)==null?void 0:ne.message)||"Failed to create user";l("error",V)}}),R=we({mutationFn:N=>qC(N,n||""),onSuccess:N=>{r.invalidateQueries({queryKey:["admin-users"]}),d(!1),I(),l("success",`User ${N.first_name} ${N.last_name} updated successfully`)},onError:N=>{var J,ne;const V=((ne=(J=N.response)==null?void 0:J.data)==null?void 0:ne.message)||"Failed to update user";l("error",V)}}),H=we({mutationFn:N=>zC(N,n||""),onSuccess:()=>{r.invalidateQueries({queryKey:["admin-users"]}),f({open:!1,user_id:null}),l("success","User account deactivated successfully")},onError:N=>{var J,ne;const V=((ne=(J=N.response)==null?void 0:J.data)==null?void 0:ne.message)||"Failed to deactivate user";l("error",V)}}),I=()=>{v({user_id:null,email:"",password:"",first_name:"",last_name:"",phone_number:"",user_type:"customer",account_status:"active",marketing_opt_in:!1}),x({})},ee=()=>{I(),u("create"),d(!0)},P=async N=>{v({user_id:N.user_id,email:N.email,password:"",first_name:N.first_name,last_name:N.last_name,phone_number:N.phone_number,user_type:N.user_type,account_status:N.account_status,marketing_opt_in:N.marketing_opt_in}),u("edit"),d(!0)},Q=()=>{const N={};return p.email?/\S+@\S+\.\S+/.test(p.email)||(N.email="Invalid email format"):N.email="Email is required",m==="create"&&!p.password&&(N.password="Password is required"),m==="create"&&p.password.length<8&&(N.password="Password must be at least 8 characters"),p.first_name||(N.first_name="First name is required"),p.last_name||(N.last_name="Last name is required"),p.phone_number||(N.phone_number="Phone number is required"),x(N),Object.keys(N).length===0},B=()=>{if(!Q()){l("error","Please correct the form errors");return}m==="create"?C.mutate(p):R.mutate(p)},F=N=>{if((a==null?void 0:a.user_id)===N){l("error","You cannot deactivate your own account");return}f({open:!0,user_id:N})},w=()=>{y.user_id&&H.mutate(y.user_id)},M=N=>{j({open:!0,user_id:N})},W=()=>{l("info","Password reset email would be sent (endpoint not implemented)"),j({open:!1,user_id:null})},G=(N,V)=>{o(J=>({...J,[N]:V}))},U=N=>{switch(N){case"admin":return"bg-purple-100 text-purple-800";case"manager":return"bg-blue-100 text-blue-800";case"staff":return"bg-green-100 text-green-800";case"customer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ae=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-yellow-100 text-yellow-800";case"deleted":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=N=>new Date(N).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage user accounts, roles, and permissions"})]}),e.jsxs("button",{onClick:ee,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create User"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Name or email...",value:i.search,onChange:N=>G("search",N.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),e.jsxs("select",{value:i.user_type,onChange:N=>G("user_type",N.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Status"}),e.jsxs("select",{value:i.status,onChange:N=>G("status",N.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"deleted",children:"Deleted"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("select",{value:i.sort_by,onChange:N=>G("sort_by",N.target.value),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"created_at",children:"Date Created"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"last_login_at",children:"Last Login"})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:E.length})," ","of"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:T})," ","users"]})})]}),S?e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading users..."})]})}):O?e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load users"}),e.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page"})]})}):E.length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gray-100 mb-4",children:e.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or create a new user"}),e.jsx("button",{onClick:ee,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})}):e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(N=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-semibold text-sm",children:[N.first_name[0],N.last_name[0]]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N.first_name," ",N.last_name]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",N.user_id.slice(0,12),"..."]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:N.email}),e.jsx("div",{className:"text-sm text-gray-500",children:N.phone_number})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U(N.user_type)}`,children:N.user_type.charAt(0).toUpperCase()+N.user_type.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(N.account_status)}`,children:N.account_status.charAt(0).toUpperCase()+N.account_status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Y(N.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.last_login_at?Y(N.last_login_at):"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>P(N),className:"text-blue-600 hover:text-blue-900 font-medium transition-colors",children:"Edit"}),N.account_status==="active"&&e.jsx("button",{onClick:()=>F(N.user_id),className:"text-red-600 hover:text-red-900 font-medium transition-colors",disabled:(a==null?void 0:a.user_id)===N.user_id,children:"Deactivate"}),e.jsx("button",{onClick:()=>M(N.user_id),className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Reset Password"})]})})]},N.user_id))})]})})})]}),c&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[e.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:m==="create"?"Create New User":"Edit User"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:p.email,onChange:N=>{v(V=>({...V,email:N.target.value})),x(V=>({...V,email:""}))},className:`w-full px-4 py-3 rounded-lg border-2 ${b.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"user@example.com"}),b.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.email})]}),m==="create"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsx("input",{type:"password",value:p.password,onChange:N=>{v(V=>({...V,password:N.target.value})),x(V=>({...V,password:""}))},className:`w-full px-4 py-3 rounded-lg border-2 ${b.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"Minimum 8 characters"}),b.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.password})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:p.first_name,onChange:N=>{v(V=>({...V,first_name:N.target.value})),x(V=>({...V,first_name:""}))},className:`w-full px-4 py-3 rounded-lg border-2 ${b.first_name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),b.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",value:p.last_name,onChange:N=>{v(V=>({...V,last_name:N.target.value})),x(V=>({...V,last_name:""}))},className:`w-full px-4 py-3 rounded-lg border-2 ${b.last_name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`}),b.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.last_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:p.phone_number,onChange:N=>{v(V=>({...V,phone_number:N.target.value})),x(V=>({...V,phone_number:""}))},className:`w-full px-4 py-3 rounded-lg border-2 ${b.phone_number?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"} focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"+353 1 234 5678"}),b.phone_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.phone_number})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type *"}),e.jsxs("select",{value:p.user_type,onChange:N=>v(V=>({...V,user_type:N.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),m==="edit"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Status *"}),e.jsxs("select",{value:p.account_status,onChange:N=>v(V=>({...V,account_status:N.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"deleted",children:"Deleted"})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.marketing_opt_in,onChange:N=>v(V=>({...V,marketing_opt_in:N.target.checked})),className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{className:"ml-3 text-sm text-gray-700",children:"Opted in to marketing communications"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 transition-all",children:"Cancel"}),e.jsxs("button",{onClick:B,disabled:C.isPending||R.isPending,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center",children:[(C.isPending||R.isPending)&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m==="create"?"Create User":"Save Changes"]})]})]})]})}),y.open&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f({open:!1,user_id:null})}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-6 pt-6 pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Deactivate User Account"}),e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to deactivate this user account? This action will suspend their access to the system."})})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>f({open:!1,user_id:null}),className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:w,disabled:H.isPending,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 inline-flex items-center",children:[H.isPending&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deactivate Account"]})]})]})]})}),g.open&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>j({open:!1,user_id:null})}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-6 pt-6 pb-4",children:e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Reset User Password"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"A password reset link will be sent to the user's email address."}),e.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-md p-3",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," Backend endpoint for admin-initiated password reset is not yet implemented. This is a UI demonstration."]})})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>j({open:!1,user_id:null}),className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Send Reset Link"})]})]})]})})]})})};async function UC(t){const s=new URLSearchParams;return t.query&&s.append("query",t.query),t.category&&s.append("category",t.category),t.status&&s.append("status",t.status),t.is_required!==void 0&&t.is_required!==""&&s.append("is_required",t.is_required),s.append("limit","20"),s.append("offset","0"),(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses?${s.toString()}`,{headers:{Authorization:`Bearer ${t.token}`}})).data}async function VC(t){return(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/training/courses",t.courseData,{headers:{Authorization:`Bearer ${t.token}`}})).data}async function HC(t){return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses/${t.course_id}`,t.courseData,{headers:{Authorization:`Bearer ${t.token}`}})).data}async function WC(t){return(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/training/progress",{headers:{Authorization:`Bearer ${t}`}})).data}async function KC(t){return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses/${t.course_id}`,{status:"archived"},{headers:{Authorization:`Bearer ${t.token}`}})).data}async function QC(t){return(await ie.post(`https://123build-an-online-web-application.launchpulse.ai/api/training/courses/${t.course_id}/lessons`,t.lessonData,{headers:{Authorization:`Bearer ${t.token}`}})).data}async function GC(t){return(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/training/lessons/${t.lesson_id}`,t.lessonData,{headers:{Authorization:`Bearer ${t.token}`}})).data}async function YC(t){return(await ie.delete(`https://123build-an-online-web-application.launchpulse.ai/api/training/lessons/${t.lesson_id}`,{headers:{Authorization:`Bearer ${t.token}`}})).data}const go=()=>{var tr;const[t,s]=nt(),r=yt(),n=z(Z=>Z.authentication_state.current_user),a=z(Z=>Z.authentication_state.auth_token),l=z(Z=>Z.show_toast),i=z(Z=>Z.show_confirmation),o=z(Z=>Z.hide_confirmation),[c,d]=h.useState("courses"),[m,u]=h.useState(!1),[p,v]=h.useState("create"),[b,x]=h.useState(null),[y,f]=h.useState("details"),[g,j]=h.useState(!1),[_,S]=h.useState("create"),[O,E]=h.useState(null),[T,C]=h.useState({query:t.get("query")||"",category:t.get("category")||"",status:t.get("status")||"",is_required:t.get("is_required")||""}),[R,H]=h.useState({course_title:"",short_description:"",long_description:null,cover_image_url:"",category:"safety",tags:null,status:"draft",is_required:!1,estimated_duration_minutes:null,prerequisite_course_ids:null,created_by_user_id:""}),[I,ee]=h.useState({lesson_title:"",lesson_type:"video",content_url:null,content_text:null,duration_minutes:null,additional_notes:null,lesson_order:1}),[P,Q]=h.useState({}),[B,F]=h.useState({});h.useEffect(()=>{C({query:t.get("query")||"",category:t.get("category")||"",status:t.get("status")||"",is_required:t.get("is_required")||""})},[t]);const{data:w,isLoading:M,error:W}=ve({queryKey:["training-courses",T,a],queryFn:()=>UC({query:T.query||void 0,category:T.category||void 0,status:T.status||void 0,is_required:T.is_required||void 0,token:a}),enabled:!!a&&c==="courses",staleTime:6e4}),{data:G,isLoading:U,error:ae}=ve({queryKey:["staff-progress",a],queryFn:()=>WC(a),enabled:!!a&&c==="progress",staleTime:3e4}),Y=we({mutationFn:VC,onSuccess:()=>{r.invalidateQueries({queryKey:["training-courses"]}),l("success","Course created successfully"),u(!1),se()},onError:Z=>{var L,ye;l("error",((ye=(L=Z.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to create course")}}),N=we({mutationFn:HC,onSuccess:()=>{r.invalidateQueries({queryKey:["training-courses"]}),l("success","Course updated successfully"),u(!1),x(null),se()},onError:Z=>{var L,ye;l("error",((ye=(L=Z.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to update course")}}),V=we({mutationFn:KC,onSuccess:()=>{r.invalidateQueries({queryKey:["training-courses"]}),l("success","Course archived successfully")},onError:Z=>{var L,ye;l("error",((ye=(L=Z.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to archive course")}}),J=we({mutationFn:QC,onSuccess:()=>{r.invalidateQueries({queryKey:["training-courses"]}),l("success","Lesson created successfully"),j(!1),is()},onError:Z=>{var L,ye;l("error",((ye=(L=Z.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to create lesson")}}),ne=we({mutationFn:GC,onSuccess:()=>{r.invalidateQueries({queryKey:["training-courses"]}),l("success","Lesson updated successfully"),j(!1),E(null),is()},onError:Z=>{var L,ye;l("error",((ye=(L=Z.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to update lesson")}}),K=we({mutationFn:YC,onSuccess:()=>{r.invalidateQueries({queryKey:["training-courses"]}),l("success","Lesson deleted successfully")},onError:Z=>{var L,ye;l("error",((ye=(L=Z.response)==null?void 0:L.data)==null?void 0:ye.message)||"Failed to delete lesson")}}),oe=(Z,L)=>{const ye={...T,[Z]:L};C(ye);const Fe=new URLSearchParams(t);L?Fe.set(Z,L):Fe.delete(Z),s(Fe)},D=()=>{v("create"),se(),u(!0)},le=Z=>{v("edit"),x(Z),f("details"),H({course_title:Z.course_title,short_description:Z.short_description,long_description:Z.long_description,cover_image_url:Z.cover_image_url,category:Z.category,tags:Z.tags,status:Z.status,is_required:Z.is_required,estimated_duration_minutes:Z.estimated_duration_minutes,prerequisite_course_ids:Z.prerequisite_course_ids,created_by_user_id:Z.created_by_user_id}),u(!0)},ue=Z=>{i({title:"Archive Course",message:`Are you sure you want to archive "${Z.course_title}"? This will hide it from staff but preserve progress data.`,confirm_text:"Archive",cancel_text:"Cancel",danger_action:!0,on_confirm:()=>{V.mutate({course_id:Z.course_id,token:a}),o()},on_cancel:()=>{o()}})},q=()=>{const Z={};return R.course_title.trim()||(Z.course_title="Course title is required"),R.short_description.trim()||(Z.short_description="Short description is required"),R.cover_image_url.trim()||(Z.cover_image_url="Cover image URL is required"),Q(Z),Object.keys(Z).length===0},A=Z=>{if(Z.preventDefault(),!q()){l("error","Please fix form errors");return}p==="create"?Y.mutate({courseData:{...R,created_by_user_id:n.user_id},token:a}):p==="edit"&&b&&N.mutate({course_id:b.course_id,courseData:R,token:a})},se=()=>{H({course_title:"",short_description:"",long_description:null,cover_image_url:"",category:"safety",tags:null,status:"draft",is_required:!1,estimated_duration_minutes:null,prerequisite_course_ids:null,created_by_user_id:""}),Q({}),x(null)},k=()=>{u(!1),f("details"),se()},me=()=>{var L;if(!b)return;S("create");const Z=(((L=b.lessons)==null?void 0:L.length)||0)+1;ee({lesson_title:"",lesson_type:"video",content_url:null,content_text:null,duration_minutes:null,additional_notes:null,lesson_order:Z}),j(!0)},ge=Z=>{S("edit"),E(Z),ee({lesson_title:Z.lesson_title,lesson_type:Z.lesson_type,content_url:Z.content_url,content_text:Z.content_text,duration_minutes:Z.duration_minutes,additional_notes:Z.additional_notes,lesson_order:Z.lesson_order}),j(!0)},je=Z=>{i({title:"Delete Lesson",message:`Are you sure you want to delete "${Z.lesson_title}"? This action cannot be undone.`,confirm_text:"Delete",cancel_text:"Cancel",danger_action:!0,on_confirm:()=>{K.mutate({lesson_id:Z.lesson_id,token:a}),o()},on_cancel:()=>{o()}})},Ke=()=>{const Z={};return I.lesson_title.trim()||(Z.lesson_title="Lesson title is required"),F(Z),Object.keys(Z).length===0},_t=Z=>{if(Z.preventDefault(),!Ke()){l("error","Please fix form errors");return}if(!b){l("error","No course selected");return}_==="create"?J.mutate({course_id:b.course_id,lessonData:I,token:a}):_==="edit"&&O&&ne.mutate({lesson_id:O.lesson_id,lessonData:I,token:a})},is=()=>{ee({lesson_title:"",lesson_type:"video",content_url:null,content_text:null,duration_minutes:null,additional_notes:null,lesson_order:1}),F({}),E(null)},Pt=()=>{j(!1),is()},xe=(w==null?void 0:w.data)||[],ot=(w==null?void 0:w.total)||0,ys=G||[],Rr={draft:"bg-gray-100 text-gray-700",published:"bg-green-100 text-green-700",archived:"bg-red-100 text-red-700"},bs={safety:"Safety",customer_service:"Customer Service",baking:"Baking",equipment:"Equipment",management:"Management"};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Training Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage staff training courses and track progress"})]}),e.jsxs("button",{onClick:D,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:[e.jsx(es,{className:"w-5 h-5 mr-2"}),"Create Course"]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsxs("button",{onClick:()=>d("courses"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="courses"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Da,{className:"w-4 h-4 inline-block mr-2"}),"Courses (",ot,")"]}),e.jsxs("button",{onClick:()=>d("progress"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${c==="progress"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ml,{className:"w-4 h-4 inline-block mr-2"}),"Staff Progress"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c==="courses"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:T.query,onChange:Z=>oe("query",Z.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("select",{value:T.category,onChange:Z=>oe("category",Z.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"safety",children:"Safety"}),e.jsx("option",{value:"customer_service",children:"Customer Service"}),e.jsx("option",{value:"baking",children:"Baking"}),e.jsx("option",{value:"equipment",children:"Equipment"}),e.jsx("option",{value:"management",children:"Management"})]}),e.jsxs("select",{value:T.status,onChange:Z=>oe("status",Z.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("select",{value:T.is_required,onChange:Z=>oe("is_required",Z.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"",children:"All Courses"}),e.jsx("option",{value:"true",children:"Required Only"}),e.jsx("option",{value:"false",children:"Optional Only"})]})]})}),M?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):W?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-red-700",children:"Failed to load courses. Please try again."})}):xe.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(Da,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:T.query||T.category||T.status?"Try adjusting your filters":"Create your first training course to get started"}),e.jsxs("button",{onClick:D,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(es,{className:"w-5 h-5 mr-2"}),"Create First Course"]})]}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Lessons"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Required"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:xe.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:Z.cover_image_url,alt:Z.course_title,className:"w-12 h-12 rounded-lg object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Z.course_title}),e.jsx("div",{className:"text-sm text-gray-600 line-clamp-1",children:Z.short_description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-700",children:bs[Z.category]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Rr[Z.status]}`,children:Z.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Z.estimated_duration_minutes?e.jsxs("span",{className:"flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),Z.estimated_duration_minutes," min"]}):e.jsx("span",{className:"text-gray-400",children:"Not set"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[Z.lessons?Z.lessons.length:0," lessons"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z.is_required?e.jsx(ut,{className:"w-5 h-5 text-green-600"}):e.jsx(Ut,{className:"w-5 h-5 text-gray-400"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>le(Z),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit course",children:e.jsx(Pi,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ue(Z),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Archive course",children:e.jsx(cl,{className:"w-4 h-4"})})]})})]},Z.course_id))})]})})})]}),c==="progress"&&e.jsx(e.Fragment,{children:U?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):ae?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-red-700",children:"Failed to load progress data. Please try again."})}):ys.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(ml,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No progress data"}),e.jsx("p",{className:"text-gray-600",children:"No staff members have started any courses yet."})]}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Staff Member"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Progress"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Last Accessed"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ys.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.user_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.course_title||Z.course_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Z.status==="completed"?"bg-green-100 text-green-700":Z.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:Z.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${Z.status==="completed"?"bg-green-600":"bg-blue-600"}`,style:{width:`${Number(Z.progress_percentage||0)}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:[Number(Z.progress_percentage||0).toFixed(0),"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Z.last_accessed_at?new Date(Z.last_accessed_at).toLocaleDateString():"Never"})]},Z.progress_id))})]})})})})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:p==="create"?"Create Course":"Edit Course"}),e.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ut,{className:"w-6 h-6 text-gray-500"})})]}),p==="edit"&&e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>f("details"),className:`pb-2 px-1 border-b-2 font-medium text-sm transition-colors ${y==="details"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Course Details"}),e.jsxs("button",{onClick:()=>f("lessons"),className:`pb-2 px-1 border-b-2 font-medium text-sm transition-colors ${y==="lessons"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Lessons (",((tr=b==null?void 0:b.lessons)==null?void 0:tr.length)||0,")"]})]})]}),y==="details"&&e.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Title *"}),e.jsx("input",{type:"text",value:R.course_title,onChange:Z=>{H({...R,course_title:Z.target.value}),P.course_title&&Q({...P,course_title:""})},className:`w-full px-4 py-3 border-2 rounded-lg outline-none transition-all ${P.course_title?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"e.g., Food Safety Level 2"}),P.course_title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.course_title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Short Description *"}),e.jsx("textarea",{value:R.short_description,onChange:Z=>{H({...R,short_description:Z.target.value}),P.short_description&&Q({...P,short_description:""})},rows:2,className:`w-full px-4 py-3 border-2 rounded-lg outline-none transition-all ${P.short_description?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Brief overview of the course content"}),P.short_description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.short_description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Long Description"}),e.jsx("textarea",{value:R.long_description||"",onChange:Z=>H({...R,long_description:Z.target.value||null}),rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Detailed course description and learning objectives"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cover Image URL *"}),e.jsx("input",{type:"url",value:R.cover_image_url,onChange:Z=>{H({...R,cover_image_url:Z.target.value}),P.cover_image_url&&Q({...P,cover_image_url:""})},className:`w-full px-4 py-3 border-2 rounded-lg outline-none transition-all ${P.cover_image_url?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"https://example.com/image.jpg"}),P.cover_image_url&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.cover_image_url})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:R.category,onChange:Z=>H({...R,category:Z.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"safety",children:"Safety"}),e.jsx("option",{value:"customer_service",children:"Customer Service"}),e.jsx("option",{value:"baking",children:"Baking"}),e.jsx("option",{value:"equipment",children:"Equipment"}),e.jsx("option",{value:"management",children:"Management"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:R.status,onChange:Z=>H({...R,status:Z.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{type:"number",min:"1",value:R.estimated_duration_minutes||"",onChange:Z=>H({...R,estimated_duration_minutes:Z.target.value?parseInt(Z.target.value):null}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"60"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_required",checked:R.is_required,onChange:Z=>H({...R,is_required:Z.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_required",className:"ml-3 text-sm font-medium text-gray-700",children:"Mark as required course for all staff"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:R.tags||"",onChange:Z=>H({...R,tags:Z.target.value||null}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"e.g., hygiene, compliance, certification"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:k,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:Y.isPending||N.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:Y.isPending||N.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p==="create"?"Creating...":"Updating..."]}):p==="create"?"Create Course":"Update Course"})]})]}),y==="lessons"&&p==="edit"&&b&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Course Lessons"}),e.jsxs("button",{onClick:me,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),"Add Lesson"]})]}),b.lessons&&b.lessons.length>0?e.jsx("div",{className:"space-y-3",children:b.lessons.sort((Z,L)=>Number(Z.lesson_order)-Number(L.lesson_order)).map(Z=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold",children:Z.lesson_order}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:Z.lesson_title}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-600 capitalize",children:Z.lesson_type}),Z.duration_minutes&&e.jsxs("span",{className:"text-xs text-gray-600 flex items-center",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),Z.duration_minutes," min"]})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ge(Z),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit lesson",children:e.jsx(Pi,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>je(Z),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete lesson",children:e.jsx(cl,{className:"w-4 h-4"})})]})]},Z.lesson_id))}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[e.jsx(Da,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"No lessons yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add lessons to build your training course"}),e.jsxs("button",{onClick:me,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),"Add First Lesson"]})]})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:_==="create"?"Add Lesson":"Edit Lesson"}),e.jsx("button",{onClick:Pt,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ut,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("form",{onSubmit:_t,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lesson Title *"}),e.jsx("input",{type:"text",value:I.lesson_title,onChange:Z=>{ee({...I,lesson_title:Z.target.value}),B.lesson_title&&F({...B,lesson_title:""})},className:`w-full px-4 py-3 border-2 rounded-lg outline-none transition-all ${B.lesson_title?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"e.g., Introduction to Food Safety"}),B.lesson_title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.lesson_title})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lesson Type *"}),e.jsxs("select",{value:I.lesson_type,onChange:Z=>ee({...I,lesson_type:Z.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"document",children:"Document"}),e.jsx("option",{value:"quiz",children:"Quiz"}),e.jsx("option",{value:"interactive",children:"Interactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lesson Order"}),e.jsx("input",{type:"number",min:"1",value:I.lesson_order,onChange:Z=>ee({...I,lesson_order:parseInt(Z.target.value)||1}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content URL"}),e.jsx("input",{type:"url",value:I.content_url||"",onChange:Z=>ee({...I,content_url:Z.target.value||null}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"https://example.com/video.mp4"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content Text"}),e.jsx("textarea",{value:I.content_text||"",onChange:Z=>ee({...I,content_text:Z.target.value||null}),rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Lesson description and learning objectives"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsx("input",{type:"number",min:"1",value:I.duration_minutes||"",onChange:Z=>ee({...I,duration_minutes:Z.target.value?parseInt(Z.target.value):null}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Additional Notes"}),e.jsx("textarea",{value:I.additional_notes||"",onChange:Z=>ee({...I,additional_notes:Z.target.value||null}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"Any additional instructions or requirements"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:Pt,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:J.isPending||ne.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:J.isPending||ne.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_==="create"?"Creating...":"Updating..."]}):_==="create"?"Create Lesson":"Update Lesson"})]})]})]})})]})},JC=async(t,s)=>{const r={limit:s.limit||20,offset:s.offset||0,sort_by:"created_at",sort_order:"desc"};return s.reviewed_status&&(r.reviewed_status=s.reviewed_status),s.min_rating&&(r.min_rating=s.min_rating),s.max_rating&&(r.max_rating=s.max_rating),s.date_from&&(r.date_from=s.date_from),s.date_to&&(r.date_to=s.date_to),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/feedback/customer",{headers:{Authorization:`Bearer ${t}`},params:r})).data},XC=async(t,s,r)=>(await ie.post(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/customer/${s}/review`,r,{headers:{Authorization:`Bearer ${t}`}})).data,ZC=async(t,s,r)=>(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/customer/${s}`,{feedback_id:s,is_hidden_from_staff:r},{headers:{Authorization:`Bearer ${t}`}})).data,e5=()=>{const[t,s]=nt(),r=yt(),n=z(q=>q.authentication_state.auth_token),a=z(q=>q.show_toast),l=t.get("reviewed_status")||null,i=t.get("min_rating")?Number(t.get("min_rating")):null,o=t.get("max_rating")?Number(t.get("max_rating")):null,c=t.get("date_from")||null,d=t.get("date_to")||null,m=t.get("page")?Number(t.get("page")):1,[u,p]=h.useState(null),[v,b]=h.useState(!1),[x,y]=h.useState(!1),[f,g]=h.useState({reviewed_status:"reviewed",notes:""}),[j,_]=h.useState(!1),[S,O]=h.useState(""),[E,T]=h.useState("pending_review"),C=20,R=(m-1)*C,{data:H,isLoading:I,error:ee}=ve({queryKey:["admin-customer-feedback",l,i,o,c,d,R],queryFn:()=>JC(n,{reviewed_status:l,min_rating:i,max_rating:o,date_from:c,date_to:d,limit:C,offset:R}),enabled:!!n,staleTime:3e4}),P=we({mutationFn:q=>XC(n,q.feedback_id,{reviewed_status:q.reviewed_status,notes:q.notes}),onSuccess:()=>{r.invalidateQueries({queryKey:["admin-customer-feedback"]}),a("success","Feedback marked as reviewed"),y(!1),b(!1),p(null)},onError:q=>{var A,se;a("error",((se=(A=q.response)==null?void 0:A.data)==null?void 0:se.message)||"Failed to update feedback")}}),Q=we({mutationFn:q=>ZC(n,q.feedback_id,q.is_hidden),onSuccess:q=>{r.invalidateQueries({queryKey:["admin-customer-feedback"]}),a("success",q.is_hidden_from_staff?"Feedback hidden from staff":"Feedback visible to staff"),(u==null?void 0:u.feedback_id)===q.feedback_id&&p(q)},onError:q=>{var A,se;a("error",((se=(A=q.response)==null?void 0:A.data)==null?void 0:se.message)||"Failed to update visibility")}}),B=(H==null?void 0:H.data)||[],F=(H==null?void 0:H.total)||0,w=Math.ceil(F/C),M=h.useMemo(()=>{if(!B.length)return{average_overall:0,average_product:0,average_fulfillment:0,rating_distribution:{1:0,2:0,3:0,4:0,5:0},pending_count:0,requires_attention_count:0};const q=B.reduce((je,Ke)=>je+Number(Ke.overall_rating||0),0)/B.length,A=B.reduce((je,Ke)=>je+Number(Ke.product_rating||0),0)/B.length,se=B.reduce((je,Ke)=>je+Number(Ke.fulfillment_rating||0),0)/B.length,k={1:0,2:0,3:0,4:0,5:0};B.forEach(je=>{const Ke=Number(je.overall_rating||0);Ke>=1&&Ke<=5&&k[Ke]++});const me=B.filter(je=>je.reviewed_status==="pending_review").length,ge=B.filter(je=>je.reviewed_status==="requires_attention").length;return{average_overall:q,average_product:A,average_fulfillment:se,rating_distribution:k,pending_count:me,requires_attention_count:ge}},[B]),W=(q,A)=>{const se=new URLSearchParams(t);A===null||A===""?se.delete(q):se.set(q,String(A)),se.delete("page"),s(se)},G=q=>{const A=new URLSearchParams(t);A.set("page",String(q)),s(A)},U=q=>{p(q),T(q.reviewed_status),O(""),b(!0)},ae=()=>{b(!1),p(null),O(""),T("pending_review")},Y=q=>{p(q),g({reviewed_status:"reviewed",notes:""}),y(!0)},N=()=>{u&&P.mutate({feedback_id:u.feedback_id,reviewed_status:f.reviewed_status,notes:f.notes||void 0})},V=q=>{Q.mutate({feedback_id:q.feedback_id,is_hidden:!q.is_hidden_from_staff})},J=()=>{s({})},ne=()=>{u&&(E!==u.reviewed_status||S.trim()?P.mutate({feedback_id:u.feedback_id,reviewed_status:E,notes:S.trim()||void 0}):ae())},K=q=>e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(A=>e.jsx(Es,{className:`w-4 h-4 ${A<=q?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},A))}),oe=q=>{switch(q){case"pending_review":return"bg-yellow-100 text-yellow-800";case"reviewed":return"bg-green-100 text-green-800";case"requires_attention":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=q=>{switch(q){case"pending_review":return e.jsx(Le,{className:"w-4 h-4"});case"reviewed":return e.jsx(ut,{className:"w-4 h-4"});case"requires_attention":return e.jsx(He,{className:"w-4 h-4"});default:return null}},le=q=>q>=4.5?"text-green-600":q>=3.5?"text-blue-600":q>=2.5?"text-yellow-600":"text-red-600",ue=[l,i,o,c,d].filter(q=>q!==null).length;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Feedback"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Review and manage customer feedback to improve service quality"})]}),e.jsxs("button",{onClick:()=>_(!j),className:"flex items-center space-x-2 px-4 py-2 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(wl,{className:"w-5 h-5 text-gray-700"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Filters"}),ue>0&&e.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:ue})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Average Rating"}),e.jsx("p",{className:`text-3xl font-bold mt-1 ${le(M.average_overall)}`,children:M.average_overall.toFixed(1)})]}),e.jsx("div",{className:"flex flex-col items-end",children:K(Math.round(M.average_overall))})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Product Rating"}),e.jsx("p",{className:"text-3xl font-bold text-green-700 mt-1",children:M.average_product.toFixed(1)})]}),K(Math.round(M.average_product))]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Fulfillment Rating"}),e.jsx("p",{className:"text-3xl font-bold text-purple-700 mt-1",children:M.average_fulfillment.toFixed(1)})]}),K(Math.round(M.average_fulfillment))]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-700 mt-1",children:M.pending_count})]}),e.jsx(Le,{className:"w-8 h-8 text-yellow-600"})]})})]})]})}),j&&e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),ue>0&&e.jsx("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Status"}),e.jsxs("select",{value:l||"",onChange:q=>W("reviewed_status",q.target.value||null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"reviewed",children:"Reviewed"}),e.jsx("option",{value:"requires_attention",children:"Requires Attention"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("select",{value:i||"",onChange:q=>W("min_rating",q.target.value?Number(q.target.value):null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"Any Rating"}),e.jsx("option",{value:"1",children:"1+ Stars"}),e.jsx("option",{value:"2",children:"2+ Stars"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"5",children:"5 Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Rating"}),e.jsxs("select",{value:o||"",onChange:q=>W("max_rating",q.target.value?Number(q.target.value):null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"Any Rating"}),e.jsx("option",{value:"1",children:"Up to 1 Star"}),e.jsx("option",{value:"2",children:"Up to 2 Stars"}),e.jsx("option",{value:"3",children:"Up to 3 Stars"}),e.jsx("option",{value:"4",children:"Up to 4 Stars"}),e.jsx("option",{value:"5",children:"Up to 5 Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",value:c||"",onChange:q=>W("date_from",q.target.value||null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",value:d||"",onChange:q=>W("date_to",q.target.value||null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[I&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}),ee&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 text-center",children:[e.jsx(He,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Failed to Load Feedback"}),e.jsx("p",{className:"text-red-700",children:"Please try refreshing the page"})]}),!I&&!ee&&B.length===0&&e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-12 text-center",children:[e.jsx(Ps,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Feedback Found"}),e.jsx("p",{className:"text-gray-600",children:ue>0?"Try adjusting your filters to see more results":"No customer feedback submitted yet"})]}),!I&&!ee&&B.length>0&&e.jsx("div",{className:"space-y-4",children:B.map(q=>e.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>U(q),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["Order #",q.order_number||q.order_id.slice(0,8)]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${oe(q.reviewed_status)}`,children:[D(q.reviewed_status),e.jsx("span",{children:q.reviewed_status==="pending_review"?"Pending":q.reviewed_status==="reviewed"?"Reviewed":"Needs Attention"})]}),q.is_hidden_from_staff&&e.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center space-x-1",children:[e.jsx(rn,{className:"w-3 h-3"}),e.jsx("span",{children:"Hidden from Staff"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(q.created_at).toLocaleDateString()})]}),q.location_name&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsx("span",{children:q.location_name})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Overall:"}),K(Number(q.overall_rating||0))]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Product:"}),K(Number(q.product_rating||0))]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Service:"}),K(Number(q.fulfillment_rating||0))]})]})]}),q.overall_comment&&e.jsxs("p",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:['"',q.overall_comment,'"']}),q.quick_tags&&e.jsx("div",{className:"flex flex-wrap gap-2",children:q.quick_tags.split(",").map((A,se)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-medium",children:A.trim()},se))})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[q.reviewed_status==="pending_review"&&e.jsx("button",{onClick:A=>{A.stopPropagation(),Y(q)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Mark Reviewed"}),e.jsx("button",{onClick:A=>{A.stopPropagation(),V(q)},disabled:Q.isPending,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center justify-center space-x-2",children:q.is_hidden_from_staff?e.jsxs(e.Fragment,{children:[e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{children:"Show"})]}):e.jsxs(e.Fragment,{children:[e.jsx(rn,{className:"w-4 h-4"}),e.jsx("span",{children:"Hide"})]})})]})]})},q.feedback_id))}),!I&&!ee&&w>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",R+1," to ",Math.min(R+C,F)," of ",F," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>G(m-1),disabled:m===1,className:"p-2 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ev,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("span",{className:"text-sm text-gray-700 font-medium",children:["Page ",m," of ",w]}),e.jsx("button",{onClick:()=>G(m+1),disabled:m===w,className:"p-2 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(xr,{className:"w-5 h-5 text-gray-700"})})]})]})]})]}),v&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ps,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Feedback Details"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",u.order_number||u.order_id.slice(0,8)]})]})]}),e.jsx("button",{onClick:ae,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-6 h-6 text-gray-600"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 ${oe(u.reviewed_status)}`,children:[D(u.reviewed_status),e.jsx("span",{children:u.reviewed_status==="pending_review"?"Pending Review":u.reviewed_status==="reviewed"?"Reviewed":"Requires Attention"})]}),u.is_hidden_from_staff&&e.jsxs("span",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium flex items-center space-x-2",children:[e.jsx(rn,{className:"w-4 h-4"}),e.jsx("span",{children:"Hidden from Staff"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Submitted ",new Date(u.created_at).toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"Overall Rating"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[K(Number(u.overall_rating||0)),e.jsx("span",{className:"text-2xl font-bold text-blue-700",children:Number(u.overall_rating||0).toFixed(1)})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"Product Quality"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[K(Number(u.product_rating||0)),e.jsx("span",{className:"text-2xl font-bold text-green-700",children:Number(u.product_rating||0).toFixed(1)})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"Service Quality"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[K(Number(u.fulfillment_rating||0)),e.jsx("span",{className:"text-2xl font-bold text-purple-700",children:Number(u.fulfillment_rating||0).toFixed(1)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[u.overall_comment&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Overall Comment"}),e.jsx("p",{className:"text-gray-700",children:u.overall_comment})]}),u.product_comment&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Product Feedback"}),e.jsx("p",{className:"text-gray-700",children:u.product_comment})]}),u.fulfillment_comment&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Service Feedback"}),e.jsx("p",{className:"text-gray-700",children:u.fulfillment_comment})]})]}),u.quick_tags&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Quick Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.quick_tags.split(",").map((q,A)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:q.trim()},A))})]}),e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Customer allows follow-up contact"}),e.jsx("span",{className:`text-sm font-semibold ${u.allow_contact?"text-green-600":"text-gray-500"}`,children:u.allow_contact?"Yes":"No"})]}),u.reviewed_at&&e.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-800",children:[e.jsx(ut,{className:"w-5 h-5"}),e.jsxs("span",{className:"text-sm font-medium",children:["Reviewed on ",new Date(u.reviewed_at).toLocaleString()]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Actions"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change status"}),e.jsxs("select",{value:E,onChange:q=>T(q.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"reviewed",children:"Reviewed"}),e.jsx("option",{value:"requires_attention",children:"Requires Attention"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add internal note"}),e.jsx("textarea",{value:S,onChange:q=>O(q.target.value),rows:4,placeholder:"Add any internal notes about this feedback...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:q=>{q.stopPropagation(),V(u)},disabled:Q.isPending,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium flex items-center space-x-2",children:u.is_hidden_from_staff?e.jsxs(e.Fragment,{children:[e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{children:"Show to Staff"})]}):e.jsxs(e.Fragment,{children:[e.jsx(rn,{className:"w-4 h-4"}),e.jsx("span",{children:"Hide from Staff"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:ne,disabled:P.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):"Save Changes"}),e.jsx("button",{onClick:ae,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Close"})]})]})]})}),x&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mark Feedback as Reviewed"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-6 h-6 text-gray-600"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Status"}),e.jsxs("select",{value:f.reviewed_status,onChange:q=>g(A=>({...A,reviewed_status:q.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"reviewed",children:"Reviewed"}),e.jsx("option",{value:"requires_attention",children:"Requires Attention"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internal Notes (Optional)"}),e.jsx("textarea",{value:f.notes,onChange:q=>g(A=>({...A,notes:q.target.value})),rows:4,placeholder:"Add any internal notes about this feedback...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:N,disabled:P.isPending,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):"Save Review"})]})]})]})})]})},t5=async(t,s)=>{const r=new URLSearchParams;return t.location_name&&r.append("location_name",t.location_name),t.feedback_type&&r.append("feedback_type",t.feedback_type),t.status&&r.append("status",t.status),t.priority&&r.append("priority",t.priority),t.date_from&&r.append("date_from",t.date_from),t.date_to&&r.append("date_to",t.date_to),r.append("limit","20"),r.append("offset","0"),(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/staff?${r.toString()}`,{headers:{Authorization:`Bearer ${s}`}})).data},s5=async(t,s)=>(await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/staff/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,r5=async(t,s)=>(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/feedback/staff/${t.feedback_id}`,t,{headers:{Authorization:`Bearer ${s}`}})).data,n5=()=>{const t=z(U=>U.authentication_state.auth_token),s=z(U=>U.show_toast),[r,n]=nt(),[a,l]=h.useState({location_name:r.get("location_name")||null,feedback_type:r.get("feedback_type")||null,status:r.get("status")||null,priority:r.get("priority")||null,date_from:r.get("date_from")||null,date_to:r.get("date_to")||null}),[i,o]=h.useState(null),[c,d]=h.useState(!1),[m,u]=h.useState(!1),[p,v]=h.useState(!1),[b,x]=h.useState({status:"pending_review",priority:"medium",assigned_to_user_id:null,resolution_notes:null}),[y,f]=h.useState({response_text:"",is_internal_note:!1}),[g,j]=h.useState(!1),_=yt(),{data:S,isLoading:O,error:E}=ve({queryKey:["staff-feedback",a],queryFn:()=>t5(a,t||""),enabled:!!t,staleTime:3e4}),{data:T}=ve({queryKey:["staff-feedback-detail",i],queryFn:()=>s5(i,t||""),enabled:!!i&&!!t});h.useEffect(()=>{T&&x({status:T.status,priority:T.priority,assigned_to_user_id:T.assigned_to_user_id,resolution_notes:T.resolution_notes})},[T]);const C=we({mutationFn:U=>r5(U,t||""),onSuccess:U=>{_.invalidateQueries({queryKey:["staff-feedback"]}),_.invalidateQueries({queryKey:["staff-feedback-detail",U.feedback_id]}),s("success","Feedback updated successfully"),u(!1),d(!1)},onError:U=>{var ae,Y;s("error",((Y=(ae=U.response)==null?void 0:ae.data)==null?void 0:Y.message)||"Failed to update feedback")}});h.useEffect(()=>{const U=new URLSearchParams;a.location_name&&U.set("location_name",a.location_name),a.feedback_type&&U.set("feedback_type",a.feedback_type),a.status&&U.set("status",a.status),a.priority&&U.set("priority",a.priority),a.date_from&&U.set("date_from",a.date_from),a.date_to&&U.set("date_to",a.date_to),n(U,{replace:!0})},[a,n]);const R=(U,ae)=>{l(Y=>({...Y,[U]:ae}))},H=()=>{l({location_name:null,feedback_type:null,status:null,priority:null,date_from:null,date_to:null})},I=U=>{o(U),d(!0);const ae=S==null?void 0:S.data.find(Y=>Y.feedback_id===U);ae&&x({status:ae.status,priority:ae.priority,assigned_to_user_id:ae.assigned_to_user_id,resolution_notes:ae.resolution_notes})},ee=U=>{o(U.feedback_id),x({status:U.status,priority:U.priority,assigned_to_user_id:U.assigned_to_user_id,resolution_notes:U.resolution_notes}),u(!0)},P=()=>{i&&C.mutate({feedback_id:i,...b})},Q=()=>{if(!T||!y.response_text.trim()){s("error","Please enter a response");return}const U=T.resolution_notes?`${T.resolution_notes}

--- Admin Response (${new Date().toLocaleDateString()}) ---
${y.response_text}`:`--- Admin Response (${new Date().toLocaleDateString()}) ---
${y.response_text}`;C.mutate({feedback_id:T.feedback_id,resolution_notes:U,status:"under_review"}),f({response_text:"",is_internal_note:!1}),v(!1)},B=U=>{switch(U){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},F=U=>{switch(U){case"pending_review":return"bg-red-100 text-red-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=U=>{switch(U){case"safety_concern":return e.jsx(st,{className:"w-5 h-5 text-red-600"});case"equipment_issue":return e.jsx(st,{className:"w-5 h-5 text-orange-600"});case"complaint":return e.jsx(Ps,{className:"w-5 h-5 text-yellow-600"});case"suggestion":return e.jsx(Ps,{className:"w-5 h-5 text-blue-600"});case"process_improvement":return e.jsx(Ps,{className:"w-5 h-5 text-green-600"});default:return e.jsx(Ps,{className:"w-5 h-5 text-gray-600"})}},M=U=>new Date(U).toLocaleDateString("en-IE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=U=>U.split("_").map(ae=>ae.charAt(0).toUpperCase()+ae.slice(1)).join(" "),G=U=>U.split("_").map(ae=>ae.charAt(0).toUpperCase()+ae.slice(1)).join(" ");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(re,{to:"/admin/dashboard",className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Feedback Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review and respond to internal staff feedback and concerns"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[(S==null?void 0:S.total)||0," total feedback items"]}),e.jsxs("button",{onClick:()=>j(!g),className:"px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[e.jsx(wl,{className:"w-5 h-5"}),e.jsx("span",{children:"Filters"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Filter Feedback"}),e.jsx("button",{onClick:H,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(gt,{className:"w-4 h-4 inline mr-1"}),"Location"]}),e.jsxs("select",{value:a.location_name||"",onChange:U=>R("location_name",U.target.value||null),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"Blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"Tallaght",children:"Tallaght"}),e.jsx("option",{value:"Glasnevin",children:"Glasnevin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback Type"}),e.jsxs("select",{value:a.feedback_type||"",onChange:U=>R("feedback_type",U.target.value||null),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"suggestion",children:"Suggestion"}),e.jsx("option",{value:"complaint",children:"Complaint"}),e.jsx("option",{value:"safety_concern",children:"Safety Concern"}),e.jsx("option",{value:"equipment_issue",children:"Equipment Issue"}),e.jsx("option",{value:"process_improvement",children:"Process Improvement"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:a.status||"",onChange:U=>R("status",U.target.value||null),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(d6,{className:"w-4 h-4 inline mr-1"}),"Priority"]}),e.jsxs("select",{value:a.priority||"",onChange:U=>R("priority",U.target.value||null),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Priorities"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Nr,{className:"w-4 h-4 inline mr-1"}),"From Date"]}),e.jsx("input",{type:"date",value:a.date_from||"",onChange:U=>R("date_from",U.target.value||null),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",value:a.date_to||"",onChange:U=>R("date_to",U.target.value||null),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]})]})]}),O&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading staff feedback..."})]}),E&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(st,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Failed to load feedback"}),e.jsx("p",{className:"text-red-700 text-sm",children:E.message})]})]})}),!O&&!E&&S&&S.data.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx(Ps,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No feedback found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:Object.values(a).some(U=>U!==null)?"No feedback matches your current filters. Try adjusting your search criteria.":"No staff feedback has been submitted yet."}),Object.values(a).some(U=>U!==null)&&e.jsx("button",{onClick:H,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Clear Filters"})]}),!O&&!E&&S&&S.data.length>0&&e.jsx("div",{className:"space-y-4",children:S.data.map(U=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[w(U.feedback_type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${B(U.priority)}`,children:U.priority.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsx("span",{children:U.location_name})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(ul,{className:"w-4 h-4"}),e.jsx("span",{children:U.is_anonymous?`Anonymous Staff - ${U.location_name}`:"Staff Member"})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:M(U.created_at)})]})]}),e.jsx("p",{className:"text-gray-700 mb-3 line-clamp-2",children:U.description}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${F(U.status)}`,children:G(U.status)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Type: ",W(U.feedback_type)]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Ref: ",U.reference_number]})]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>I(U.feedback_id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("button",{onClick:()=>ee(U),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[e.jsx(y6,{className:"w-4 h-4"}),e.jsx("span",{children:"Update Status"})]})]})]})},U.feedback_id))})]})]}),c&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[w(T.feedback_type),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:T.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Ref: ",T.reference_number]})]})]}),e.jsx("button",{onClick:()=>{d(!1),o(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium ${F(T.status)}`,children:G(T.status)}),e.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${B(T.priority)}`,children:["Priority: ",T.priority.toUpperCase()]}),e.jsx("span",{className:"px-4 py-2 rounded-lg text-sm font-medium bg-purple-100 text-purple-800",children:W(T.feedback_type)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Location"}),e.jsx("p",{className:"font-medium text-gray-900",children:T.location_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Submitted By"}),e.jsx("p",{className:"font-medium text-gray-900",children:T.is_anonymous?`Anonymous Staff - ${T.location_name}`:"Staff Member"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Submitted On"}),e.jsx("p",{className:"font-medium text-gray-900",children:M(T.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Updated"}),e.jsx("p",{className:"font-medium text-gray-900",children:M(T.updated_at)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:T.description})})]}),T.resolution_notes&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Admin Notes & Responses"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:T.resolution_notes})})]}),T.resolved_at&&e.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-800",children:[e.jsx(Jt,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-medium",children:["Resolved on ",M(T.resolved_at)]})]})}),T.attachment_urls&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Attachments"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Attachment URLs: ",T.attachment_urls]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Feedback"}),(T.status==="resolved"||T.status==="closed")&&e.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," This feedback is currently marked as ",G(T.status),". You can still update it if needed."]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change Status"}),e.jsxs("select",{value:b.status,onChange:U=>x(ae=>({...ae,status:U.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),e.jsxs("select",{value:b.priority,onChange:U=>x(ae=>({...ae,priority:U.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-100",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Internal Note"}),e.jsx("textarea",{value:b.resolution_notes||"",onChange:U=>x(ae=>({...ae,resolution_notes:U.target.value||null})),rows:4,placeholder:"Add notes about resolution, actions taken, or follow-up required...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the staff member who submitted the feedback"})]})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>{d(!1),o(null)},className:"px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:P,disabled:C.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 flex items-center space-x-2",children:[C.isPending&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:C.isPending?"Saving...":"Save Changes"})]})})]})]})}),m&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Update Feedback Status"}),e.jsx("button",{onClick:()=>u(!1),className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:b.status,onChange:U=>x(ae=>({...ae,status:U.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),e.jsxs("select",{value:b.priority,onChange:U=>x(ae=>({...ae,priority:U.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resolution Notes"}),e.jsx("textarea",{value:b.resolution_notes||"",onChange:U=>x(ae=>({...ae,resolution_notes:U.target.value||null})),rows:4,placeholder:"Add notes about resolution, actions taken, or follow-up required...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the staff member who submitted the feedback"})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-xl",children:[e.jsx("button",{onClick:()=>u(!1),disabled:C.isPending,className:"px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:P,disabled:C.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 flex items-center space-x-2",children:[C.isPending&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:C.isPending?"Updating...":"Save Changes"})]})]})]})}),p&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Respond to Feedback"}),e.jsx("button",{onClick:()=>{v(!1),f({response_text:"",is_internal_note:!1})},className:"text-white hover:text-gray-200 transition-colors",children:e.jsx(Ee,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Your response will be added to the resolution notes and the staff member will be able to see it when the feedback is updated."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Response"}),e.jsx("textarea",{value:y.response_text,onChange:U=>f(ae=>({...ae,response_text:U.target.value})),rows:6,placeholder:"Type your response to the staff member...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-green-500 focus:ring-4 focus:ring-green-100 resize-none"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"internal-note",checked:y.is_internal_note,onChange:U=>f(ae=>({...ae,is_internal_note:U.target.checked})),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),e.jsx("label",{htmlFor:"internal-note",className:"text-sm text-gray-700",children:"Internal note only (not visible to staff)"})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-xl",children:[e.jsx("button",{onClick:()=>{v(!1),f({response_text:"",is_internal_note:!1})},disabled:C.isPending,className:"px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:Q,disabled:C.isPending||!y.response_text.trim(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 flex items-center space-x-2",children:[C.isPending&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx(Vo,{className:"w-4 h-4"}),e.jsx("span",{children:C.isPending?"Sending...":"Send Response"})]})]})]})})]})},a5=async(t,s)=>{const r=new URLSearchParams;t.location_name&&r.append("location_name",t.location_name),t.alert_type&&r.append("alert_type",t.alert_type),t.status&&r.append("status",t.status),t.priority&&r.append("priority",t.priority),r.append("limit","50"),r.append("offset","0"),r.append("sort_by","created_at"),r.append("sort_order","desc");const n=await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/inventory/alerts?${r.toString()}`,{headers:{Authorization:`Bearer ${s}`}});return{alerts:n.data.data.map(a=>({...a,current_quantity:a.current_quantity?Number(a.current_quantity):null})),total:n.data.total}},l5=async(t,s)=>{const r=await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/inventory/alerts/${t}`,{headers:{Authorization:`Bearer ${s}`}});return{...r.data,current_quantity:r.data.current_quantity?Number(r.data.current_quantity):null}},nu=async(t,s,r,n)=>(await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/inventory/alerts/${t}`,{...s,...s.status==="acknowledged"&&{acknowledged_by_user_id:r},...s.status==="resolved"&&{resolved_by_user_id:r}},{headers:{Authorization:`Bearer ${n}`}})).data,i5=()=>{const t=z(N=>N.authentication_state.current_user),s=z(N=>N.authentication_state.auth_token),r=z(N=>N.show_toast),[n,a]=nt(),l=h.useMemo(()=>({location_name:n.get("location_name")||null,alert_type:n.get("alert_type")||null,status:n.get("status")||null,priority:n.get("priority")||null}),[n]),[i,o]=h.useState(null),[c,d]=h.useState(!1),[m,u]=h.useState(!1),[p,v]=h.useState({status:"acknowledged",resolution_notes:null}),[b,x]=h.useState(!1),y=yt(),{data:f,isLoading:g,error:j}=ve({queryKey:["inventory-alerts",l],queryFn:()=>a5(l,s||""),enabled:!!s,staleTime:3e4,refetchOnWindowFocus:!1}),{data:_,isLoading:S}=ve({queryKey:["inventory-alert",i],queryFn:()=>l5(i,s||""),enabled:!!i&&!!s,staleTime:1e4}),O=we({mutationFn:N=>nu(N,{status:"acknowledged"},(t==null?void 0:t.user_id)||"",s||""),onSuccess:()=>{y.invalidateQueries({queryKey:["inventory-alerts"]}),y.invalidateQueries({queryKey:["inventory-alert",i]}),r("success","Alert acknowledged successfully"),d(!1),o(null)},onError:N=>{var V,J;r("error",((J=(V=N.response)==null?void 0:V.data)==null?void 0:J.message)||"Failed to acknowledge alert")}}),E=we({mutationFn:({alert_id:N,form:V})=>nu(N,{status:"resolved",resolution_notes:V.resolution_notes},(t==null?void 0:t.user_id)||"",s||""),onSuccess:()=>{y.invalidateQueries({queryKey:["inventory-alerts"]}),y.invalidateQueries({queryKey:["inventory-alert",i]}),r("success","Alert resolved successfully"),u(!1),d(!1),o(null),v({status:"acknowledged",resolution_notes:null})},onError:N=>{var V,J;r("error",((J=(V=N.response)==null?void 0:V.data)==null?void 0:J.message)||"Failed to resolve alert")}}),T=we({mutationFn:({alert_id:N,priority:V})=>nu(N,{status:(_==null?void 0:_.status)||"pending",priority:V},(t==null?void 0:t.user_id)||"",s||""),onSuccess:()=>{y.invalidateQueries({queryKey:["inventory-alerts"]}),y.invalidateQueries({queryKey:["inventory-alert",i]}),r("success","Alert priority updated")},onError:N=>{var V,J;r("error",((J=(V=N.response)==null?void 0:V.data)==null?void 0:J.message)||"Failed to update priority")}}),C=(N,V)=>{const J=new URLSearchParams(n);V?J.set(N,V):J.delete(N),a(J)},R=()=>{a(new URLSearchParams)},H=N=>{o(N),d(!0)},I=()=>{i&&O.mutate(i)},ee=()=>{u(!0)},P=N=>{var V;if(N.preventDefault(),!!i){if(!((V=p.resolution_notes)!=null&&V.trim())){r("error","Resolution notes are required");return}E.mutate({alert_id:i,form:p})}},Q=N=>{i&&T.mutate({alert_id:i,priority:N})},B=h.useMemo(()=>{let N=0;return l.location_name&&N++,l.alert_type&&N++,l.status&&N++,l.priority&&N++,N},[l]),F=(f==null?void 0:f.alerts)||[],w=h.useMemo(()=>{const N=F.filter(oe=>oe.status==="pending").length,V=F.filter(oe=>oe.status==="acknowledged").length,J=F.filter(oe=>oe.status==="in_progress").length,ne=F.filter(oe=>oe.status==="resolved").length,K=F.filter(oe=>oe.priority==="urgent").length;return{pending:N,acknowledged:V,in_progress:J,resolved:ne,urgent:K}},[F]),M=N=>{switch(N){case"out_of_stock":return e.jsx(Of,{className:"w-5 h-5"});case"low_stock":return e.jsx(st,{className:"w-5 h-5"});case"expiring_soon":return e.jsx(Le,{className:"w-5 h-5"});case"quality_issue":return e.jsx(He,{className:"w-5 h-5"});default:return e.jsx(st,{className:"w-5 h-5"})}},W=N=>{switch(N){case"out_of_stock":return"text-red-600 bg-red-50";case"low_stock":return"text-orange-600 bg-orange-50";case"expiring_soon":return"text-yellow-600 bg-yellow-50";case"quality_issue":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},G=N=>{switch(N){case"urgent":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},U=N=>{switch(N){case"resolved":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"acknowledged":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ae=N=>new Date(N).toLocaleString("en-IE",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),Y=N=>N.split("_").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" ");return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Alerts"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and resolve staff-submitted inventory alerts"})]}),e.jsx(re,{to:"/admin/dashboard",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Dashboard"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.pending})]}),e.jsx(st,{className:"w-8 h-8 text-red-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Acknowledged"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.acknowledged})]}),e.jsx(Le,{className:"w-8 h-8 text-yellow-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.in_progress})]}),e.jsx(Le,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.resolved})]}),e.jsx(Jt,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.urgent})]}),e.jsx(He,{className:"w-8 h-8 text-red-600"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:()=>x(!b),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[e.jsx(wl,{className:"w-5 h-5 text-gray-600"}),e.jsxs("span",{className:"font-medium text-gray-700",children:["Filters ",B>0&&`(${B})`]}),e.jsx(Wi,{className:`w-4 h-4 text-gray-600 transition-transform ${b?"rotate-180":""}`})]}),B>0&&e.jsx("button",{onClick:R,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})]}),b&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("select",{value:l.location_name||"",onChange:N=>C("location_name",N.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"Blanchardstown",children:"Blanchardstown"}),e.jsx("option",{value:"Tallaght",children:"Tallaght"}),e.jsx("option",{value:"Glasnevin",children:"Glasnevin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),e.jsxs("select",{value:l.alert_type||"",onChange:N=>C("alert_type",N.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"low_stock",children:"Low Stock"}),e.jsx("option",{value:"quality_issue",children:"Quality Issue"}),e.jsx("option",{value:"expiring_soon",children:"Expiring Soon"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:l.status||"",onChange:N=>C("status",N.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),e.jsxs("select",{value:l.priority||"",onChange:N=>C("priority",N.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Priorities"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]})]}),e.jsxs("div",{className:"p-6",children:[g&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}),j&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(He,{className:"w-12 h-12 text-red-600 mx-auto mb-3"}),e.jsx("p",{className:"text-red-700 font-medium",children:"Failed to load alerts"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please try refreshing the page"})]}),!g&&!j&&F.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Jt,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No alerts found"}),e.jsx("p",{className:"text-gray-600",children:B>0?"Try adjusting your filters to see more alerts":"All inventory alerts are resolved! Great work!"})]}),!g&&!j&&F.length>0&&e.jsx("div",{className:"space-y-3",children:F.map(N=>e.jsx("div",{onClick:()=>H(N.alert_id),className:`border rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${N.priority==="urgent"?"border-red-300 bg-red-50 hover:bg-red-100":N.priority==="high"?"border-orange-300 bg-orange-50 hover:bg-orange-100":"border-gray-200 bg-white hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${W(N.alert_type)}`,children:M(N.alert_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:N.item_name}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${G(N.priority)}`,children:N.priority.toUpperCase()}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${U(N.status)}`,children:N.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsx("span",{children:N.location_name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsx("span",{children:ae(N.created_at)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Lt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-mono text-xs",children:N.reference_number})]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:Y(N.alert_type)}),N.current_quantity!==null&&e.jsxs("span",{className:"ml-2",children:["- Current: ",N.current_quantity," units"]})]}),N.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:N.notes})]})]}),e.jsx("div",{className:"ml-4",children:e.jsx("button",{onClick:V=>{V.stopPropagation(),H(N.alert_id)},className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:"View Details"})})]})},N.alert_id))})]})]})}),c&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alert Details"}),e.jsx("button",{onClick:()=>{d(!1),o(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-6 h-6 text-gray-600"})})]}),S&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}),!S&&_&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${W(_.alert_type)}`,children:M(_.alert_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:_.item_name}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full border ${G(_.priority)}`,children:_.priority.toUpperCase()}),e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${U(_.status)}`,children:_.status.replace("_"," ").toUpperCase()})]}),e.jsxs("p",{className:"text-sm text-gray-600 font-mono",children:["Ref: ",_.reference_number]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(gt,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Location"})]}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.location_name})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Alert Type"})]}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:Y(_.alert_type)})]}),_.current_quantity!==null&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Of,{className:"w-4 h-4 text-orange-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Current Quantity"})]}),e.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[_.current_quantity," units"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Nr,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Submitted"})]}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:ae(_.created_at)})]})]}),_.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Staff Notes"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:_.notes})})]}),_.acknowledged_at&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Acknowledgment"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Acknowledged on ",ae(_.acknowledged_at)]})]}),_.resolved_at&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Resolution"}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["Resolved on ",ae(_.resolved_at)]}),_.resolution_notes&&e.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:_.resolution_notes})})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[_.status==="pending"&&e.jsx("button",{onClick:I,disabled:O.isPending,className:"flex-1 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:O.isPending?"Acknowledging...":"Acknowledge Alert"}),["pending","acknowledged","in_progress"].includes(_.status)&&e.jsx("button",{onClick:ee,className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Resolve Alert"}),e.jsx("button",{onClick:()=>{d(!1),o(null)},className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",children:"Close"})]}),_.status!=="resolved"&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Update Priority"}),e.jsx("div",{className:"flex space-x-2",children:["low","medium","high","urgent"].map(N=>e.jsx("button",{onClick:()=>Q(N),disabled:T.isPending||_.priority===N,className:`px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${_.priority===N?G(N):"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})]})]})}),m&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Resolve Alert"}),e.jsx("button",{onClick:()=>{u(!1),v({status:"acknowledged",resolution_notes:null})},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Alert:"})," ",_.item_name," at ",_.location_name]}),e.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:[e.jsx("strong",{children:"Type:"})," ",Y(_.alert_type)]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"resolution_notes",className:"block text-sm font-medium text-gray-700 mb-2",children:["Resolution Notes ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{id:"resolution_notes",rows:4,required:!0,value:p.resolution_notes||"",onChange:N=>v(V=>({...V,resolution_notes:N.target.value})),placeholder:"Describe what action was taken to resolve this alert...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be visible to staff who submitted the alert"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:E.isPending,className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resolving..."]}):"Mark as Resolved"}),e.jsx("button",{type:"button",onClick:()=>{u(!1),v({status:"acknowledged",resolution_notes:null})},disabled:E.isPending,className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})})]})})},o5=async(t,s)=>{const r=new URLSearchParams;r.append("setting_group",s),r.append("limit","100"),r.append("offset","0");const{data:n}=await ie.get(`https://123build-an-online-web-application.launchpulse.ai/api/settings?${r.toString()}`,{headers:{Authorization:`Bearer ${t}`}});return n},c5=async t=>{const{data:s}=await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/locations",{headers:{Authorization:`Bearer ${t}`}});return s},d5=async(t,s,r)=>{const{data:n}=await ie.put(`https://123build-an-online-web-application.launchpulse.ai/api/settings/${s}`,{setting_value:r},{headers:{Authorization:`Bearer ${t}`}});return n},u5=()=>{var R,H,I,ee;const[t,s]=nt(),r=yt(),n=z(P=>P.authentication_state.auth_token),a=z(P=>P.show_toast),l=t.get("section")||"general",[i,o]=h.useState(null),[c,d]=h.useState(""),u={general:"general",loyalty_points:"loyalty",orders:"orders",notifications:"notifications"}[l]||l,{data:p,isLoading:v,error:b}=ve({queryKey:["system-settings",l],queryFn:()=>o5(n,u),enabled:!!n,staleTime:6e4,refetchOnWindowFocus:!1}),{data:x,isLoading:y,error:f}=ve({queryKey:["locations-settings"],queryFn:()=>c5(n),enabled:!!n&&l==="locations",staleTime:6e4,refetchOnWindowFocus:!1}),g=we({mutationFn:({setting_id:P,setting_value:Q})=>d5(n,P,Q),onSuccess:()=>{r.invalidateQueries({queryKey:["system-settings"]}),a("success","Setting updated successfully"),o(null),d("")},onError:P=>{var Q,B;a("error",((B=(Q=P.response)==null?void 0:Q.data)==null?void 0:B.message)||"Failed to update setting")}}),j=P=>{s({section:P})},_=P=>{o(P.setting_id),d(P.setting_value)},S=()=>{o(null),d("")},O=()=>{i&&g.mutate({setting_id:i,setting_value:c})},E=[{id:"general",label:"General",icon:fn},{id:"locations",label:"Locations",icon:gt},{id:"loyalty_points",label:"Loyalty Points",icon:dl},{id:"orders",label:"Orders",icon:Le},{id:"notifications",label:"Notifications",icon:Xd}],T=P=>(p==null?void 0:p.filter(Q=>Q.setting_group===P))||[],C=P=>i===P.setting_id?e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900",children:P.setting_key.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase())}),P.setting_type==="boolean"?e.jsxs("select",{value:c,onChange:B=>d(B.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",children:[e.jsx("option",{value:"true",children:"Enabled"}),e.jsx("option",{value:"false",children:"Disabled"})]}):P.setting_type==="number"?e.jsx("input",{type:"number",value:c,onChange:B=>d(B.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500"}):e.jsx("input",{type:"text",value:c,onChange:B=>d(B.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:O,disabled:g.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Bt,{className:"w-4 h-4"}),"Save"]})}),e.jsx("button",{onClick:S,disabled:g.isPending,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-colors",children:e.jsx(Ee,{className:"w-4 h-4"})})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.setting_key.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase())}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.setting_type==="boolean"?P.setting_value==="true"?"Enabled":"Disabled":P.setting_value})]}),e.jsx("button",{onClick:()=>_(P),className:"ml-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"Edit setting",children:e.jsx(nv,{className:"w-4 h-4"})})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure system-wide settings and operational parameters"})]}),e.jsx(re,{to:"/admin/dashboard",className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Back to Dashboard"})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8","aria-label":"Settings sections",children:E.map(P=>{const Q=P.icon,B=l===P.id;return e.jsxs("button",{onClick:()=>j(P.id),className:`
                      flex items-center gap-2 px-3 py-4 border-b-2 font-medium text-sm transition-colors
                      ${B?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}
                    `,children:[e.jsx(Q,{className:"w-4 h-4"}),P.label]},P.id)})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v&&l!=="locations"&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Settings"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:((H=(R=b==null?void 0:b.response)==null?void 0:R.data)==null?void 0:H.message)||"Failed to load system settings"})]})]})}),l==="general"&&p&&!v&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(n6,{className:"w-5 h-5"}),"Company Information"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[T("company").map(P=>e.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:C(P)},P.setting_id)),T("company").length===0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Company Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"info@kake.ie"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(kr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Company Phone"}),e.jsx("p",{className:"text-sm text-gray-600",children:"+353 1 234 5678"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(fn,{className:"w-5 h-5"}),"System Configuration"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[T("system").map(P=>e.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:C(P)},P.setting_id)),T("system").length===0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(sv,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Tax Rate"}),e.jsx("p",{className:"text-sm text-gray-600",children:"23% (VAT)"})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Bt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Enable Loyalty Program"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Currently enabled"})]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Bt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Enable Corporate Orders"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Currently enabled"})]})]})})]})]})]})]}),l==="locations"&&e.jsx("div",{className:"space-y-6",children:y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading locations..."})]})}):f?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Locations"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:((ee=(I=f==null?void 0:f.response)==null?void 0:I.data)==null?void 0:ee.message)||"Failed to load locations"})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Backend Endpoint Required"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"The PUT /api/locations/:location_id endpoint is not implemented yet. Location editing is temporarily disabled."})]})]})}),x==null?void 0:x.map(P=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(gt,{className:"w-5 h-5 text-blue-600"}),P.location_name]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Active"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",P.address_line1,P.address_line2&&`, ${P.address_line2}`]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",P.city,", ",P.postal_code]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",P.phone_number]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",P.email]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Operational Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[P.is_collection_enabled?e.jsx(Bt,{className:"w-4 h-4 text-green-600"}):e.jsx(Ee,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Collection"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[P.is_delivery_enabled?e.jsx(Bt,{className:"w-4 h-4 text-green-600"}):e.jsx(Ee,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Delivery"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Prep Time:"})," ",P.estimated_preparation_time_minutes," min"]}),P.estimated_delivery_time_minutes&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Delivery Time:"})," ",P.estimated_delivery_time_minutes," min"]}),P.delivery_fee!==null&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Delivery Fee:"})," ",Number(P.delivery_fee).toFixed(2)]}),P.free_delivery_threshold!==null&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Free Delivery Over:"})," ",Number(P.free_delivery_threshold).toFixed(2)]})]})]})]}),(P.just_eat_url||P.deliveroo_url)&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"External Ordering"}),e.jsxs("div",{className:"space-y-2",children:[P.just_eat_url&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Just Eat:"})," ",e.jsx("a",{href:P.just_eat_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:P.just_eat_url})]}),P.deliveroo_url&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Deliveroo:"})," ",e.jsx("a",{href:P.deliveroo_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:P.deliveroo_url})]})]})]})]})]},P.location_id))]})}),l==="loyalty_points"&&p&&!v&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(dl,{className:"w-5 h-5 text-purple-600"}),"Loyalty Points Configuration"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure how customers earn and redeem loyalty points"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[T("loyalty").map(P=>e.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:C(P)},P.setting_id)),T("loyalty").length===0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Points Per Euro Spent"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Customers earn this many points per 1 spent"})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"10 points"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Points Redemption Rate"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Points needed for 1 discount"})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"100 points"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Minimum Order for Redemption"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Minimum order value to use points"})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"15"})]})]})]})]})}),l==="orders"&&p&&!v&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-green-600"}),"Order Configuration"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure order processing, thresholds, and defaults"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[T("orders").map(P=>e.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:C(P)},P.setting_id)),T("orders").length===0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Minimum Order for Delivery"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Minimum order value required for delivery"})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"15"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Default Preparation Time"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Default preparation time for orders"})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"20 minutes"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Max Failed Login Attempts"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Attempts before account lockout"})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"5 attempts"})]})]})]})]})}),l==="notifications"&&p&&!v&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-br from-orange-50 to-amber-50",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Xd,{className:"w-5 h-5 text-orange-600"}),"Notification Configuration"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure email templates and notification preferences"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[T("notifications").map(P=>e.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:C(P)},P.setting_id)),T("notifications").length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Xd,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No notification settings available"}),e.jsx("p",{className:"text-xs mt-1",children:"Email templates are configured in the database"})]})]})]})}),l!=="locations"&&!v&&p&&p.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(fn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Settings Found"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No settings are configured for this section yet."})]})})]})]})})},m5=()=>{var F;const[t,s]=nt(),r=z(w=>w.authentication_state.auth_token),n=z(w=>w.show_toast),a=z(w=>w.show_loading),l=z(w=>w.hide_loading),i=z(w=>w.location_state.available_locations),[o,c]=h.useState(t.get("report_type")||"daily_sales"),[d,m]=h.useState(t.get("date_from")||""),[u,p]=h.useState(t.get("date_to")||""),[v,b]=h.useState(t.get("location")||"all"),[x,y]=h.useState(t.get("format")||"json"),[f,g]=h.useState(null),[j,_]=h.useState(null),[S,O]=h.useState(!1),[E,T]=h.useState(null),[C,R]=h.useState("generate"),H=[{id:"daily_sales",name:"Daily Sales",description:"Comprehensive daily sales summary with order counts, revenue, and trends",icon:e.jsx(sn,{className:"w-5 h-5"}),estimated_duration:"~5 seconds"},{id:"weekly_performance",name:"Weekly Performance",description:"Week-over-week performance metrics and comparisons",icon:e.jsx(dl,{className:"w-5 h-5"}),estimated_duration:"~10 seconds"},{id:"monthly_summary",name:"Monthly Summary",description:"Complete monthly business summary with detailed breakdowns",icon:e.jsx(Nr,{className:"w-5 h-5"}),estimated_duration:"~15 seconds"},{id:"product_performance",name:"Product Performance",description:"Best sellers, revenue by product, and inventory insights",icon:e.jsx(Te,{className:"w-5 h-5"}),estimated_duration:"~10 seconds"},{id:"feedback_summary",name:"Feedback Summary",description:"Customer satisfaction ratings and feedback analysis",icon:e.jsx(Ps,{className:"w-5 h-5"}),estimated_duration:"~8 seconds"},{id:"training_progress",name:"Training Progress",description:"Staff training completion rates and compliance metrics",icon:e.jsx(m6,{className:"w-5 h-5"}),estimated_duration:"~7 seconds"},{id:"inventory_alerts",name:"Inventory Alerts",description:"Summary of inventory issues and resolution times",icon:e.jsx(st,{className:"w-5 h-5"}),estimated_duration:"~5 seconds"}],{data:I,isLoading:ee}=ve({queryKey:["locations"],queryFn:async()=>i&&i.length>0?i:(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/locations",{headers:{Authorization:`Bearer ${r}`}})).data.map(M=>({location_id:M.location_id,location_name:M.location_name,address_line1:M.address_line1,city:M.city,is_collection_enabled:M.is_collection_enabled,is_delivery_enabled:M.is_delivery_enabled})),staleTime:6e4,enabled:!!r}),P=async()=>{var w,M;if(!d||!u){n("error","Please select both start and end dates");return}if(new Date(d)>new Date(u)){n("error","Start date must be before end date");return}O(!0),T(null),g(null),_(null),a("Generating report...");try{const W=await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/analytics/reports",{params:{report_type:o,date_from:d,date_to:u,location:v!=="all"?v:void 0,format:x},headers:{Authorization:`Bearer ${r}`},responseType:x==="json"?"json":"blob"});if(x==="json")g(W.data),n("success","Report generated successfully");else{const G=new Blob([W.data],{type:x==="pdf"?"application/pdf":"text/csv"}),U=window.URL.createObjectURL(G),ae=document.createElement("a");ae.href=U,ae.download=`${o}_${d}_${u}.${x}`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),window.URL.revokeObjectURL(U),n("success","Report downloaded successfully")}}catch(W){const G=((M=(w=W.response)==null?void 0:w.data)==null?void 0:M.message)||"Failed to generate report";T(G),n("error",G),console.error("Report generation error:",W)}finally{O(!1),l()}},Q=()=>{const w={};o&&(w.report_type=o),d&&(w.date_from=d),u&&(w.date_to=u),v!=="all"&&(w.location=v),x!=="json"&&(w.format=x),s(w)};h.useEffect(()=>{Q()},[o,d,u,v,x]);const B=w=>{const M=new Date;let W=new Date,G=new Date;switch(w){case"today":W=M,G=M;break;case"yesterday":W=new Date(M.getTime()-24*60*60*1e3),G=new Date(M.getTime()-24*60*60*1e3);break;case"last_7_days":W=new Date(M.getTime()-7*24*60*60*1e3),G=M;break;case"last_30_days":W=new Date(M.getTime()-30*24*60*60*1e3),G=M;break;case"this_month":W=new Date(M.getFullYear(),M.getMonth(),1),G=M;break;case"last_month":{W=new Date(M.getFullYear(),M.getMonth()-1,1),G=new Date(M.getFullYear(),M.getMonth(),0);break}}m(W.toISOString().split("T")[0]),p(G.toISOString().split("T")[0])};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"flex",children:[e.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-screen",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Reports & Analytics"})]}),e.jsxs("nav",{className:"px-4 space-y-2",children:[e.jsxs(re,{to:"/admin/dashboard",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(sn,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Dashboard"})]}),e.jsxs(re,{to:"/admin/orders",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Lt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Orders"})]}),e.jsxs(re,{to:"/admin/products",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Products"})]}),e.jsxs(re,{to:"/admin/users",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(ml,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Users"})]}),e.jsx("div",{className:"pt-2 font-medium text-xs text-gray-500 uppercase tracking-wider px-4",children:"Reports"}),e.jsxs(re,{to:"/admin/reports",className:"flex items-center space-x-3 px-4 py-3 bg-purple-50 text-purple-700 rounded-lg transition-colors",children:[e.jsx(Lt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Generate Reports"})]}),e.jsxs(re,{to:"/admin/settings",className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(fn,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Settings"})]})]})]}),e.jsxs("main",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Reports"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Generate comprehensive business reports with customizable parameters and export options"})]}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>R("generate"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${C==="generate"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Generate Reports"}),e.jsx("button",{onClick:()=>R("scheduled"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${C==="scheduled"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Scheduled Reports"})]})}),C==="generate"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Lt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Select Report Type"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(w=>e.jsxs("button",{onClick:()=>{c(w.id),g(null),_(null),T(null)},className:`p-4 rounded-lg border-2 text-left transition-all ${o===w.id?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${o===w.id?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:w.icon}),o===w.id&&e.jsx("div",{className:"w-5 h-5 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:w.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.description}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:w.estimated_duration})]})]},w.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(wl,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Configure Report Parameters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("button",{onClick:()=>B("today"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Today"}),e.jsx("button",{onClick:()=>B("yesterday"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Yesterday"}),e.jsx("button",{onClick:()=>B("last_7_days"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Last 7 Days"}),e.jsx("button",{onClick:()=>B("this_month"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"This Month"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:d,onChange:w=>{m(w.target.value),T(null)},className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:u,onChange:w=>{p(w.target.value),T(null)},className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Filter"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:v,onChange:w=>{b(w.target.value),T(null)},className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:ring-4 focus:ring-purple-100 appearance-none transition-all",disabled:ee,children:[e.jsx("option",{value:"all",children:"All Locations"}),I==null?void 0:I.map(w=>e.jsx("option",{value:w.location_name,children:w.location_name},w.location_id))]}),e.jsx(Wi,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),ee&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading locations..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"format",value:"json",checked:x==="json",onChange:w=>y(w.target.value),className:"w-4 h-4 text-purple-600 focus:ring-purple-500"}),e.jsxs("div",{className:"ml-3 flex items-center space-x-3",children:[e.jsx(o6,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"JSON Preview"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View report data in-page"})]})]})]}),e.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"format",value:"csv",checked:x==="csv",onChange:w=>y(w.target.value),className:"w-4 h-4 text-purple-600 focus:ring-purple-500"}),e.jsxs("div",{className:"ml-3 flex items-center space-x-3",children:[e.jsx(c6,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"CSV Export"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download spreadsheet file"})]})]})]}),e.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"format",value:"pdf",checked:x==="pdf",onChange:w=>y(w.target.value),className:"w-4 h-4 text-purple-600 focus:ring-purple-500"}),e.jsxs("div",{className:"ml-3 flex items-center space-x-3",children:[e.jsx(Lt,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"PDF Export"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download formatted document"})]})]})]})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Selected Report"}),e.jsx("p",{className:"text-sm text-purple-700",children:((F=H.find(w=>w.id===o))==null?void 0:F.name)||"Daily Sales"}),d&&u&&e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[new Date(d).toLocaleDateString()," - ",new Date(u).toLocaleDateString()]}),v!=="all"&&e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Location: ",v]})]})]})]}),E&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-700",children:E})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{g(null),_(null),T(null),m(""),p(""),b("all"),y("json"),c("daily_sales")},className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all",children:"Clear Filters"}),e.jsx("button",{onClick:P,disabled:S||!d||!u,className:"px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all flex items-center space-x-2",children:S?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(kc,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Report"})]})})]})]}),f&&x==="json"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(sn,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Report Preview"})]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(f,null,2)),n("success","Report data copied to clipboard")},className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Copy JSON"})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-auto",children:e.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:JSON.stringify(f,null,2)})})]}),x!=="json"&&j===null&&!S&&!E&&d&&u&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Lt,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Generate"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:['Click "Generate Report" to create and download your ',x.toUpperCase()," file"]})]})]}),C==="scheduled"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(st,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-yellow-900 mb-1",children:"Feature In Development"}),e.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Scheduled reports functionality requires the following backend endpoints to be implemented:"}),e.jsxs("ul",{className:"text-xs text-yellow-600 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"GET /api/reports/scheduled"})," - Fetch scheduled reports"]}),e.jsxs("li",{children:[e.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"POST /api/reports/scheduled"})," - Create scheduled report"]}),e.jsxs("li",{children:[e.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"PUT /api/reports/scheduled/:id"})," - Update scheduled report"]}),e.jsxs("li",{children:[e.jsx("code",{className:"bg-yellow-100 px-1 py-0.5 rounded",children:"DELETE /api/reports/scheduled/:id"})," - Delete scheduled report"]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(Le,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Scheduled Reports"})]}),e.jsxs("button",{disabled:!0,className:"px-4 py-2 bg-purple-200 text-purple-400 font-medium rounded-lg cursor-not-allowed flex items-center space-x-2",children:[e.jsx(es,{className:"w-4 h-4"}),e.jsx("span",{children:"Schedule New Report"})]})]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Nr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Scheduled Reports Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Scheduled reports will appear here once the feature is enabled"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This feature requires backend API implementation"})]})]})]})]})]})})})};function Wf(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Cl(...t){return s=>{let r=!1;const n=t.map(a=>{const l=Wf(a,s);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():Wf(t[a],null)}}}}function rt(...t){return h.useCallback(Cl(...t),t)}var h5=Symbol.for("react.lazy"),Ec=Mc[" use ".trim().toString()];function p5(t){return typeof t=="object"&&t!==null&&"then"in t}function lv(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===h5&&"_payload"in t&&p5(t._payload)}function iv(t){const s=f5(t),r=h.forwardRef((n,a)=>{let{children:l,...i}=n;lv(l)&&typeof Ec=="function"&&(l=Ec(l._payload));const o=h.Children.toArray(l),c=o.find(y5);if(c){const d=c.props.children,m=o.map(u=>u===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:u);return e.jsx(s,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,m):null})}return e.jsx(s,{...i,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}var x5=iv("Slot");function f5(t){const s=h.forwardRef((r,n)=>{let{children:a,...l}=r;if(lv(a)&&typeof Ec=="function"&&(a=Ec(a._payload)),h.isValidElement(a)){const i=v5(a),o=b5(l,a.props);return a.type!==h.Fragment&&(o.ref=n?Cl(n,i):i),h.cloneElement(a,o)}return h.Children.count(a)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var g5=Symbol("radix.slottable");function y5(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===g5}function b5(t,s){const r={...s};for(const n in s){const a=t[n],l=s[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...o)=>{const c=l(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function v5(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ov(t){var s,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=ov(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function cv(){for(var t,s,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(s=ov(t))&&(n&&(n+=" "),n+=s);return n}const Kf=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qf=cv,ld=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return Qf(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:l}=s,i=Object.keys(a).map(d=>{const m=r==null?void 0:r[d],u=l==null?void 0:l[d];if(m===null)return null;const p=Kf(m)||Kf(u);return a[d][p]}),o=r&&Object.entries(r).reduce((d,m)=>{let[u,p]=m;return p===void 0||(d[u]=p),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,m)=>{let{class:u,className:p,...v}=m;return Object.entries(v).every(b=>{let[x,y]=b;return Array.isArray(y)?y.includes({...l,...o}[x]):{...l,...o}[x]===y})?[...d,u,p]:d},[]);return Qf(t,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},xp="-",j5=t=>{const s=N5(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const o=i.split(xp);return o[0]===""&&o.length!==1&&o.shift(),dv(o,s)||_5(i)},getConflictingClassGroupIds:(i,o)=>{const c=r[i]||[];return o&&n[i]?[...c,...n[i]]:c}}},dv=(t,s)=>{var i;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?dv(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const l=t.join(xp);return(i=s.validators.find(({validator:o})=>o(l)))==null?void 0:i.classGroupId},Gf=/^\[(.+)\]$/,_5=t=>{if(Gf.test(t)){const s=Gf.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},N5=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return k5(Object.entries(t.classGroups),r).forEach(([l,i])=>{Bm(i,n,l,s)}),n},Bm=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?s:Yf(s,a);l.classGroupId=r;return}if(typeof a=="function"){if(w5(a)){Bm(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([l,i])=>{Bm(i,Yf(s,l),r,n)})})},Yf=(t,s)=>{let r=t;return s.split(xp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},w5=t=>t.isThemeGetter,k5=(t,s)=>s?t.map(([r,n])=>{const a=n.map(l=>typeof l=="string"?s+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([i,o])=>[s+i,o])):l);return[r,a]}):t,C5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(l,i)=>{r.set(l,i),s++,s>t&&(s=0,n=r,r=new Map)};return{get(l){let i=r.get(l);if(i!==void 0)return i;if((i=n.get(l))!==void 0)return a(l,i),i},set(l,i){r.has(l)?r.set(l,i):a(l,i)}}},uv="!",S5=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],l=s.length,i=o=>{const c=[];let d=0,m=0,u;for(let y=0;y<o.length;y++){let f=o[y];if(d===0){if(f===a&&(n||o.slice(y,y+l)===s)){c.push(o.slice(m,y)),m=y+l;continue}if(f==="/"){u=y;continue}}f==="["?d++:f==="]"&&d--}const p=c.length===0?o:o.substring(m),v=p.startsWith(uv),b=v?p.substring(1):p,x=u&&u>m?u-m:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:i}):i},E5=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},P5=t=>({cache:C5(t.cacheSize),parseClassName:S5(t),...j5(t)}),R5=/\s+/,A5=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,l=[],i=t.trim().split(R5);let o="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:m,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:v}=r(d);let b=!!v,x=n(b?p.substring(0,v):p);if(!x){if(!b){o=d+(o.length>0?" "+o:o);continue}if(x=n(p),!x){o=d+(o.length>0?" "+o:o);continue}b=!1}const y=E5(m).join(":"),f=u?y+uv:y,g=f+x;if(l.includes(g))continue;l.push(g);const j=a(x,b);for(let _=0;_<j.length;++_){const S=j[_];l.push(f+S)}o=d+(o.length>0?" "+o:o)}return o};function T5(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=mv(s))&&(n&&(n+=" "),n+=r);return n}const mv=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=mv(t[n]))&&(r&&(r+=" "),r+=s);return r};function F5(t,...s){let r,n,a,l=i;function i(c){const d=s.reduce((m,u)=>u(m),t());return r=P5(d),n=r.cache.get,a=r.cache.set,l=o,o(c)}function o(c){const d=n(c);if(d)return d;const m=A5(c,r);return a(c,m),m}return function(){return l(T5.apply(null,arguments))}}const ze=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},hv=/^\[(?:([a-z-]+):)?(.+)\]$/i,O5=/^\d+\/\d+$/,L5=new Set(["px","full","screen"]),M5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=t=>Ia(t)||L5.has(t)||O5.test(t),Fr=t=>Sl(t,"length",Q5),Ia=t=>!!t&&!Number.isNaN(Number(t)),au=t=>Sl(t,"number",Ia),Ul=t=>!!t&&Number.isInteger(Number(t)),z5=t=>t.endsWith("%")&&Ia(t.slice(0,-1)),Ne=t=>hv.test(t),Or=t=>M5.test(t),B5=new Set(["length","size","percentage"]),U5=t=>Sl(t,B5,pv),V5=t=>Sl(t,"position",pv),H5=new Set(["image","url"]),W5=t=>Sl(t,H5,Y5),K5=t=>Sl(t,"",G5),Vl=()=>!0,Sl=(t,s,r)=>{const n=hv.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},Q5=t=>D5.test(t)&&!I5.test(t),pv=()=>!1,G5=t=>$5.test(t),Y5=t=>q5.test(t),J5=()=>{const t=ze("colors"),s=ze("spacing"),r=ze("blur"),n=ze("brightness"),a=ze("borderColor"),l=ze("borderRadius"),i=ze("borderSpacing"),o=ze("borderWidth"),c=ze("contrast"),d=ze("grayscale"),m=ze("hueRotate"),u=ze("invert"),p=ze("gap"),v=ze("gradientColorStops"),b=ze("gradientColorStopPositions"),x=ze("inset"),y=ze("margin"),f=ze("opacity"),g=ze("padding"),j=ze("saturate"),_=ze("scale"),S=ze("sepia"),O=ze("skew"),E=ze("space"),T=ze("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Ne,s],I=()=>[Ne,s],ee=()=>["",rr,Fr],P=()=>["auto",Ia,Ne],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],w=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ne],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ia,Ne];return{cacheSize:500,separator:":",theme:{colors:[Vl],spacing:[rr,Fr],blur:["none","",Or,Ne],brightness:G(),borderColor:[t],borderRadius:["none","","full",Or,Ne],borderSpacing:I(),borderWidth:ee(),contrast:G(),grayscale:M(),hueRotate:G(),invert:M(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[z5,Fr],inset:H(),margin:H(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:M(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Or]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ne]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ul,Ne]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ul,Ne]}],"grid-cols":[{"grid-cols":[Vl]}],"col-start-end":[{col:["auto",{span:["full",Ul,Ne]},Ne]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Vl]}],"row-start-end":[{row:["auto",{span:[Ul,Ne]},Ne]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...w()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...w(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...w(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,s]}],"min-w":[{"min-w":[Ne,s,"min","max","fit"]}],"max-w":[{"max-w":[Ne,s,"none","full","min","max","fit","prose",{screen:[Or]},Or]}],h:[{h:[Ne,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Or,Fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",au]}],"font-family":[{font:[Vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Ia,au]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rr,Fr]}],"underline-offset":[{"underline-offset":["auto",rr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),V5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[rr,Ne]}],"outline-w":[{outline:[rr,Fr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[rr,Fr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Or,K5]}],"shadow-color":[{shadow:[Vl]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Or,Ne]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[u]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ul,Ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rr,Fr,au]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X5=F5(J5);function $e(...t){return X5(cv(t))}const Z5=ld("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-neutral-950 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Mr=h.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},l)=>{const i=n?x5:"button";return e.jsx(i,{className:$e(Z5({variant:s,size:r,className:t})),ref:l,...a})});Mr.displayName="Button";const Dr=h.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:$e("flex h-10 w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-neutral-800 dark:bg-neutral-950 dark:ring-offset-neutral-950 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",t),ref:n,...r}));Dr.displayName="Input";const xv=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:$e("w-full caption-bottom text-sm",t),...s})}));xv.displayName="Table";const fv=h.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:$e("[&_tr]:border-b",t),...s}));fv.displayName="TableHeader";const gv=h.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:$e("[&_tr:last-child]:border-0",t),...s}));gv.displayName="TableBody";const e3=h.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:$e("border-t bg-neutral-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-neutral-800/50",t),...s}));e3.displayName="TableFooter";const Xl=h.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:$e("border-b transition-colors hover:bg-neutral-100/50 data-[state=selected]:bg-neutral-100 dark:hover:bg-neutral-800/50 dark:data-[state=selected]:bg-neutral-800",t),...s}));Xl.displayName="TableRow";const Ir=h.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:$e("h-12 px-4 text-left align-middle font-medium text-neutral-500 [&:has([role=checkbox])]:pr-0 dark:text-neutral-400",t),...s}));Ir.displayName="TableHead";const qs=h.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:$e("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));qs.displayName="TableCell";const t3=h.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:$e("mt-4 text-sm text-neutral-500 dark:text-neutral-400",t),...s}));t3.displayName="TableCaption";function Ue(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function s3(t,s){const r=h.createContext(s),n=l=>{const{children:i,...o}=l,c=h.useMemo(()=>o,Object.values(o));return e.jsx(r.Provider,{value:c,children:i})};n.displayName=t+"Provider";function a(l){const i=h.useContext(r);if(i)return i;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[n,a]}function id(t,s=[]){let r=[];function n(l,i){const o=h.createContext(i),c=r.length;r=[...r,i];const d=u=>{var f;const{scope:p,children:v,...b}=u,x=((f=p==null?void 0:p[t])==null?void 0:f[c])||o,y=h.useMemo(()=>b,Object.values(b));return e.jsx(x.Provider,{value:y,children:v})};d.displayName=l+"Provider";function m(u,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||o,b=h.useContext(v);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${l}\``)}return[d,m]}const a=()=>{const l=r.map(i=>h.createContext(i));return function(o){const c=(o==null?void 0:o[t])||l;return h.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,r3(a,...s)]}function r3(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const i=n.reduce((o,{useScope:c,scopeName:d})=>{const u=c(l)[`__scope${d}`];return{...o,...u}},{});return h.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return r.scopeName=s.scopeName,r}var Et=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},n3=Mc[" useId ".trim().toString()]||(()=>{}),a3=0;function $a(t){const[s,r]=h.useState(n3());return Et(()=>{r(n=>n??String(a3++))},[t]),s?`radix-${s}`:""}var l3=Mc[" useInsertionEffect ".trim().toString()]||Et;function Um({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,l,i]=i3({defaultProp:s,onChange:r}),o=t!==void 0,c=o?t:a;{const m=h.useRef(t!==void 0);h.useEffect(()=>{const u=m.current;u!==o&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=o},[o,n])}const d=h.useCallback(m=>{var u;if(o){const p=o3(m)?m(t):m;p!==t&&((u=i.current)==null||u.call(i,p))}else l(m)},[o,t,l,i]);return[c,d]}function i3({defaultProp:t,onChange:s}){const[r,n]=h.useState(t),a=h.useRef(r),l=h.useRef(s);return l3(()=>{l.current=s},[s]),h.useEffect(()=>{var i;a.current!==r&&((i=l.current)==null||i.call(l,r),a.current=r)},[r,a]),[r,n,l]}function o3(t){return typeof t=="function"}function c3(t){const s=d3(t),r=h.forwardRef((n,a)=>{const{children:l,...i}=n,o=h.Children.toArray(l),c=o.find(m3);if(c){const d=c.props.children,m=o.map(u=>u===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:u);return e.jsx(s,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,m):null})}return e.jsx(s,{...i,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}function d3(t){const s=h.forwardRef((r,n)=>{const{children:a,...l}=r;if(h.isValidElement(a)){const i=p3(a),o=h3(l,a.props);return a.type!==h.Fragment&&(o.ref=n?Cl(n,i):i),h.cloneElement(a,o)}return h.Children.count(a)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var u3=Symbol("radix.slottable");function m3(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===u3}function h3(t,s){const r={...s};for(const n in s){const a=t[n],l=s[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...o)=>{const c=l(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function p3(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var x3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=x3.reduce((t,s)=>{const r=c3(`Primitive.${s}`),n=h.forwardRef((a,l)=>{const{asChild:i,...o}=a,c=i?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:l})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function f3(t,s){t&&gl.flushSync(()=>t.dispatchEvent(s))}function aa(t){const s=h.useRef(t);return h.useEffect(()=>{s.current=t}),h.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function g3(t,s=globalThis==null?void 0:globalThis.document){const r=aa(t);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var y3="DismissableLayer",Vm="dismissableLayer.update",b3="dismissableLayer.pointerDownOutside",v3="dismissableLayer.focusOutside",Jf,yv=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fp=h.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:i,onDismiss:o,...c}=t,d=h.useContext(yv),[m,u]=h.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=h.useState({}),b=rt(s,E=>u(E)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),f=x.indexOf(y),g=m?x.indexOf(m):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,_=g>=f,S=N3(E=>{const T=E.target,C=[...d.branches].some(R=>R.contains(T));!_||C||(a==null||a(E),i==null||i(E),E.defaultPrevented||o==null||o())},p),O=w3(E=>{const T=E.target;[...d.branches].some(R=>R.contains(T))||(l==null||l(E),i==null||i(E),E.defaultPrevented||o==null||o())},p);return g3(E=>{g===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},p),h.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Jf=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Xf(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Jf)}},[m,p,r,d]),h.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Xf())},[m,d]),h.useEffect(()=>{const E=()=>v({});return document.addEventListener(Vm,E),()=>document.removeEventListener(Vm,E)},[]),e.jsx(qe.div,{...c,ref:b,style:{pointerEvents:j?_?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,S.onPointerDownCapture)})});fp.displayName=y3;var j3="DismissableLayerBranch",_3=h.forwardRef((t,s)=>{const r=h.useContext(yv),n=h.useRef(null),a=rt(s,n);return h.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),e.jsx(qe.div,{...t,ref:a})});_3.displayName=j3;function N3(t,s=globalThis==null?void 0:globalThis.document){const r=aa(t),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const l=o=>{if(o.target&&!n.current){let c=function(){bv(b3,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",l),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function w3(t,s=globalThis==null?void 0:globalThis.document){const r=aa(t),n=h.useRef(!1);return h.useEffect(()=>{const a=l=>{l.target&&!n.current&&bv(v3,r,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Xf(){const t=new CustomEvent(Vm);document.dispatchEvent(t)}function bv(t,s,r,{discrete:n}){const a=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?f3(a,l):a.dispatchEvent(l)}var lu="focusScope.autoFocusOnMount",iu="focusScope.autoFocusOnUnmount",Zf={bubbles:!1,cancelable:!0},k3="FocusScope",gp=h.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...i}=t,[o,c]=h.useState(null),d=aa(a),m=aa(l),u=h.useRef(null),p=rt(s,x=>c(x)),v=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let x=function(j){if(v.paused||!o)return;const _=j.target;o.contains(_)?u.current=_:$r(u.current,{select:!0})},y=function(j){if(v.paused||!o)return;const _=j.relatedTarget;_!==null&&(o.contains(_)||$r(u.current,{select:!0}))},f=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&$r(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const g=new MutationObserver(f);return o&&g.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),g.disconnect()}}},[n,o,v.paused]),h.useEffect(()=>{if(o){t0.add(v);const x=document.activeElement;if(!o.contains(x)){const f=new CustomEvent(lu,Zf);o.addEventListener(lu,d),o.dispatchEvent(f),f.defaultPrevented||(C3(A3(vv(o)),{select:!0}),document.activeElement===x&&$r(o))}return()=>{o.removeEventListener(lu,d),setTimeout(()=>{const f=new CustomEvent(iu,Zf);o.addEventListener(iu,m),o.dispatchEvent(f),f.defaultPrevented||$r(x??document.body,{select:!0}),o.removeEventListener(iu,m),t0.remove(v)},0)}}},[o,d,m,v]);const b=h.useCallback(x=>{if(!r&&!n||v.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,f=document.activeElement;if(y&&f){const g=x.currentTarget,[j,_]=S3(g);j&&_?!x.shiftKey&&f===_?(x.preventDefault(),r&&$r(j,{select:!0})):x.shiftKey&&f===j&&(x.preventDefault(),r&&$r(_,{select:!0})):f===g&&x.preventDefault()}},[r,n,v.paused]);return e.jsx(qe.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});gp.displayName=k3;function C3(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if($r(n,{select:s}),document.activeElement!==r)return}function S3(t){const s=vv(t),r=e0(s,t),n=e0(s.reverse(),t);return[r,n]}function vv(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function e0(t,s){for(const r of t)if(!E3(r,{upTo:s}))return r}function E3(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function P3(t){return t instanceof HTMLInputElement&&"select"in t}function $r(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&P3(t)&&s&&t.select()}}var t0=R3();function R3(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=s0(t,s),t.unshift(s)},remove(s){var r;t=s0(t,s),(r=t[0])==null||r.resume()}}}function s0(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function A3(t){return t.filter(s=>s.tagName!=="A")}var T3="Portal",yp=h.forwardRef((t,s)=>{var o;const{container:r,...n}=t,[a,l]=h.useState(!1);Et(()=>l(!0),[]);const i=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?$w.createPortal(e.jsx(qe.div,{...n,ref:s}),i):null});yp.displayName=T3;function F3(t,s){return h.useReducer((r,n)=>s[r][n]??r,t)}var od=t=>{const{present:s,children:r}=t,n=O3(s),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),l=rt(n.ref,L3(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:l}):null};od.displayName="Presence";function O3(t){const[s,r]=h.useState(),n=h.useRef(null),a=h.useRef(t),l=h.useRef("none"),i=t?"mounted":"unmounted",[o,c]=F3(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=yo(n.current);l.current=o==="mounted"?d:"none"},[o]),Et(()=>{const d=n.current,m=a.current;if(m!==t){const p=l.current,v=yo(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&p!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),Et(()=>{if(s){let d;const m=s.ownerDocument.defaultView??window,u=v=>{const x=yo(n.current).includes(CSS.escape(v.animationName));if(v.target===s&&x&&(c("ANIMATION_END"),!a.current)){const y=s.style.animationFillMode;s.style.animationFillMode="forwards",d=m.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=y)})}},p=v=>{v.target===s&&(l.current=yo(n.current))};return s.addEventListener("animationstart",p),s.addEventListener("animationcancel",u),s.addEventListener("animationend",u),()=>{m.clearTimeout(d),s.removeEventListener("animationstart",p),s.removeEventListener("animationcancel",u),s.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function yo(t){return(t==null?void 0:t.animationName)||"none"}function L3(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ou=0;function jv(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r0()),document.body.insertAdjacentElement("beforeend",t[1]??r0()),ou++,()=>{ou===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),ou--}},[])}function r0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ws=function(){return Ws=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Ws.apply(this,arguments)};function _v(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function M3(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,l;n<a;n++)(l||!(n in s))&&(l||(l=Array.prototype.slice.call(s,0,n)),l[n]=s[n]);return t.concat(l||Array.prototype.slice.call(s))}var Wo="right-scroll-bar-position",Ko="width-before-scroll-bar",D3="with-scroll-bars-hidden",I3="--removed-body-scroll-bar-size";function cu(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function $3(t,s){var r=h.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var q3=typeof window<"u"?h.useLayoutEffect:h.useEffect,n0=new WeakMap;function z3(t,s){var r=$3(null,function(n){return t.forEach(function(a){return cu(a,n)})});return q3(function(){var n=n0.get(r);if(n){var a=new Set(n),l=new Set(t),i=r.current;a.forEach(function(o){l.has(o)||cu(o,null)}),l.forEach(function(o){a.has(o)||cu(o,i)})}n0.set(r,t)},[t]),r}function B3(t){return t}function U3(t,s){s===void 0&&(s=B3);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var i=s(l,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(l){for(n=!0;r.length;){var i=r;r=[],i.forEach(l)}r={push:function(o){return l(o)},filter:function(){return r}}},assignMedium:function(l){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(l),i=r}var c=function(){var m=i;i=[],m.forEach(l)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),r}}}};return a}function V3(t){t===void 0&&(t={});var s=U3(null);return s.options=Ws({async:!0,ssr:!1},t),s}var Nv=function(t){var s=t.sideCar,r=_v(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Ws({},r))};Nv.isSideCarExport=!0;function H3(t,s){return t.useMedium(s),Nv}var wv=V3(),du=function(){},cd=h.forwardRef(function(t,s){var r=h.useRef(null),n=h.useState({onScrollCapture:du,onWheelCapture:du,onTouchMoveCapture:du}),a=n[0],l=n[1],i=t.forwardProps,o=t.children,c=t.className,d=t.removeScrollBar,m=t.enabled,u=t.shards,p=t.sideCar,v=t.noRelative,b=t.noIsolation,x=t.inert,y=t.allowPinchZoom,f=t.as,g=f===void 0?"div":f,j=t.gapMode,_=_v(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,O=z3([r,s]),E=Ws(Ws({},_),a);return h.createElement(h.Fragment,null,m&&h.createElement(S,{sideCar:wv,removeScrollBar:d,shards:u,noRelative:v,noIsolation:b,inert:x,setCallbacks:l,allowPinchZoom:!!y,lockRef:r,gapMode:j}),i?h.cloneElement(h.Children.only(o),Ws(Ws({},E),{ref:O})):h.createElement(g,Ws({},E,{className:c,ref:O}),o))});cd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cd.classNames={fullWidth:Ko,zeroRight:Wo};var W3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=W3();return s&&t.setAttribute("nonce",s),t}function Q3(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function G3(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Y3=function(){var t=0,s=null;return{add:function(r){t==0&&(s=K3())&&(Q3(s,r),G3(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},J3=function(){var t=Y3();return function(s,r){h.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},kv=function(){var t=J3(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},X3={left:0,top:0,right:0,gap:0},uu=function(t){return parseInt(t||"",10)||0},Z3=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[uu(r),uu(n),uu(a)]},eS=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return X3;var s=Z3(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},tS=kv(),qa="data-scroll-locked",sS=function(t,s,r,n){var a=t.left,l=t.top,i=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(D3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(qa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wo,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Ko,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Wo," .").concat(Wo,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ko," .").concat(Ko,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qa,`] {
    `).concat(I3,": ").concat(o,`px;
  }
`)},a0=function(){var t=parseInt(document.body.getAttribute(qa)||"0",10);return isFinite(t)?t:0},rS=function(){h.useEffect(function(){return document.body.setAttribute(qa,(a0()+1).toString()),function(){var t=a0()-1;t<=0?document.body.removeAttribute(qa):document.body.setAttribute(qa,t.toString())}},[])},nS=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;rS();var l=h.useMemo(function(){return eS(a)},[a]);return h.createElement(tS,{styles:sS(l,!s,a,r?"":"!important")})},Hm=!1;if(typeof window<"u")try{var bo=Object.defineProperty({},"passive",{get:function(){return Hm=!0,!0}});window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Hm=!1}var xa=Hm?{passive:!1}:!1,aS=function(t){return t.tagName==="TEXTAREA"},Cv=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!aS(t)&&r[s]==="visible")},lS=function(t){return Cv(t,"overflowY")},iS=function(t){return Cv(t,"overflowX")},l0=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Sv(t,n);if(a){var l=Ev(t,n),i=l[1],o=l[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oS=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},cS=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},Sv=function(t,s){return t==="v"?lS(s):iS(s)},Ev=function(t,s){return t==="v"?oS(s):cS(s)},dS=function(t,s){return t==="h"&&s==="rtl"?-1:1},uS=function(t,s,r,n,a){var l=dS(t,window.getComputedStyle(s).direction),i=l*n,o=r.target,c=s.contains(o),d=!1,m=i>0,u=0,p=0;do{if(!o)break;var v=Ev(t,o),b=v[0],x=v[1],y=v[2],f=x-y-l*b;(b||f)&&Sv(t,o)&&(u+=f,p+=b);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(s.contains(o)||s===o));return(m&&Math.abs(u)<1||!m&&Math.abs(p)<1)&&(d=!0),d},vo=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},i0=function(t){return[t.deltaX,t.deltaY]},o0=function(t){return t&&"current"in t?t.current:t},mS=function(t,s){return t[0]===s[0]&&t[1]===s[1]},hS=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pS=0,fa=[];function xS(t){var s=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(pS++)[0],l=h.useState(kv)[0],i=h.useRef(t);h.useEffect(function(){i.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var x=M3([t.lockRef.current],(t.shards||[]).map(o0),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=h.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var f=vo(x),g=r.current,j="deltaX"in x?x.deltaX:g[0]-f[0],_="deltaY"in x?x.deltaY:g[1]-f[1],S,O=x.target,E=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in x&&E==="h"&&O.type==="range")return!1;var T=window.getSelection(),C=T&&T.anchorNode,R=C?C===O||C.contains(O):!1;if(R)return!1;var H=l0(E,O);if(!H)return!0;if(H?S=E:(S=E==="v"?"h":"v",H=l0(E,O)),!H)return!1;if(!n.current&&"changedTouches"in x&&(j||_)&&(n.current=S),!S)return!0;var I=n.current||S;return uS(I,y,x,I==="h"?j:_)},[]),c=h.useCallback(function(x){var y=x;if(!(!fa.length||fa[fa.length-1]!==l)){var f="deltaY"in y?i0(y):vo(y),g=s.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&mS(S.delta,f)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var j=(i.current.shards||[]).map(o0).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=j.length>0?o(y,j[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),d=h.useCallback(function(x,y,f,g){var j={name:x,delta:y,target:f,should:g,shadowParent:fS(f)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(_){return _!==j})},1)},[]),m=h.useCallback(function(x){r.current=vo(x),n.current=void 0},[]),u=h.useCallback(function(x){d(x.type,i0(x),x.target,o(x,t.lockRef.current))},[]),p=h.useCallback(function(x){d(x.type,vo(x),x.target,o(x,t.lockRef.current))},[]);h.useEffect(function(){return fa.push(l),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",c,xa),document.addEventListener("touchmove",c,xa),document.addEventListener("touchstart",m,xa),function(){fa=fa.filter(function(x){return x!==l}),document.removeEventListener("wheel",c,xa),document.removeEventListener("touchmove",c,xa),document.removeEventListener("touchstart",m,xa)}},[]);var v=t.removeScrollBar,b=t.inert;return h.createElement(h.Fragment,null,b?h.createElement(l,{styles:hS(a)}):null,v?h.createElement(nS,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fS(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const gS=H3(wv,xS);var bp=h.forwardRef(function(t,s){return h.createElement(cd,Ws({},t,{ref:s,sideCar:gS}))});bp.classNames=cd.classNames;var yS=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},ga=new WeakMap,jo=new WeakMap,_o={},mu=0,Pv=function(t){return t&&(t.host||Pv(t.parentNode))},bS=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=Pv(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},vS=function(t,s,r,n){var a=bS(s,Array.isArray(t)?t:[t]);_o[r]||(_o[r]=new WeakMap);var l=_o[r],i=[],o=new Set,c=new Set(a),d=function(u){!u||o.has(u)||(o.add(u),d(u.parentNode))};a.forEach(d);var m=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(p){if(o.has(p))m(p);else try{var v=p.getAttribute(n),b=v!==null&&v!=="false",x=(ga.get(p)||0)+1,y=(l.get(p)||0)+1;ga.set(p,x),l.set(p,y),i.push(p),x===1&&b&&jo.set(p,!0),y===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(f){console.error("aria-hidden: cannot operate on ",p,f)}})};return m(s),o.clear(),mu++,function(){i.forEach(function(u){var p=ga.get(u)-1,v=l.get(u)-1;ga.set(u,p),l.set(u,v),p||(jo.has(u)||u.removeAttribute(n),jo.delete(u)),v||u.removeAttribute(r)}),mu--,mu||(ga=new WeakMap,ga=new WeakMap,jo=new WeakMap,_o={})}},Rv=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=yS(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),vS(n,a,r,"aria-hidden")):function(){return null}};function jS(t){const s=_S(t),r=h.forwardRef((n,a)=>{const{children:l,...i}=n,o=h.Children.toArray(l),c=o.find(wS);if(c){const d=c.props.children,m=o.map(u=>u===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:u);return e.jsx(s,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,m):null})}return e.jsx(s,{...i,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}function _S(t){const s=h.forwardRef((r,n)=>{const{children:a,...l}=r;if(h.isValidElement(a)){const i=CS(a),o=kS(l,a.props);return a.type!==h.Fragment&&(o.ref=n?Cl(n,i):i),h.cloneElement(a,o)}return h.Children.count(a)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var NS=Symbol("radix.slottable");function wS(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NS}function kS(t,s){const r={...s};for(const n in s){const a=t[n],l=s[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...o)=>{const c=l(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function CS(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var dd="Dialog",[Av]=id(dd),[SS,Ds]=Av(dd),Tv=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:l,modal:i=!0}=t,o=h.useRef(null),c=h.useRef(null),[d,m]=Um({prop:n,defaultProp:a??!1,onChange:l,caller:dd});return e.jsx(SS,{scope:s,triggerRef:o,contentRef:c,contentId:$a(),titleId:$a(),descriptionId:$a(),open:d,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(u=>!u),[m]),modal:i,children:r})};Tv.displayName=dd;var Fv="DialogTrigger",ES=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Ds(Fv,r),l=rt(s,a.triggerRef);return e.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_p(a.open),...n,ref:l,onClick:Ue(t.onClick,a.onOpenToggle)})});ES.displayName=Fv;var vp="DialogPortal",[PS,Ov]=Av(vp,{forceMount:void 0}),Lv=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,l=Ds(vp,s);return e.jsx(PS,{scope:s,forceMount:r,children:h.Children.map(n,i=>e.jsx(od,{present:r||l.open,children:e.jsx(yp,{asChild:!0,container:a,children:i})}))})};Lv.displayName=vp;var Pc="DialogOverlay",Mv=h.forwardRef((t,s)=>{const r=Ov(Pc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,l=Ds(Pc,t.__scopeDialog);return l.modal?e.jsx(od,{present:n||l.open,children:e.jsx(AS,{...a,ref:s})}):null});Mv.displayName=Pc;var RS=jS("DialogOverlay.RemoveScroll"),AS=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Ds(Pc,r);return e.jsx(bp,{as:RS,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(qe.div,{"data-state":_p(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),la="DialogContent",Dv=h.forwardRef((t,s)=>{const r=Ov(la,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,l=Ds(la,t.__scopeDialog);return e.jsx(od,{present:n||l.open,children:l.modal?e.jsx(TS,{...a,ref:s}):e.jsx(FS,{...a,ref:s})})});Dv.displayName=la;var TS=h.forwardRef((t,s)=>{const r=Ds(la,t.__scopeDialog),n=h.useRef(null),a=rt(s,r.contentRef,n);return h.useEffect(()=>{const l=n.current;if(l)return Rv(l)},[]),e.jsx(Iv,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(t.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ue(t.onPointerDownOutside,l=>{const i=l.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&l.preventDefault()}),onFocusOutside:Ue(t.onFocusOutside,l=>l.preventDefault())})}),FS=h.forwardRef((t,s)=>{const r=Ds(la,t.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return e.jsx(Iv,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,o;(i=t.onCloseAutoFocus)==null||i.call(t,l),l.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),l.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:l=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=l.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Iv=h.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,...i}=t,o=Ds(la,r),c=h.useRef(null),d=rt(s,c);return jv(),e.jsxs(e.Fragment,{children:[e.jsx(gp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l,children:e.jsx(fp,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":_p(o.open),...i,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(OS,{titleId:o.titleId}),e.jsx(MS,{contentRef:c,descriptionId:o.descriptionId})]})]})}),jp="DialogTitle",$v=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Ds(jp,r);return e.jsx(qe.h2,{id:a.titleId,...n,ref:s})});$v.displayName=jp;var qv="DialogDescription",zv=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Ds(qv,r);return e.jsx(qe.p,{id:a.descriptionId,...n,ref:s})});zv.displayName=qv;var Bv="DialogClose",Uv=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Ds(Bv,r);return e.jsx(qe.button,{type:"button",...n,ref:s,onClick:Ue(t.onClick,()=>a.onOpenChange(!1))})});Uv.displayName=Bv;function _p(t){return t?"open":"closed"}var Vv="DialogTitleWarning",[BR,Hv]=s3(Vv,{contentName:la,titleName:jp,docsSlug:"dialog"}),OS=({titleId:t})=>{const s=Hv(Vv),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},LS="DialogDescriptionWarning",MS=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hv(LS).contentName}}.`;return h.useEffect(()=>{var l;const a=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},DS=Tv,IS=Lv,Wv=Mv,Kv=Dv,Qv=$v,Gv=zv,$S=Uv;const qS=DS,zS=IS,Yv=h.forwardRef(({className:t,...s},r)=>e.jsx(Wv,{className:$e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Yv.displayName=Wv.displayName;const BS=ld("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-neutral-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Jv=h.forwardRef(({side:t="right",className:s,children:r,...n},a)=>e.jsxs(zS,{children:[e.jsx(Yv,{}),e.jsxs(Kv,{ref:a,className:$e(BS({side:t}),s),...n,children:[r,e.jsxs($S,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 dark:ring-offset-neutral-950 dark:focus:ring-neutral-300 dark:data-[state=open]:bg-neutral-800",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jv.displayName=Kv.displayName;const Xv=({className:t,...s})=>e.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",t),...s});Xv.displayName="SheetHeader";const Zv=({className:t,...s})=>e.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Zv.displayName="SheetFooter";const ej=h.forwardRef(({className:t,...s},r)=>e.jsx(Qv,{ref:r,className:$e("text-lg font-semibold text-neutral-950 dark:text-neutral-50",t),...s}));ej.displayName=Qv.displayName;const tj=h.forwardRef(({className:t,...s},r)=>e.jsx(Gv,{ref:r,className:$e("text-sm text-neutral-500 dark:text-neutral-400",t),...s}));tj.displayName=Gv.displayName;var US=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VS=US.reduce((t,s)=>{const r=iv(`Primitive.${s}`),n=h.forwardRef((a,l)=>{const{asChild:i,...o}=a,c=i?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:l})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),HS="Label",sj=h.forwardRef((t,s)=>e.jsx(VS.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sj.displayName=HS;var rj=sj;const WS=ld("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ar=h.forwardRef(({className:t,...s},r)=>e.jsx(rj,{ref:r,className:$e(WS(),t),...s}));ar.displayName=rj.displayName;function c0(t,[s,r]){return Math.min(r,Math.max(s,t))}function d0(t){const s=KS(t),r=h.forwardRef((n,a)=>{const{children:l,...i}=n,o=h.Children.toArray(l),c=o.find(GS);if(c){const d=c.props.children,m=o.map(u=>u===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:u);return e.jsx(s,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,m):null})}return e.jsx(s,{...i,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}function KS(t){const s=h.forwardRef((r,n)=>{const{children:a,...l}=r;if(h.isValidElement(a)){const i=JS(a),o=YS(l,a.props);return a.type!==h.Fragment&&(o.ref=n?Cl(n,i):i),h.cloneElement(a,o)}return h.Children.count(a)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var QS=Symbol("radix.slottable");function GS(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QS}function YS(t,s){const r={...s};for(const n in s){const a=t[n],l=s[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...o)=>{const c=l(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function JS(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function XS(t){const s=t+"CollectionProvider",[r,n]=id(s),[a,l]=r(s,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:y,children:f}=x,g=Ot.useRef(null),j=Ot.useRef(new Map).current;return e.jsx(a,{scope:y,itemMap:j,collectionRef:g,children:f})};i.displayName=s;const o=t+"CollectionSlot",c=d0(o),d=Ot.forwardRef((x,y)=>{const{scope:f,children:g}=x,j=l(o,f),_=rt(y,j.collectionRef);return e.jsx(c,{ref:_,children:g})});d.displayName=o;const m=t+"CollectionItemSlot",u="data-radix-collection-item",p=d0(m),v=Ot.forwardRef((x,y)=>{const{scope:f,children:g,...j}=x,_=Ot.useRef(null),S=rt(y,_),O=l(m,f);return Ot.useEffect(()=>(O.itemMap.set(_,{ref:_,...j}),()=>void O.itemMap.delete(_))),e.jsx(p,{[u]:"",ref:S,children:g})});v.displayName=m;function b(x){const y=l(t+"CollectionConsumer",x);return Ot.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const j=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((O,E)=>j.indexOf(O.ref.current)-j.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:d,ItemSlot:v},b,n]}var ZS=h.createContext(void 0);function eE(t){const s=h.useContext(ZS);return t||s||"ltr"}const tE=["top","right","bottom","left"],bn=Math.min,Xt=Math.max,Rc=Math.round,No=Math.floor,Js=t=>({x:t,y:t}),sE={left:"right",right:"left",bottom:"top",top:"bottom"},rE={start:"end",end:"start"};function Wm(t,s,r){return Xt(t,bn(s,r))}function Cr(t,s){return typeof t=="function"?t(s):t}function Sr(t){return t.split("-")[0]}function El(t){return t.split("-")[1]}function Np(t){return t==="x"?"y":"x"}function wp(t){return t==="y"?"height":"width"}const nE=new Set(["top","bottom"]);function Ks(t){return nE.has(Sr(t))?"y":"x"}function kp(t){return Np(Ks(t))}function aE(t,s,r){r===void 0&&(r=!1);const n=El(t),a=kp(t),l=wp(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(i=Ac(i)),[i,Ac(i)]}function lE(t){const s=Ac(t);return[Km(t),s,Km(s)]}function Km(t){return t.replace(/start|end/g,s=>rE[s])}const u0=["left","right"],m0=["right","left"],iE=["top","bottom"],oE=["bottom","top"];function cE(t,s,r){switch(t){case"top":case"bottom":return r?s?m0:u0:s?u0:m0;case"left":case"right":return s?iE:oE;default:return[]}}function dE(t,s,r,n){const a=El(t);let l=cE(Sr(t),r==="start",n);return a&&(l=l.map(i=>i+"-"+a),s&&(l=l.concat(l.map(Km)))),l}function Ac(t){return t.replace(/left|right|bottom|top/g,s=>sE[s])}function uE(t){return{top:0,right:0,bottom:0,left:0,...t}}function nj(t){return typeof t!="number"?uE(t):{top:t,right:t,bottom:t,left:t}}function Tc(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function h0(t,s,r){let{reference:n,floating:a}=t;const l=Ks(s),i=kp(s),o=wp(i),c=Sr(s),d=l==="y",m=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,p=n[o]/2-a[o]/2;let v;switch(c){case"top":v={x:m,y:n.y-a.height};break;case"bottom":v={x:m,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:u};break;case"left":v={x:n.x-a.width,y:u};break;default:v={x:n.x,y:n.y}}switch(El(s)){case"start":v[i]-=p*(r&&d?-1:1);break;case"end":v[i]+=p*(r&&d?-1:1);break}return v}const mE=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:i}=r,o=l.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(s));let d=await i.getElementRects({reference:t,floating:s,strategy:a}),{x:m,y:u}=h0(d,n,c),p=n,v={},b=0;for(let x=0;x<o.length;x++){const{name:y,fn:f}=o[x],{x:g,y:j,data:_,reset:S}=await f({x:m,y:u,initialPlacement:n,placement:p,strategy:a,middlewareData:v,rects:d,platform:i,elements:{reference:t,floating:s}});m=g??m,u=j??u,v={...v,[y]:{...v[y],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(d=S.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:a}):S.rects),{x:m,y:u}=h0(d,p,c)),x=-1)}return{x:m,y:u,placement:p,strategy:a,middlewareData:v}};async function Ri(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:l,rects:i,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:u="floating",altBoundary:p=!1,padding:v=0}=Cr(s,t),b=nj(v),y=o[p?u==="floating"?"reference":"floating":u],f=Tc(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(y)))==null||r?y:y.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(o.floating)),boundary:d,rootBoundary:m,strategy:c})),g=u==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(o.floating)),_=await(l.isElement==null?void 0:l.isElement(j))?await(l.getScale==null?void 0:l.getScale(j))||{x:1,y:1}:{x:1,y:1},S=Tc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:j,strategy:c}):g);return{top:(f.top-S.top+b.top)/_.y,bottom:(S.bottom-f.bottom+b.bottom)/_.y,left:(f.left-S.left+b.left)/_.x,right:(S.right-f.right+b.right)/_.x}}const hE=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:l,platform:i,elements:o,middlewareData:c}=s,{element:d,padding:m=0}=Cr(t,s)||{};if(d==null)return{};const u=nj(m),p={x:r,y:n},v=kp(a),b=wp(v),x=await i.getDimensions(d),y=v==="y",f=y?"top":"left",g=y?"bottom":"right",j=y?"clientHeight":"clientWidth",_=l.reference[b]+l.reference[v]-p[v]-l.floating[b],S=p[v]-l.reference[v],O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let E=O?O[j]:0;(!E||!await(i.isElement==null?void 0:i.isElement(O)))&&(E=o.floating[j]||l.floating[b]);const T=_/2-S/2,C=E/2-x[b]/2-1,R=bn(u[f],C),H=bn(u[g],C),I=R,ee=E-x[b]-H,P=E/2-x[b]/2+T,Q=Wm(I,P,ee),B=!c.arrow&&El(a)!=null&&P!==Q&&l.reference[b]/2-(P<I?R:H)-x[b]/2<0,F=B?P<I?P-I:P-ee:0;return{[v]:p[v]+F,data:{[v]:Q,centerOffset:P-Q-F,...B&&{alignmentOffset:F}},reset:B}}}),pE=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:l,rects:i,initialPlacement:o,platform:c,elements:d}=s,{mainAxis:m=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...y}=Cr(t,s);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const f=Sr(a),g=Ks(o),j=Sr(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=p||(j||!x?[Ac(o)]:lE(o)),O=b!=="none";!p&&O&&S.push(...dE(o,x,b,_));const E=[o,...S],T=await Ri(s,y),C=[];let R=((n=l.flip)==null?void 0:n.overflows)||[];if(m&&C.push(T[f]),u){const P=aE(a,i,_);C.push(T[P[0]],T[P[1]])}if(R=[...R,{placement:a,overflows:C}],!C.every(P=>P<=0)){var H,I;const P=(((H=l.flip)==null?void 0:H.index)||0)+1,Q=E[P];if(Q&&(!(u==="alignment"?g!==Ks(Q):!1)||R.every(w=>Ks(w.placement)===g?w.overflows[0]>0:!0)))return{data:{index:P,overflows:R},reset:{placement:Q}};let B=(I=R.filter(F=>F.overflows[0]<=0).sort((F,w)=>F.overflows[1]-w.overflows[1])[0])==null?void 0:I.placement;if(!B)switch(v){case"bestFit":{var ee;const F=(ee=R.filter(w=>{if(O){const M=Ks(w.placement);return M===g||M==="y"}return!0}).map(w=>[w.placement,w.overflows.filter(M=>M>0).reduce((M,W)=>M+W,0)]).sort((w,M)=>w[1]-M[1])[0])==null?void 0:ee[0];F&&(B=F);break}case"initialPlacement":B=o;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function p0(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function x0(t){return tE.some(s=>t[s]>=0)}const xE=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=Cr(t,s);switch(n){case"referenceHidden":{const l=await Ri(s,{...a,elementContext:"reference"}),i=p0(l,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:x0(i)}}}case"escaped":{const l=await Ri(s,{...a,altBoundary:!0}),i=p0(l,r.floating);return{data:{escapedOffsets:i,escaped:x0(i)}}}default:return{}}}}},aj=new Set(["left","top"]);async function fE(t,s){const{placement:r,platform:n,elements:a}=t,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Sr(r),o=El(r),c=Ks(r)==="y",d=aj.has(i)?-1:1,m=l&&c?-1:1,u=Cr(s,t);let{mainAxis:p,crossAxis:v,alignmentAxis:b}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&typeof b=="number"&&(v=o==="end"?b*-1:b),c?{x:v*m,y:p*d}:{x:p*d,y:v*m}}const gE=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:l,placement:i,middlewareData:o}=s,c=await fE(s,t);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:l+c.y,data:{...c,placement:i}}}}},yE=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:l=!0,crossAxis:i=!1,limiter:o={fn:y=>{let{x:f,y:g}=y;return{x:f,y:g}}},...c}=Cr(t,s),d={x:r,y:n},m=await Ri(s,c),u=Ks(Sr(a)),p=Np(u);let v=d[p],b=d[u];if(l){const y=p==="y"?"top":"left",f=p==="y"?"bottom":"right",g=v+m[y],j=v-m[f];v=Wm(g,v,j)}if(i){const y=u==="y"?"top":"left",f=u==="y"?"bottom":"right",g=b+m[y],j=b-m[f];b=Wm(g,b,j)}const x=o.fn({...s,[p]:v,[u]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[p]:l,[u]:i}}}}}},bE=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:l,middlewareData:i}=s,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=Cr(t,s),m={x:r,y:n},u=Ks(a),p=Np(u);let v=m[p],b=m[u];const x=Cr(o,s),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const j=p==="y"?"height":"width",_=l.reference[p]-l.floating[j]+y.mainAxis,S=l.reference[p]+l.reference[j]-y.mainAxis;v<_?v=_:v>S&&(v=S)}if(d){var f,g;const j=p==="y"?"width":"height",_=aj.has(Sr(a)),S=l.reference[u]-l.floating[j]+(_&&((f=i.offset)==null?void 0:f[u])||0)+(_?0:y.crossAxis),O=l.reference[u]+l.reference[j]+(_?0:((g=i.offset)==null?void 0:g[u])||0)-(_?y.crossAxis:0);b<S?b=S:b>O&&(b=O)}return{[p]:v,[u]:b}}}},vE=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:l,platform:i,elements:o}=s,{apply:c=()=>{},...d}=Cr(t,s),m=await Ri(s,d),u=Sr(a),p=El(a),v=Ks(a)==="y",{width:b,height:x}=l.floating;let y,f;u==="top"||u==="bottom"?(y=u,f=p===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(f=u,y=p==="end"?"top":"bottom");const g=x-m.top-m.bottom,j=b-m.left-m.right,_=bn(x-m[y],g),S=bn(b-m[f],j),O=!s.middlewareData.shift;let E=_,T=S;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(T=j),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(E=g),O&&!p){const R=Xt(m.left,0),H=Xt(m.right,0),I=Xt(m.top,0),ee=Xt(m.bottom,0);v?T=b-2*(R!==0||H!==0?R+H:Xt(m.left,m.right)):E=x-2*(I!==0||ee!==0?I+ee:Xt(m.top,m.bottom))}await c({...s,availableWidth:T,availableHeight:E});const C=await i.getDimensions(o.floating);return b!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function ud(){return typeof window<"u"}function Pl(t){return lj(t)?(t.nodeName||"").toLowerCase():"#document"}function rs(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function er(t){var s;return(s=(lj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function lj(t){return ud()?t instanceof Node||t instanceof rs(t).Node:!1}function Os(t){return ud()?t instanceof Element||t instanceof rs(t).Element:!1}function Zs(t){return ud()?t instanceof HTMLElement||t instanceof rs(t).HTMLElement:!1}function f0(t){return!ud()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rs(t).ShadowRoot}const jE=new Set(["inline","contents"]);function Ki(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=Ls(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!jE.has(a)}const _E=new Set(["table","td","th"]);function NE(t){return _E.has(Pl(t))}const wE=[":popover-open",":modal"];function md(t){return wE.some(s=>{try{return t.matches(s)}catch{return!1}})}const kE=["transform","translate","scale","rotate","perspective"],CE=["transform","translate","scale","rotate","perspective","filter"],SE=["paint","layout","strict","content"];function Cp(t){const s=Sp(),r=Os(t)?Ls(t):t;return kE.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||CE.some(n=>(r.willChange||"").includes(n))||SE.some(n=>(r.contain||"").includes(n))}function EE(t){let s=vn(t);for(;Zs(s)&&!hl(s);){if(Cp(s))return s;if(md(s))return null;s=vn(s)}return null}function Sp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PE=new Set(["html","body","#document"]);function hl(t){return PE.has(Pl(t))}function Ls(t){return rs(t).getComputedStyle(t)}function hd(t){return Os(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vn(t){if(Pl(t)==="html")return t;const s=t.assignedSlot||t.parentNode||f0(t)&&t.host||er(t);return f0(s)?s.host:s}function ij(t){const s=vn(t);return hl(s)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(s)&&Ki(s)?s:ij(s)}function Ai(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=ij(t),l=a===((n=t.ownerDocument)==null?void 0:n.body),i=rs(a);if(l){const o=Qm(i);return s.concat(i,i.visualViewport||[],Ki(a)?a:[],o&&r?Ai(o):[])}return s.concat(a,Ai(a,[],r))}function Qm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function oj(t){const s=Ls(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Zs(t),l=a?t.offsetWidth:r,i=a?t.offsetHeight:n,o=Rc(r)!==l||Rc(n)!==i;return o&&(r=l,n=i),{width:r,height:n,$:o}}function Ep(t){return Os(t)?t:t.contextElement}function za(t){const s=Ep(t);if(!Zs(s))return Js(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:l}=oj(s);let i=(l?Rc(r.width):r.width)/n,o=(l?Rc(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const RE=Js(0);function cj(t){const s=rs(t);return!Sp()||!s.visualViewport?RE:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function AE(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==rs(t)?!1:s}function ia(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),l=Ep(t);let i=Js(1);s&&(n?Os(n)&&(i=za(n)):i=za(t));const o=AE(l,r,n)?cj(l):Js(0);let c=(a.left+o.x)/i.x,d=(a.top+o.y)/i.y,m=a.width/i.x,u=a.height/i.y;if(l){const p=rs(l),v=n&&Os(n)?rs(n):n;let b=p,x=Qm(b);for(;x&&n&&v!==b;){const y=za(x),f=x.getBoundingClientRect(),g=Ls(x),j=f.left+(x.clientLeft+parseFloat(g.paddingLeft))*y.x,_=f.top+(x.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,d*=y.y,m*=y.x,u*=y.y,c+=j,d+=_,b=rs(x),x=Qm(b)}}return Tc({width:m,height:u,x:c,y:d})}function pd(t,s){const r=hd(t).scrollLeft;return s?s.left+r:ia(er(t)).left+r}function dj(t,s){const r=t.getBoundingClientRect(),n=r.left+s.scrollLeft-pd(t,r),a=r.top+s.scrollTop;return{x:n,y:a}}function TE(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const l=a==="fixed",i=er(n),o=s?md(s.floating):!1;if(n===i||o&&l)return r;let c={scrollLeft:0,scrollTop:0},d=Js(1);const m=Js(0),u=Zs(n);if((u||!u&&!l)&&((Pl(n)!=="body"||Ki(i))&&(c=hd(n)),Zs(n))){const v=ia(n);d=za(n),m.x=v.x+n.clientLeft,m.y=v.y+n.clientTop}const p=i&&!u&&!l?dj(i,c):Js(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+m.x+p.x,y:r.y*d.y-c.scrollTop*d.y+m.y+p.y}}function FE(t){return Array.from(t.getClientRects())}function OE(t){const s=er(t),r=hd(t),n=t.ownerDocument.body,a=Xt(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),l=Xt(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+pd(t);const o=-r.scrollTop;return Ls(n).direction==="rtl"&&(i+=Xt(s.clientWidth,n.clientWidth)-a),{width:a,height:l,x:i,y:o}}const g0=25;function LE(t,s){const r=rs(t),n=er(t),a=r.visualViewport;let l=n.clientWidth,i=n.clientHeight,o=0,c=0;if(a){l=a.width,i=a.height;const m=Sp();(!m||m&&s==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}const d=pd(n);if(d<=0){const m=n.ownerDocument,u=m.body,p=getComputedStyle(u),v=m.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(n.clientWidth-u.clientWidth-v);b<=g0&&(l-=b)}else d<=g0&&(l+=d);return{width:l,height:i,x:o,y:c}}const ME=new Set(["absolute","fixed"]);function DE(t,s){const r=ia(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,l=Zs(t)?za(t):Js(1),i=t.clientWidth*l.x,o=t.clientHeight*l.y,c=a*l.x,d=n*l.y;return{width:i,height:o,x:c,y:d}}function y0(t,s,r){let n;if(s==="viewport")n=LE(t,r);else if(s==="document")n=OE(er(t));else if(Os(s))n=DE(s,r);else{const a=cj(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Tc(n)}function uj(t,s){const r=vn(t);return r===s||!Os(r)||hl(r)?!1:Ls(r).position==="fixed"||uj(r,s)}function IE(t,s){const r=s.get(t);if(r)return r;let n=Ai(t,[],!1).filter(o=>Os(o)&&Pl(o)!=="body"),a=null;const l=Ls(t).position==="fixed";let i=l?vn(t):t;for(;Os(i)&&!hl(i);){const o=Ls(i),c=Cp(i);!c&&o.position==="fixed"&&(a=null),(l?!c&&!a:!c&&o.position==="static"&&!!a&&ME.has(a.position)||Ki(i)&&!c&&uj(t,i))?n=n.filter(m=>m!==i):a=o,i=vn(i)}return s.set(t,n),n}function $E(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const i=[...r==="clippingAncestors"?md(s)?[]:IE(s,this._c):[].concat(r),n],o=i[0],c=i.reduce((d,m)=>{const u=y0(s,m,a);return d.top=Xt(u.top,d.top),d.right=bn(u.right,d.right),d.bottom=bn(u.bottom,d.bottom),d.left=Xt(u.left,d.left),d},y0(s,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qE(t){const{width:s,height:r}=oj(t);return{width:s,height:r}}function zE(t,s,r){const n=Zs(s),a=er(s),l=r==="fixed",i=ia(t,!0,l,s);let o={scrollLeft:0,scrollTop:0};const c=Js(0);function d(){c.x=pd(a)}if(n||!n&&!l)if((Pl(s)!=="body"||Ki(a))&&(o=hd(s)),n){const v=ia(s,!0,l,s);c.x=v.x+s.clientLeft,c.y=v.y+s.clientTop}else a&&d();l&&!n&&a&&d();const m=a&&!n&&!l?dj(a,o):Js(0),u=i.left+o.scrollLeft-c.x-m.x,p=i.top+o.scrollTop-c.y-m.y;return{x:u,y:p,width:i.width,height:i.height}}function hu(t){return Ls(t).position==="static"}function b0(t,s){if(!Zs(t)||Ls(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return er(t)===r&&(r=r.ownerDocument.body),r}function mj(t,s){const r=rs(t);if(md(t))return r;if(!Zs(t)){let a=vn(t);for(;a&&!hl(a);){if(Os(a)&&!hu(a))return a;a=vn(a)}return r}let n=b0(t,s);for(;n&&NE(n)&&hu(n);)n=b0(n,s);return n&&hl(n)&&hu(n)&&!Cp(n)?r:n||EE(t)||r}const BE=async function(t){const s=this.getOffsetParent||mj,r=this.getDimensions,n=await r(t.floating);return{reference:zE(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UE(t){return Ls(t).direction==="rtl"}const VE={convertOffsetParentRelativeRectToViewportRelativeRect:TE,getDocumentElement:er,getClippingRect:$E,getOffsetParent:mj,getElementRects:BE,getClientRects:FE,getDimensions:qE,getScale:za,isElement:Os,isRTL:UE};function hj(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function HE(t,s){let r=null,n;const a=er(t);function l(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),l();const d=t.getBoundingClientRect(),{left:m,top:u,width:p,height:v}=d;if(o||s(),!p||!v)return;const b=No(u),x=No(a.clientWidth-(m+p)),y=No(a.clientHeight-(u+v)),f=No(m),j={rootMargin:-b+"px "+-x+"px "+-y+"px "+-f+"px",threshold:Xt(0,bn(1,c))||1};let _=!0;function S(O){const E=O[0].intersectionRatio;if(E!==c){if(!_)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!hj(d,t.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(t)}return i(!0),l}function WE(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Ep(t),m=a||l?[...d?Ai(d):[],...Ai(s)]:[];m.forEach(f=>{a&&f.addEventListener("scroll",r,{passive:!0}),l&&f.addEventListener("resize",r)});const u=d&&o?HE(d,r):null;let p=-1,v=null;i&&(v=new ResizeObserver(f=>{let[g]=f;g&&g.target===d&&v&&(v.unobserve(s),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=v)==null||j.observe(s)})),r()}),d&&!c&&v.observe(d),v.observe(s));let b,x=c?ia(t):null;c&&y();function y(){const f=ia(t);x&&!hj(x,f)&&r(),x=f,b=requestAnimationFrame(y)}return r(),()=>{var f;m.forEach(g=>{a&&g.removeEventListener("scroll",r),l&&g.removeEventListener("resize",r)}),u==null||u(),(f=v)==null||f.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const KE=gE,QE=yE,GE=pE,YE=vE,JE=xE,v0=hE,XE=bE,ZE=(t,s,r)=>{const n=new Map,a={platform:VE,...r},l={...a.platform,_c:n};return mE(t,s,{...a,platform:l})};var eP=typeof document<"u",tP=function(){},Qo=eP?h.useLayoutEffect:tP;function Fc(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!Fc(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&t.$$typeof)&&!Fc(t[l],s[l]))return!1}return!0}return t!==t&&s!==s}function pj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j0(t,s){const r=pj(t);return Math.round(s*r)/r}function pu(t){const s=h.useRef(t);return Qo(()=>{s.current=t}),s}function sP(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:i}={},transform:o=!0,whileElementsMounted:c,open:d}=t,[m,u]=h.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[p,v]=h.useState(n);Fc(p,n)||v(n);const[b,x]=h.useState(null),[y,f]=h.useState(null),g=h.useCallback(w=>{w!==O.current&&(O.current=w,x(w))},[]),j=h.useCallback(w=>{w!==E.current&&(E.current=w,f(w))},[]),_=l||b,S=i||y,O=h.useRef(null),E=h.useRef(null),T=h.useRef(m),C=c!=null,R=pu(c),H=pu(a),I=pu(d),ee=h.useCallback(()=>{if(!O.current||!E.current)return;const w={placement:s,strategy:r,middleware:p};H.current&&(w.platform=H.current),ZE(O.current,E.current,w).then(M=>{const W={...M,isPositioned:I.current!==!1};P.current&&!Fc(T.current,W)&&(T.current=W,gl.flushSync(()=>{u(W)}))})},[p,s,r,H,I]);Qo(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(w=>({...w,isPositioned:!1})))},[d]);const P=h.useRef(!1);Qo(()=>(P.current=!0,()=>{P.current=!1}),[]),Qo(()=>{if(_&&(O.current=_),S&&(E.current=S),_&&S){if(R.current)return R.current(_,S,ee);ee()}},[_,S,ee,R,C]);const Q=h.useMemo(()=>({reference:O,floating:E,setReference:g,setFloating:j}),[g,j]),B=h.useMemo(()=>({reference:_,floating:S}),[_,S]),F=h.useMemo(()=>{const w={position:r,left:0,top:0};if(!B.floating)return w;const M=j0(B.floating,m.x),W=j0(B.floating,m.y);return o?{...w,transform:"translate("+M+"px, "+W+"px)",...pj(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:W}},[r,o,B.floating,m.x,m.y]);return h.useMemo(()=>({...m,update:ee,refs:Q,elements:B,floatingStyles:F}),[m,ee,Q,B,F])}const rP=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?v0({element:n.current,padding:a}).fn(r):{}:n?v0({element:n,padding:a}).fn(r):{}}}},nP=(t,s)=>({...KE(t),options:[t,s]}),aP=(t,s)=>({...QE(t),options:[t,s]}),lP=(t,s)=>({...XE(t),options:[t,s]}),iP=(t,s)=>({...GE(t),options:[t,s]}),oP=(t,s)=>({...YE(t),options:[t,s]}),cP=(t,s)=>({...JE(t),options:[t,s]}),dP=(t,s)=>({...rP(t),options:[t,s]});var uP="Arrow",xj=h.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...l}=t;return e.jsx(qe.svg,{...l,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});xj.displayName=uP;var mP=xj;function hP(t){const[s,r]=h.useState(void 0);return Et(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let i,o;if("borderBoxSize"in l){const c=l.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,o=d.blockSize}else i=t.offsetWidth,o=t.offsetHeight;r({width:i,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var Pp="Popper",[fj,gj]=id(Pp),[pP,yj]=fj(Pp),bj=t=>{const{__scopePopper:s,children:r}=t,[n,a]=h.useState(null);return e.jsx(pP,{scope:s,anchor:n,onAnchorChange:a,children:r})};bj.displayName=Pp;var vj="PopperAnchor",jj=h.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,l=yj(vj,r),i=h.useRef(null),o=rt(s,i),c=h.useRef(null);return h.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||i.current,d!==c.current&&l.onAnchorChange(c.current)}),n?null:e.jsx(qe.div,{...a,ref:o})});jj.displayName=vj;var Rp="PopperContent",[xP,fP]=fj(Rp),_j=h.forwardRef((t,s)=>{var J,ne,K,oe,D,le;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:l="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:u="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:b,...x}=t,y=yj(Rp,r),[f,g]=h.useState(null),j=rt(s,ue=>g(ue)),[_,S]=h.useState(null),O=hP(_),E=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,C=n+(l!=="center"?"-"+l:""),R=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(d)?d:[d],I=H.length>0,ee={padding:R,boundary:H.filter(yP),altBoundary:I},{refs:P,floatingStyles:Q,placement:B,isPositioned:F,middlewareData:w}=sP({strategy:"fixed",placement:C,whileElementsMounted:(...ue)=>WE(...ue,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[nP({mainAxis:a+T,alignmentAxis:i}),c&&aP({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?lP():void 0,...ee}),c&&iP({...ee}),oP({...ee,apply:({elements:ue,rects:q,availableWidth:A,availableHeight:se})=>{const{width:k,height:me}=q.reference,ge=ue.floating.style;ge.setProperty("--radix-popper-available-width",`${A}px`),ge.setProperty("--radix-popper-available-height",`${se}px`),ge.setProperty("--radix-popper-anchor-width",`${k}px`),ge.setProperty("--radix-popper-anchor-height",`${me}px`)}}),_&&dP({element:_,padding:o}),bP({arrowWidth:E,arrowHeight:T}),p&&cP({strategy:"referenceHidden",...ee})]}),[M,W]=kj(B),G=aa(b);Et(()=>{F&&(G==null||G())},[F,G]);const U=(J=w.arrow)==null?void 0:J.x,ae=(ne=w.arrow)==null?void 0:ne.y,Y=((K=w.arrow)==null?void 0:K.centerOffset)!==0,[N,V]=h.useState();return Et(()=>{f&&V(window.getComputedStyle(f).zIndex)},[f]),e.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:F?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:N,"--radix-popper-transform-origin":[(oe=w.transformOrigin)==null?void 0:oe.x,(D=w.transformOrigin)==null?void 0:D.y].join(" "),...((le=w.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(xP,{scope:r,placedSide:M,onArrowChange:S,arrowX:U,arrowY:ae,shouldHideArrow:Y,children:e.jsx(qe.div,{"data-side":M,"data-align":W,...x,ref:j,style:{...x.style,animation:F?void 0:"none"}})})})});_j.displayName=Rp;var Nj="PopperArrow",gP={top:"bottom",right:"left",bottom:"top",left:"right"},wj=h.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,l=fP(Nj,n),i=gP[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(mP,{...a,ref:r,style:{...a.style,display:"block"}})})});wj.displayName=Nj;function yP(t){return t!==null}var bP=t=>({name:"transformOrigin",options:t,fn(s){var y,f,g;const{placement:r,rects:n,middlewareData:a}=s,i=((y=a.arrow)==null?void 0:y.centerOffset)!==0,o=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,m]=kj(r),u={start:"0%",center:"50%",end:"100%"}[m],p=(((f=a.arrow)==null?void 0:f.x)??0)+o/2,v=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=i?u:`${p}px`,x=`${-c}px`):d==="top"?(b=i?u:`${p}px`,x=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=i?u:`${v}px`):d==="left"&&(b=`${n.floating.width+c}px`,x=i?u:`${v}px`),{data:{x:b,y:x}}}});function kj(t){const[s,r="center"]=t.split("-");return[s,r]}var vP=bj,jP=jj,_P=_j,NP=wj;function wP(t){const s=kP(t),r=h.forwardRef((n,a)=>{const{children:l,...i}=n,o=h.Children.toArray(l),c=o.find(SP);if(c){const d=c.props.children,m=o.map(u=>u===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:u);return e.jsx(s,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,m):null})}return e.jsx(s,{...i,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}function kP(t){const s=h.forwardRef((r,n)=>{const{children:a,...l}=r;if(h.isValidElement(a)){const i=PP(a),o=EP(l,a.props);return a.type!==h.Fragment&&(o.ref=n?Cl(n,i):i),h.cloneElement(a,o)}return h.Children.count(a)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var CP=Symbol("radix.slottable");function SP(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CP}function EP(t,s){const r={...s};for(const n in s){const a=t[n],l=s[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...o)=>{const c=l(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function PP(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function RP(t){const s=h.useRef({value:t,previous:t});return h.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Cj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AP="VisuallyHidden",TP=h.forwardRef((t,s)=>e.jsx(qe.span,{...t,ref:s,style:{...Cj,...t.style}}));TP.displayName=AP;var FP=[" ","Enter","ArrowUp","ArrowDown"],OP=[" ","Enter"],oa="Select",[xd,fd,LP]=XS(oa),[Rl]=id(oa,[LP,gj]),gd=gj(),[MP,Cn]=Rl(oa),[DP,IP]=Rl(oa),Sj=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:l,value:i,defaultValue:o,onValueChange:c,dir:d,name:m,autoComplete:u,disabled:p,required:v,form:b}=t,x=gd(s),[y,f]=h.useState(null),[g,j]=h.useState(null),[_,S]=h.useState(!1),O=eE(d),[E,T]=Um({prop:n,defaultProp:a??!1,onChange:l,caller:oa}),[C,R]=Um({prop:i,defaultProp:o,onChange:c,caller:oa}),H=h.useRef(null),I=y?b||!!y.closest("form"):!0,[ee,P]=h.useState(new Set),Q=Array.from(ee).map(B=>B.props.value).join(";");return e.jsx(vP,{...x,children:e.jsxs(MP,{required:v,scope:s,trigger:y,onTriggerChange:f,valueNode:g,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:$a(),value:C,onValueChange:R,open:E,onOpenChange:T,dir:O,triggerPointerDownPosRef:H,disabled:p,children:[e.jsx(xd.Provider,{scope:s,children:e.jsx(DP,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{P(F=>new Set(F).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{P(F=>{const w=new Set(F);return w.delete(B),w})},[]),children:r})}),I?e.jsxs(Jj,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:u,value:C,onChange:B=>R(B.target.value),disabled:p,form:b,children:[C===void 0?e.jsx("option",{value:""}):null,Array.from(ee)]},Q):null]})})};Sj.displayName=oa;var Ej="SelectTrigger",Pj=h.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,l=gd(r),i=Cn(Ej,r),o=i.disabled||n,c=rt(s,i.onTriggerChange),d=fd(r),m=h.useRef("touch"),[u,p,v]=Zj(x=>{const y=d().filter(j=>!j.disabled),f=y.find(j=>j.value===i.value),g=e_(y,x,f);g!==void 0&&i.onValueChange(g.value)}),b=x=>{o||(i.onOpenChange(!0),v()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(jP,{asChild:!0,...l,children:e.jsx(qe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Xj(i.value)?"":void 0,...a,ref:c,onClick:Ue(a.onClick,x=>{x.currentTarget.focus(),m.current!=="mouse"&&b(x)}),onPointerDown:Ue(a.onPointerDown,x=>{m.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Ue(a.onKeyDown,x=>{const y=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(y&&x.key===" ")&&FP.includes(x.key)&&(b(),x.preventDefault())})})})});Pj.displayName=Ej;var Rj="SelectValue",Aj=h.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:l,placeholder:i="",...o}=t,c=Cn(Rj,r),{onValueNodeHasChildrenChange:d}=c,m=l!==void 0,u=rt(s,c.onValueNodeChange);return Et(()=>{d(m)},[d,m]),e.jsx(qe.span,{...o,ref:u,style:{pointerEvents:"none"},children:Xj(c.value)?e.jsx(e.Fragment,{children:i}):l})});Aj.displayName=Rj;var $P="SelectIcon",Tj=h.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(qe.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});Tj.displayName=$P;var qP="SelectPortal",Fj=t=>e.jsx(yp,{asChild:!0,...t});Fj.displayName=qP;var ca="SelectContent",Oj=h.forwardRef((t,s)=>{const r=Cn(ca,t.__scopeSelect),[n,a]=h.useState();if(Et(()=>{a(new DocumentFragment)},[]),!r.open){const l=n;return l?gl.createPortal(e.jsx(Lj,{scope:t.__scopeSelect,children:e.jsx(xd.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(Mj,{...t,ref:s})});Oj.displayName=ca;var js=10,[Lj,Sn]=Rl(ca),zP="SelectContentImpl",BP=wP("SelectContent.RemoveScroll"),Mj=h.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:i,side:o,sideOffset:c,align:d,alignOffset:m,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:y,...f}=t,g=Cn(ca,r),[j,_]=h.useState(null),[S,O]=h.useState(null),E=rt(s,J=>_(J)),[T,C]=h.useState(null),[R,H]=h.useState(null),I=fd(r),[ee,P]=h.useState(!1),Q=h.useRef(!1);h.useEffect(()=>{if(j)return Rv(j)},[j]),jv();const B=h.useCallback(J=>{const[ne,...K]=I().map(le=>le.ref.current),[oe]=K.slice(-1),D=document.activeElement;for(const le of J)if(le===D||(le==null||le.scrollIntoView({block:"nearest"}),le===ne&&S&&(S.scrollTop=0),le===oe&&S&&(S.scrollTop=S.scrollHeight),le==null||le.focus(),document.activeElement!==D))return},[I,S]),F=h.useCallback(()=>B([T,j]),[B,T,j]);h.useEffect(()=>{ee&&F()},[ee,F]);const{onOpenChange:w,triggerPointerDownPosRef:M}=g;h.useEffect(()=>{if(j){let J={x:0,y:0};const ne=oe=>{var D,le;J={x:Math.abs(Math.round(oe.pageX)-(((D=M.current)==null?void 0:D.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((le=M.current)==null?void 0:le.y)??0))}},K=oe=>{J.x<=10&&J.y<=10?oe.preventDefault():j.contains(oe.target)||w(!1),document.removeEventListener("pointermove",ne),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",K,{capture:!0})}}},[j,w,M]),h.useEffect(()=>{const J=()=>w(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[w]);const[W,G]=Zj(J=>{const ne=I().filter(D=>!D.disabled),K=ne.find(D=>D.ref.current===document.activeElement),oe=e_(ne,J,K);oe&&setTimeout(()=>oe.ref.current.focus())}),U=h.useCallback((J,ne,K)=>{const oe=!Q.current&&!K;(g.value!==void 0&&g.value===ne||oe)&&(C(J),oe&&(Q.current=!0))},[g.value]),ae=h.useCallback(()=>j==null?void 0:j.focus(),[j]),Y=h.useCallback((J,ne,K)=>{const oe=!Q.current&&!K;(g.value!==void 0&&g.value===ne||oe)&&H(J)},[g.value]),N=n==="popper"?Gm:Dj,V=N===Gm?{side:o,sideOffset:c,align:d,alignOffset:m,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:y}:{};return e.jsx(Lj,{scope:r,content:j,viewport:S,onViewportChange:O,itemRefCallback:U,selectedItem:T,onItemLeave:ae,itemTextRefCallback:Y,focusSelectedItem:F,selectedItemText:R,position:n,isPositioned:ee,searchRef:W,children:e.jsx(bp,{as:BP,allowPinchZoom:!0,children:e.jsx(gp,{asChild:!0,trapped:g.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ue(a,J=>{var ne;(ne=g.trigger)==null||ne.focus({preventScroll:!0}),J.preventDefault()}),children:e.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:e.jsx(N,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:J=>J.preventDefault(),...f,...V,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:Ue(f.onKeyDown,J=>{const ne=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ne&&J.key.length===1&&G(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let oe=I().filter(D=>!D.disabled).map(D=>D.ref.current);if(["ArrowUp","End"].includes(J.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const D=J.target,le=oe.indexOf(D);oe=oe.slice(le+1)}setTimeout(()=>B(oe)),J.preventDefault()}})})})})})})});Mj.displayName=zP;var UP="SelectItemAlignedPosition",Dj=h.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,l=Cn(ca,r),i=Sn(ca,r),[o,c]=h.useState(null),[d,m]=h.useState(null),u=rt(s,E=>m(E)),p=fd(r),v=h.useRef(!1),b=h.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:f,focusSelectedItem:g}=i,j=h.useCallback(()=>{if(l.trigger&&l.valueNode&&o&&d&&x&&y&&f){const E=l.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),C=l.valueNode.getBoundingClientRect(),R=f.getBoundingClientRect();if(l.dir!=="rtl"){const D=R.left-T.left,le=C.left-D,ue=E.left-le,q=E.width+ue,A=Math.max(q,T.width),se=window.innerWidth-js,k=c0(le,[js,Math.max(js,se-A)]);o.style.minWidth=q+"px",o.style.left=k+"px"}else{const D=T.right-R.right,le=window.innerWidth-C.right-D,ue=window.innerWidth-E.right-le,q=E.width+ue,A=Math.max(q,T.width),se=window.innerWidth-js,k=c0(le,[js,Math.max(js,se-A)]);o.style.minWidth=q+"px",o.style.right=k+"px"}const H=p(),I=window.innerHeight-js*2,ee=x.scrollHeight,P=window.getComputedStyle(d),Q=parseInt(P.borderTopWidth,10),B=parseInt(P.paddingTop,10),F=parseInt(P.borderBottomWidth,10),w=parseInt(P.paddingBottom,10),M=Q+B+ee+w+F,W=Math.min(y.offsetHeight*5,M),G=window.getComputedStyle(x),U=parseInt(G.paddingTop,10),ae=parseInt(G.paddingBottom,10),Y=E.top+E.height/2-js,N=I-Y,V=y.offsetHeight/2,J=y.offsetTop+V,ne=Q+B+J,K=M-ne;if(ne<=Y){const D=H.length>0&&y===H[H.length-1].ref.current;o.style.bottom="0px";const le=d.clientHeight-x.offsetTop-x.offsetHeight,ue=Math.max(N,V+(D?ae:0)+le+F),q=ne+ue;o.style.height=q+"px"}else{const D=H.length>0&&y===H[0].ref.current;o.style.top="0px";const ue=Math.max(Y,Q+x.offsetTop+(D?U:0)+V)+K;o.style.height=ue+"px",x.scrollTop=ne-Y+x.offsetTop}o.style.margin=`${js}px 0`,o.style.minHeight=W+"px",o.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,l.trigger,l.valueNode,o,d,x,y,f,l.dir,n]);Et(()=>j(),[j]);const[_,S]=h.useState();Et(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const O=h.useCallback(E=>{E&&b.current===!0&&(j(),g==null||g(),b.current=!1)},[j,g]);return e.jsx(HP,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx(qe.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Dj.displayName=UP;var VP="SelectPopperPosition",Gm=h.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=js,...l}=t,i=gd(r);return e.jsx(_P,{...i,...l,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gm.displayName=VP;var[HP,Ap]=Rl(ca,{}),Ym="SelectViewport",Ij=h.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,l=Sn(Ym,r),i=Ap(Ym,r),o=rt(s,l.onViewportChange),c=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(xd.Slot,{scope:r,children:e.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ue(a.onScroll,d=>{const m=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&u){const v=Math.abs(c.current-m.scrollTop);if(v>0){const b=window.innerHeight-js*2,x=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),f=Math.max(x,y);if(f<b){const g=f+v,j=Math.min(b,g),_=g-j;u.style.height=j+"px",u.style.bottom==="0px"&&(m.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});Ij.displayName=Ym;var $j="SelectGroup",[WP,KP]=Rl($j),QP=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=$a();return e.jsx(WP,{scope:r,id:a,children:e.jsx(qe.div,{role:"group","aria-labelledby":a,...n,ref:s})})});QP.displayName=$j;var qj="SelectLabel",zj=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=KP(qj,r);return e.jsx(qe.div,{id:a.id,...n,ref:s})});zj.displayName=qj;var Oc="SelectItem",[GP,Bj]=Rl(Oc),Uj=h.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:l,...i}=t,o=Cn(Oc,r),c=Sn(Oc,r),d=o.value===n,[m,u]=h.useState(l??""),[p,v]=h.useState(!1),b=rt(s,g=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,g,n,a)}),x=$a(),y=h.useRef("touch"),f=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(GP,{scope:r,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:h.useCallback(g=>{u(j=>j||((g==null?void 0:g.textContent)??"").trim())},[]),children:e.jsx(xd.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:e.jsx(qe.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:b,onFocus:Ue(i.onFocus,()=>v(!0)),onBlur:Ue(i.onBlur,()=>v(!1)),onClick:Ue(i.onClick,()=>{y.current!=="mouse"&&f()}),onPointerUp:Ue(i.onPointerUp,()=>{y.current==="mouse"&&f()}),onPointerDown:Ue(i.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:Ue(i.onPointerMove,g=>{var j;y.current=g.pointerType,a?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(i.onPointerLeave,g=>{var j;g.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ue(i.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(OP.includes(g.key)&&f(),g.key===" "&&g.preventDefault())})})})})});Uj.displayName=Oc;var Zl="SelectItemText",Vj=h.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...l}=t,i=Cn(Zl,r),o=Sn(Zl,r),c=Bj(Zl,r),d=IP(Zl,r),[m,u]=h.useState(null),p=rt(s,f=>u(f),c.onItemTextChange,f=>{var g;return(g=o.itemTextRefCallback)==null?void 0:g.call(o,f,c.value,c.disabled)}),v=m==null?void 0:m.textContent,b=h.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return Et(()=>(x(b),()=>y(b)),[x,y,b]),e.jsxs(e.Fragment,{children:[e.jsx(qe.span,{id:c.textId,...l,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gl.createPortal(l.children,i.valueNode):null]})});Vj.displayName=Zl;var Hj="SelectItemIndicator",Wj=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return Bj(Hj,r).isSelected?e.jsx(qe.span,{"aria-hidden":!0,...n,ref:s}):null});Wj.displayName=Hj;var Jm="SelectScrollUpButton",Kj=h.forwardRef((t,s)=>{const r=Sn(Jm,t.__scopeSelect),n=Ap(Jm,t.__scopeSelect),[a,l]=h.useState(!1),i=rt(s,n.onScrollButtonChange);return Et(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollTop>0;l(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(Gj,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Kj.displayName=Jm;var Xm="SelectScrollDownButton",Qj=h.forwardRef((t,s)=>{const r=Sn(Xm,t.__scopeSelect),n=Ap(Xm,t.__scopeSelect),[a,l]=h.useState(!1),i=rt(s,n.onScrollButtonChange);return Et(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<d;l(m)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(Gj,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Qj.displayName=Xm;var Gj=h.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,l=Sn("SelectScrollButton",r),i=h.useRef(null),o=fd(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Et(()=>{var m;const d=o().find(u=>u.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[o]),e.jsx(qe.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:Ue(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ue(a.onPointerMove,()=>{var d;(d=l.onItemLeave)==null||d.call(l),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ue(a.onPointerLeave,()=>{c()})})}),YP="SelectSeparator",Yj=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(qe.div,{"aria-hidden":!0,...n,ref:s})});Yj.displayName=YP;var Zm="SelectArrow",JP=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=gd(r),l=Cn(Zm,r),i=Sn(Zm,r);return l.open&&i.position==="popper"?e.jsx(NP,{...a,...n,ref:s}):null});JP.displayName=Zm;var XP="SelectBubbleInput",Jj=h.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const a=h.useRef(null),l=rt(n,a),i=RP(s);return h.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==s&&m){const u=new Event("change",{bubbles:!0});m.call(o,s),o.dispatchEvent(u)}},[i,s]),e.jsx(qe.select,{...r,style:{...Cj,...r.style},ref:l,defaultValue:s})});Jj.displayName=XP;function Xj(t){return t===""||t===void 0}function Zj(t){const s=aa(t),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(i=>{const o=r.current+i;s(o),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[s]),l=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,l]}function e_(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,l=r?t.indexOf(r):-1;let i=ZP(t,Math.max(l,0));a.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ZP(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var eR=Sj,t_=Pj,tR=Aj,sR=Tj,rR=Fj,s_=Oj,nR=Ij,r_=zj,n_=Uj,aR=Vj,lR=Wj,a_=Kj,l_=Qj,i_=Yj;const xu=eR,fu=tR,Go=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(t_,{ref:n,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-neutral-800 dark:bg-neutral-950 dark:ring-offset-neutral-950 dark:placeholder:text-neutral-400 dark:focus:ring-neutral-300",t),...r,children:[s,e.jsx(sR,{asChild:!0,children:e.jsx(Wi,{className:"h-4 w-4 opacity-50"})})]}));Go.displayName=t_.displayName;const o_=h.forwardRef(({className:t,...s},r)=>e.jsx(a_,{ref:r,className:$e("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(a6,{className:"h-4 w-4"})}));o_.displayName=a_.displayName;const c_=h.forwardRef(({className:t,...s},r)=>e.jsx(l_,{ref:r,className:$e("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Wi,{className:"h-4 w-4"})}));c_.displayName=l_.displayName;const Yo=h.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(rR,{children:e.jsxs(s_,{ref:a,className:$e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white text-neutral-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(o_,{}),e.jsx(nR,{className:$e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(c_,{})]})}));Yo.displayName=s_.displayName;const iR=h.forwardRef(({className:t,...s},r)=>e.jsx(r_,{ref:r,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));iR.displayName=r_.displayName;const lr=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(n_,{ref:n,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lR,{children:e.jsx(Bt,{className:"h-4 w-4"})})}),e.jsx(aR,{children:s})]}));lr.displayName=n_.displayName;const oR=h.forwardRef(({className:t,...s},r)=>e.jsx(i_,{ref:r,className:$e("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",t),...s}));oR.displayName=i_.displayName;const cR=ld("inline-flex items-center rounded-full border border-neutral-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 dark:border-neutral-800 dark:focus:ring-neutral-300",{variants:{variant:{default:"border-transparent bg-neutral-900 text-neutral-50 hover:bg-neutral-900/80 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/80",secondary:"border-transparent bg-neutral-100 text-neutral-900 hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",destructive:"border-transparent bg-red-500 text-neutral-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/80",outline:"text-neutral-950 dark:text-neutral-50"}},defaultVariants:{variant:"default"}});function _0({className:t,variant:s,...r}){return e.jsx("div",{className:$e(cR({variant:s}),t),...r})}const dR=async(t,s,r,n,a,l)=>{const i={limit:a,offset:l};return s&&(i.query=s),r&&r!=="all"&&(i.discount_type=r),n&&n!=="all"&&(i.is_active=n),(await ie.get("https://123build-an-online-web-application.launchpulse.ai/api/promo-codes",{params:i,headers:{Authorization:`Bearer ${t}`}})).data},uR=async(t,s)=>(await ie.post("https://123build-an-online-web-application.launchpulse.ai/api/promo-codes",s,{headers:{Authorization:`Bearer ${t}`}})).data,mR=()=>{const t=z(C=>C.authentication_state.auth_token),s=z(C=>C.show_toast);z(C=>C.show_loading),z(C=>C.hide_loading);const[r,n]=h.useState(""),[a,l]=h.useState("all"),[i,o]=h.useState("all"),[c,d]=h.useState(0),[m,u]=h.useState(!1),[p,v]=h.useState({code:"",discount_type:"percentage",discount_value:"",minimum_order_value:"",valid_from:"",valid_until:"",usage_limit:"",is_single_use:!1,is_active:!0}),b=20,x=yt(),{data:y,isLoading:f,error:g,refetch:j}=ve({queryKey:["promo-codes",r,a,i,c],queryFn:()=>dR(t,r,a,i,b,c*b),enabled:!!t,staleTime:3e4}),_=we({mutationFn:C=>uR(t,C),onSuccess:()=>{x.invalidateQueries({queryKey:["promo-codes"]}),s("success","Promo code created successfully"),u(!1),O()},onError:C=>{var R,H;s("error",((H=(R=C.response)==null?void 0:R.data)==null?void 0:H.message)||"Failed to create promo code")}}),S=async()=>{if(!p.code.trim()){s("error","Please enter a promo code");return}if(!p.discount_value||parseFloat(p.discount_value)<=0){s("error","Please enter a valid discount value");return}if(!p.valid_from||!p.valid_until){s("error","Please select valid from and until dates");return}const C={code:p.code.toUpperCase().trim(),discount_type:p.discount_type,discount_value:parseFloat(p.discount_value),minimum_order_value:p.minimum_order_value?parseFloat(p.minimum_order_value):null,valid_from:p.valid_from,valid_until:p.valid_until,usage_limit:p.usage_limit?parseInt(p.usage_limit):null,is_single_use:p.is_single_use,is_active:p.is_active,applicable_locations:null,applicable_products:null};_.mutate(C)},O=()=>{v({code:"",discount_type:"percentage",discount_value:"",minimum_order_value:"",valid_from:"",valid_until:"",usage_limit:"",is_single_use:!1,is_active:!0})},E=C=>C?new Intl.NumberFormat("en-IE",{style:"currency",currency:"EUR"}).format(parseFloat(C)):"N/A",T=C=>new Date(C).toLocaleDateString("en-IE",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Sc,{className:"h-8 w-8 text-purple-600"}),"Promo Codes Management"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create and manage promotional discount codes for your customers"})]}),e.jsxs(Mr,{onClick:()=>u(!0),className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Create Promo Code"]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Dr,{type:"text",placeholder:"Search by code...",value:r,onChange:C=>n(C.target.value),className:"pl-10"})]}),e.jsxs(xu,{value:a,onValueChange:l,children:[e.jsx(Go,{children:e.jsx(fu,{placeholder:"All Discount Types"})}),e.jsxs(Yo,{children:[e.jsx(lr,{value:"all",children:"All Types"}),e.jsx(lr,{value:"percentage",children:"Percentage"}),e.jsx(lr,{value:"fixed",children:"Fixed Amount"})]})]}),e.jsxs(xu,{value:i,onValueChange:o,children:[e.jsx(Go,{children:e.jsx(fu,{placeholder:"All Status"})}),e.jsxs(Yo,{children:[e.jsx(lr,{value:"all",children:"All Status"}),e.jsx(lr,{value:"true",children:"Active"}),e.jsx(lr,{value:"false",children:"Inactive"})]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(He,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load promo codes. Please try again."})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs(xv,{children:[e.jsx(fv,{children:e.jsxs(Xl,{children:[e.jsx(Ir,{children:"Code"}),e.jsx(Ir,{children:"Discount"}),e.jsx(Ir,{children:"Min. Order"}),e.jsx(Ir,{children:"Valid Period"}),e.jsx(Ir,{children:"Usage"}),e.jsx(Ir,{children:"Status"}),e.jsx(Ir,{className:"text-right",children:"Actions"})]})}),e.jsx(gv,{children:f?Array.from({length:5}).map((C,R)=>e.jsx(Xl,{children:e.jsx(qs,{colSpan:7,children:e.jsx("div",{className:"h-12 bg-gray-200 rounded animate-pulse"})})},R)):(y==null?void 0:y.data.length)===0?e.jsx(Xl,{children:e.jsxs(qs,{colSpan:7,className:"text-center py-12",children:[e.jsx(Sc,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No promo codes found"})]})}):y==null?void 0:y.data.map(C=>e.jsxs(Xl,{children:[e.jsx(qs,{className:"font-mono font-semibold text-purple-600",children:C.code}),e.jsx(qs,{children:e.jsx("div",{className:"flex items-center gap-1",children:C.discount_type==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx(sv,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{children:[C.discount_value,"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(hp,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:E(C.discount_value)})]})})}),e.jsx(qs,{children:E(C.minimum_order_value)}),e.jsx(qs,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:T(C.valid_from)}),e.jsxs("div",{className:"text-gray-500",children:["to ",T(C.valid_until)]})]})}),e.jsx(qs,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:C.times_used}),C.usage_limit&&e.jsxs("span",{className:"text-gray-500",children:[" / ",C.usage_limit]})]})}),e.jsx(qs,{children:C.is_active?e.jsxs(_0,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[e.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs(_0,{className:"bg-gray-100 text-gray-800 hover:bg-gray-100",children:[e.jsx(Ee,{className:"h-3 w-3 mr-1"}),"Inactive"]})}),e.jsx(qs,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Mr,{variant:"ghost",size:"sm",children:e.jsx(nv,{className:"h-4 w-4"})}),e.jsx(Mr,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(cl,{className:"h-4 w-4"})})]})})]},C.code_id))})]}),y&&y.total>b&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",c*b+1," to ",Math.min((c+1)*b,y.total)," of"," ",y.total," promo codes"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Mr,{variant:"outline",size:"sm",onClick:()=>d(c-1),disabled:c===0,children:"Previous"}),e.jsx(Mr,{variant:"outline",size:"sm",onClick:()=>d(c+1),disabled:!y.has_more,children:"Next"})]})]})]})]}),e.jsx(qS,{open:m,onOpenChange:u,children:e.jsxs(Jv,{className:"sm:max-w-[600px] overflow-y-auto",children:[e.jsxs(Xv,{children:[e.jsx(ej,{children:"Create New Promo Code"}),e.jsx(tj,{children:"Create a new promotional discount code for your customers."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ar,{htmlFor:"code",children:"Promo Code *"}),e.jsx(Dr,{id:"code",placeholder:"SUMMER2024",value:p.code,onChange:C=>v({...p,code:C.target.value.toUpperCase()})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ar,{htmlFor:"discount_type",children:"Discount Type *"}),e.jsxs(xu,{value:p.discount_type,onValueChange:C=>v({...p,discount_type:C}),children:[e.jsx(Go,{children:e.jsx(fu,{})}),e.jsxs(Yo,{children:[e.jsx(lr,{value:"percentage",children:"Percentage (%)"}),e.jsx(lr,{value:"fixed",children:"Fixed Amount ()"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ar,{htmlFor:"discount_value",children:["Discount Value * ",p.discount_type==="percentage"?"(%)":"()"]}),e.jsx(Dr,{id:"discount_value",type:"number",min:"0",step:p.discount_type==="percentage"?"1":"0.01",placeholder:p.discount_type==="percentage"?"10":"5.00",value:p.discount_value,onChange:C=>v({...p,discount_value:C.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ar,{htmlFor:"minimum_order_value",children:"Minimum Order ()"}),e.jsx(Dr,{id:"minimum_order_value",type:"number",min:"0",step:"0.01",placeholder:"25.00",value:p.minimum_order_value,onChange:C=>v({...p,minimum_order_value:C.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ar,{htmlFor:"valid_from",children:"Valid From *"}),e.jsx(Dr,{id:"valid_from",type:"date",value:p.valid_from,onChange:C=>v({...p,valid_from:C.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ar,{htmlFor:"valid_until",children:"Valid Until *"}),e.jsx(Dr,{id:"valid_until",type:"date",value:p.valid_until,onChange:C=>v({...p,valid_until:C.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ar,{htmlFor:"usage_limit",children:"Usage Limit (optional)"}),e.jsx(Dr,{id:"usage_limit",type:"number",min:"0",placeholder:"Leave empty for unlimited",value:p.usage_limit,onChange:C=>v({...p,usage_limit:C.target.value})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:p.is_active,onChange:C=>v({...p,is_active:C.target.checked}),className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx(ar,{htmlFor:"is_active",className:"font-normal",children:"Activate immediately"})]})]}),e.jsxs(Zv,{className:"mt-6",children:[e.jsx(Mr,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(Mr,{onClick:S,disabled:_.isPending,className:"bg-purple-600 hover:bg-purple-700",children:_.isPending?"Creating...":"Create Promo Code"})]})]})})]})},hR=new u1({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}}),Tp=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading Kake..."})]})}),gu=({children:t})=>{const s=z(n=>n.authentication_state.authentication_status.is_authenticated);return z(n=>n.authentication_state.authentication_status.is_loading)?e.jsx(Tp,{}):s?e.jsx(e.Fragment,{children:t}):e.jsx(Ra,{to:"/login",replace:!0})},Je=({children:t,allowedRoles:s})=>{const r=z(l=>l.authentication_state.authentication_status.is_authenticated),n=z(l=>l.authentication_state.authentication_status.is_loading),a=z(l=>l.authentication_state.current_user);return n?e.jsx(Tp,{}):r?a&&!s.includes(a.user_type)?a.user_type==="admin"?e.jsx(Ra,{to:"/admin/dashboard",replace:!0}):a.user_type==="staff"||a.user_type==="manager"?e.jsx(Ra,{to:"/staff/dashboard",replace:!0}):e.jsx(Ra,{to:"/account",replace:!0}):e.jsx(e.Fragment,{children:t}):e.jsx(Ra,{to:"/login",replace:!0})},pR=({children:t})=>{const s=kn(),r=!["/staff/","/admin/"].some(o=>s.pathname.startsWith(o)),n=!["/login","/register","/forgot-password","/reset-password","/staff/","/admin/","/checkout"].some(o=>s.pathname.startsWith(o)),a=!["/staff/","/admin/","/account","/orders/","/feedback/","/checkout"].some(o=>s.pathname.startsWith(o)),l=z(o=>o.ui_state.cookie_consent_given),i=z(o=>o.authentication_state.authentication_status.is_authenticated);return e.jsxs(e.Fragment,{children:[e.jsx(N6,{}),e.jsx("main",{className:"min-h-screen",children:t}),r&&e.jsx(w6,{}),n&&e.jsx(k6,{}),e.jsx(C6,{}),e.jsx(R6,{}),e.jsx(A6,{}),a&&!l&&e.jsx(T6,{}),i&&e.jsx(F6,{})]})},xR=({children:t})=>{const s=z(c=>c.authentication_state.authentication_status.is_loading),r=z(c=>c.initialize_auth),n=z(c=>c.load_system_settings),a=z(c=>c.fetch_locations),l=z(c=>c.system_config_state.loaded),[i,o]=Ot.useState(null);return h.useEffect(()=>{(async()=>{try{console.log("Starting app initialization..."),console.log("Initializing auth..."),await r(),console.log("Auth initialized"),l||(console.log("Loading system settings..."),await n(),console.log("System settings loaded")),console.log("Fetching locations..."),await a(),console.log("Locations fetched"),console.log("App initialization complete")}catch(d){console.error("App initialization error:",d),o(d instanceof Error?d:new Error(String(d)))}})()},[]),i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Initialization Error"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"The application failed to initialize properly. Please refresh the page to try again."}),e.jsxs("details",{className:"text-sm",children:[e.jsx("summary",{className:"cursor-pointer font-semibold text-gray-600 mb-2",children:"Technical Details"}),e.jsxs("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-xs",children:[i.message,i.stack&&`

${i.stack}`]})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700",children:"Refresh Page"})]})}):s?e.jsx(Tp,{}):e.jsx(e.Fragment,{children:t})},fR=()=>e.jsx(xR,{children:e.jsx(pR,{children:e.jsxs(A2,{children:[e.jsx(Ce,{path:"/",element:e.jsx(D6,{})}),e.jsx(Ce,{path:"/about",element:e.jsx(B6,{})}),e.jsx(Ce,{path:"/location/:location_name",element:e.jsx(W6,{})}),e.jsx(Ce,{path:"/location/:location_name/menu",element:e.jsx(K6,{})}),e.jsx(Ce,{path:"/location/:location_name/product/:product_id",element:e.jsx(Q6,{})}),e.jsx(Ce,{path:"/corporate-order",element:e.jsx(G6,{})}),e.jsx(Ce,{path:"/login",element:e.jsx(Y6,{})}),e.jsx(Ce,{path:"/register",element:e.jsx(J6,{})}),e.jsx(Ce,{path:"/forgot-password",element:e.jsx(X6,{})}),e.jsx(Ce,{path:"/reset-password",element:e.jsx(eC,{})}),e.jsx(Ce,{path:"/checkout",element:e.jsx(gu,{children:e.jsx(sC,{})})}),e.jsx(Ce,{path:"/checkout/payment",element:e.jsx(gu,{children:e.jsx(rC,{})})}),e.jsx(Ce,{path:"/order-confirmation/:order_id",element:e.jsx(aC,{})}),e.jsx(Ce,{path:"/account",element:e.jsx(Je,{allowedRoles:["customer"],children:e.jsx(lC,{})})}),e.jsx(Ce,{path:"/favorites",element:e.jsx(gu,{children:e.jsx(yC,{})})}),e.jsx(Ce,{path:"/orders/:order_id",element:e.jsx(mC,{})}),e.jsx(Ce,{path:"/feedback/order/:order_id",element:e.jsx(gC,{})}),e.jsx(Ce,{path:"/staff/dashboard",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(wC,{})})}),e.jsx(Ce,{path:"/staff/inventory/alerts",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(kC,{})})}),e.jsx(Ce,{path:"/staff/training",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(su,{})})}),e.jsx(Ce,{path:"/staff/courses/:course_id",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(su,{})})}),e.jsx(Ce,{path:"/staff/courses/:course_id/lesson/:lesson_id",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(su,{})})}),e.jsx(Ce,{path:"/staff/feedback/submit",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(Uf,{})})}),e.jsx(Ce,{path:"/staff/feedback/my-feedback",element:e.jsx(Je,{allowedRoles:["staff","manager","admin"],children:e.jsx(Uf,{})})}),e.jsx(Ce,{path:"/admin/dashboard",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(AC,{})})}),e.jsx(Ce,{path:"/admin/orders",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(MC,{})})}),e.jsx(Ce,{path:"/admin/products",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(DC,{})})}),e.jsx(Ce,{path:"/admin/promo_codes",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(mR,{})})}),e.jsx(Ce,{path:"/admin/users",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(BC,{})})}),e.jsx(Ce,{path:"/admin/training",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(go,{})})}),e.jsx(Ce,{path:"/admin/training/create",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(go,{})})}),e.jsx(Ce,{path:"/admin/training/:course_id/edit",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(go,{})})}),e.jsx(Ce,{path:"/admin/training/progress",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(go,{})})}),e.jsx(Ce,{path:"/admin/feedback",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(e5,{})})}),e.jsx(Ce,{path:"/admin/staff-feedback",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(n5,{})})}),e.jsx(Ce,{path:"/admin/inventory/alerts",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(i5,{})})}),e.jsx(Ce,{path:"/admin/settings",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(u5,{})})}),e.jsx(Ce,{path:"/admin/reports",element:e.jsx(Je,{allowedRoles:["admin"],children:e.jsx(m5,{})})}),e.jsx(Ce,{path:"*",element:e.jsx(Ra,{to:"/",replace:!0})})]})})}),gR=()=>e.jsx(m1,{client:hR,children:e.jsx($2,{children:e.jsx(fR,{})})});class yR extends Ot.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("React Error Boundary caught an error:",s,r)}render(){var s,r;return this.state.hasError?e.jsxs("div",{style:{padding:"20px",maxWidth:"600px",margin:"50px auto",fontFamily:"sans-serif",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx("h1",{style:{color:"#dc2626",marginBottom:"16px"},children:"Something went wrong"}),e.jsx("p",{style:{marginBottom:"16px"},children:"The application encountered an unexpected error. Please try refreshing the page."}),e.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#7c3aed",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Refresh Page"}),e.jsxs("details",{style:{marginTop:"20px"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},children:"Technical Details"}),e.jsxs("pre",{style:{background:"#f3f4f6",padding:"10px",borderRadius:"4px",overflow:"auto",fontSize:"12px"},children:[(s=this.state.error)==null?void 0:s.message,((r=this.state.error)==null?void 0:r.stack)&&`

${this.state.error.stack}`]})]})]}):this.props.children}}const bR=()=>e.jsx(yR,{children:e.jsx(gR,{})});window.addEventListener("error",t=>{console.error("Global error caught:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error("Unhandled promise rejection:",t.reason)});try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");console.log("Attempting to render React app..."),Ky(t).render(e.jsx(bR,{})),console.log("React app render initiated successfully")}catch(t){console.error("Fatal error during app initialization:",t);const s=document.getElementById("root");s&&(s.innerHTML=`
			<div style="padding: 20px; max-width: 600px; margin: 50px auto; font-family: sans-serif;">
				<h1 style="color: #dc2626;">Application Failed to Load</h1>
				<p>An error occurred while initializing the application. Please try:</p>
				<ul>
					<li>Refreshing the page</li>
					<li>Clearing your browser cache</li>
					<li>Using a different browser</li>
				</ul>
				<details style="margin-top: 20px;">
					<summary style="cursor: pointer; font-weight: bold;">Technical Details</summary>
					<pre style="background: #f3f4f6; padding: 10px; margin-top: 10px; overflow: auto;">${t instanceof Error?t.message+`
`+t.stack:String(t)}</pre>
				</details>
			</div>
		`)}
